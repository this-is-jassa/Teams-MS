function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){a=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return s})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return k})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(l=(o<3?i(l):o>3?i(e,n,l):i(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function s(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function l(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}s((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return l}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,a=o.length;l<a;l++,i++)r[i]=o[l];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(s,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function s(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},0:function(t,e,n){t.exports=n("zUnb")},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return s})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return k})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(l=(o<3?i(l):o>3?i(e,n,l):i(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function s(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function l(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}s((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return l}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,a=o.length;l<a;l++,i++)r[i]=o[l];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(s,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function s(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"3Kre":function(t,e,n){"use strict";n.r(e);var r=n("wj3C"),i=n.n(r);n("fSjL");var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},l=n("q/0M"),a=n("zVF4"),s=n("S+S0");n.d(e,"factory",(function(){return T})),n.d(e,"getGlobalVars",(function(){return k})),n.d(e,"registerAnalytics",(function(){return I})),n.d(e,"resetGlobalVars",(function(){return C})),n.d(e,"settings",(function(){return E}));var u,c,h,f="https://www.googletagmanager.com/gtag/js",d=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),p=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),v=new l.Logger("@firebase/analytics"),g=((u={})["no-ga-id"]='"measurementId" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',u["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",u["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",u["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",u),m=new a.ErrorFactory("analytics","Analytics",g),y={},_="dataLayer",b="gtag",w=!1;function C(t,e){void 0===t&&(t=!1),void 0===e&&(e={}),w=t,y=e,_="dataLayer",b="gtag"}function k(){return{initializedIdPromisesMap:y}}function E(t){if(w)throw m.create("already-initialized");t.dataLayerName&&(_=t.dataLayerName),t.gtagName&&(b=t.gtagName)}function T(t,e){var n=t.options.measurementId;if(!n)throw m.create("no-ga-id");if(null!=y[n])throw m.create("already-exists",{id:n});if(!w){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(f))return r}return null})()||function(t){var e=document.createElement("script");e.src=f+"?l="+t,e.async=!0,document.head.appendChild(e)}(_),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(_);var r=function(t,e,n){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[n]&&"function"==typeof window[n]&&(r=window[n]),window[n]=function(t,e){return function(n,r,i){if(n===d.EVENT){var o=[];if(i&&i.send_to){var l=i.send_to;Array.isArray(l)||(l=[l]);for(var a=0,s=l;a<s.length;a++){var u=e[s[a]];if(!u){o=[];break}o.push(u)}}if(0===o.length)for(var c=0,h=Object.values(e);c<h.length;c++)o.push(h[c]);Promise.all(o).then((function(){return t(d.EVENT,r,i||{})})).catch((function(t){return v.error(t)}))}else n===d.CONFIG?(e[r]||Promise.resolve()).then((function(){t(d.CONFIG,r,i)})).catch((function(t){return v.error(t)})):t(d.SET,r)}}(r,t),{gtagCore:r,wrappedGtag:window[n]}}(y,_,b);h=r.wrappedGtag,c=r.gtagCore,w=!0}return y[n]=function(t,e,n){return r=this,o=function(){var r,i;return function(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){switch(o.label){case 0:return[4,e.getId()];case 1:return r=o.sent(),n("js",new Date),n(d.CONFIG,t.options.measurementId,((i={}).firebase_id=r,i.origin="firebase",i.update=!0,i)),[2]}}))},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{a(o.next(t))}catch(n){e(n)}}function l(t){try{a(o.throw(t))}catch(n){e(n)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(n,l)}a((o=o.apply(r,[])).next())}));var r,i,o}(t,e,c),{app:t,logEvent:function(t,e,r){return function(t,e,n,r,i){var l=r||{};i&&i.global||(l=o(o({},r),{send_to:e})),t(d.EVENT,n,l||{})}(h,n,t,e,r)},setCurrentScreen:function(t,e){return function(t,e,n,r){r&&r.global?t(d.SET,{screen_name:n}):t(d.CONFIG,e,{update:!0,screen_name:n})}(h,n,t,e)},setUserId:function(t,e){return function(t,e,n,r){r&&r.global?t(d.SET,{user_id:n}):t(d.CONFIG,e,{update:!0,user_id:n})}(h,n,t,e)},setUserProperties:function(t,e){return function(t,e,n,r){if(r&&r.global){for(var i={},o=0,l=Object.keys(n);o<l.length;o++){var a=l[o];i["user_properties."+a]=n[a]}t(d.SET,i)}else t(d.CONFIG,e,{update:!0,user_properties:n})}(h,n,t,e)},setAnalyticsCollectionEnabled:function(t){return function(t,e){window["ga-disable-"+t]=!e}(n,t)}}}function I(t){t.INTERNAL.registerComponent(new s.Component("analytics",(function(t){return T(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:E,EventName:p})),t.INTERNAL.registerComponent(new s.Component("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(e){throw m.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.3.6")}I(i.a)},"3TSf":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return s})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return k})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(l=(o<3?i(l):o>3?i(e,n,l):i(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function s(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function l(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}s((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return l}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,a=o.length;l<a;l++,i++)r[i]=o[l];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(s,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function s(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("os0x"),o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,l=n("q/0M"),a=n("zVF4"),s=n("S+S0"),u=n("x7I3"),c=o.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();h.UNAUTHENTICATED=new h(null),h.i=new h("google-credentials-uid"),h.h=new h("first-party-uid");var f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error),p=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},v=function(){function t(){this.u=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype._=function(){},t.prototype.l=function(t){this.u=t,t(h.UNAUTHENTICATED)},t.prototype.T=function(){this.u=null},t}(),g=function(){function t(t){var e=this;this.I=null,this.currentUser=h.UNAUTHENTICATED,this.R=!1,this.A=0,this.u=null,this.forceRefresh=!1,this.I=function(){e.A++,e.currentUser=e.m(),e.R=!0,e.u&&e.u(e.currentUser)},this.A=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.I):(this.I(null),t.get().then((function(t){e.auth=t,e.I&&e.auth.addAuthTokenListener(e.I)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.A,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.A!==e)throw new d(f.ABORTED,"getToken aborted due to token change.");return n?(_e("string"==typeof n.accessToken),new p(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype._=function(){this.forceRefresh=!0},t.prototype.l=function(t){this.u=t,this.R&&t(this.currentUser)},t.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.I),this.I=null,this.u=null},t.prototype.m=function(){var t=this.auth&&this.auth.getUid();return _e(null===t||"string"==typeof t),new h(t)},t}(),m=function(){function t(t,e){this.P=t,this.V=e,this.type="FirstParty",this.user=h.h}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.V},e=this.P.auth.g([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),y=function(){function t(t,e){this.P=t,this.V=e}return t.prototype.getToken=function(){return Promise.resolve(new m(this.P,this.V))},t.prototype.l=function(t){t(h.h)},t.prototype.T=function(){},t.prototype._=function(){},t}(),_=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new d(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new d(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new d(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new d(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.p=function(t){return this.seconds===t.seconds?Ce(this.nanoseconds,t.nanoseconds):Ce(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),b=function(){function t(t){this.timestamp=t}return t.v=function(e){return new t(e)},t.min=function(){return new t(new _(0,0))},t.prototype.S=function(t){return this.timestamp.p(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.D=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.C=function(){return this.timestamp},t}(),w=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ye(),void 0===n?n=t.length-e:n>t.length-e&&ye(),this.segments=t,this.offset=e,this.F=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.F},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.N(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.$(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.k=function(t){return this.$(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.M=function(){return this.$(this.segments,this.offset,this.length-1)},t.prototype.L=function(){return this.segments[this.offset]},t.prototype.O=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.B=function(){return 0===this.length},t.prototype.q=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.U=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.W=function(){return this.segments.slice(this.offset,this.limit())},t.N=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.$=function(t,n,r){return new e(t,n,r)},e.prototype.j=function(){return this.W().join("/")},e.prototype.toString=function(){return this.j()},e.K=function(t){if(t.indexOf("//")>=0)throw new d(f.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e}(w);C.G=new C([]);var k=/^[_a-zA-Z][_a-zA-Z0-9]*$/,E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.$=function(t,n,r){return new e(t,n,r)},e.H=function(t){return k.test(t)},e.prototype.j=function(){return this.W().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.H(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.j()},e.prototype.Y=function(){return 1===this.length&&"__name__"===this.get(0)},e.J=function(){return new e(["__name__"])},e.X=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},l=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new d(f.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new d(f.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=s,i+=2}else"`"===a?(l=!l,i++):"."!==a||l?(r+=a,i++):(o(),i++)}if(o(),l)throw new d(f.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e}(w);E.G=new E([]);var T=function(){function t(t){this.path=t}return t.Z=function(e){return new t(C.K(e).k(5))},t.prototype.tt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===C.N(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.N=function(t,e){return C.N(t.path,e.path)},t.et=function(t){return t.length%2==0},t.st=function(e){return new t(new C(e.slice()))},t}();function I(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function S(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}T.EMPTY=new T(new C([]));var O=function(){function t(t){this.it=t}return t.fromBase64String=function(e){return new t(fe.nt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return fe.nt().btoa(this.it)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.it)},t.prototype.rt=function(){return 2*this.it.length},t.prototype.S=function(t){return Ce(this.it,t.it)},t.prototype.isEqual=function(t){return this.it===t.it},t}();function P(t){return null==t}function N(t){return-0===t&&1/t==-1/0}function A(t){return"number"==typeof t&&Number.isInteger(t)&&!N(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function D(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function R(t){var e=B(t.mapValue.fields.__local_write_time__.timestampValue);return new _(e.seconds,e.nanos)}O.ht=new O("");var M=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function L(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?D(t)?4:10:ye()}function F(t,e){var n=L(t);if(n!==L(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return R(t).isEqual(R(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=B(t.timestampValue),r=B(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return H(t.bytesValue).isEqual(H(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return z(t.geoPointValue.latitude)===z(e.geoPointValue.latitude)&&z(t.geoPointValue.longitude)===z(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return z(t.integerValue)===z(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=z(t.doubleValue),r=z(e.doubleValue);return n===r?N(n)===N(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ke(t.arrayValue.values||[],e.arrayValue.values||[],F);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(I(n)!==I(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!F(n[i],r[i])))return!1;return!0}(t,e);default:return ye()}}function j(t,e){return void 0!==(t.values||[]).find((function(t){return F(t,e)}))}function V(t,e){var n=L(t),r=L(e);if(n!==r)return Ce(n,r);switch(n){case 0:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=z(t.integerValue||t.doubleValue),r=z(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return U(t.timestampValue,e.timestampValue);case 4:return U(R(t),R(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(t,e){var n=H(t),r=H(e);return n.S(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ce(n[i],r[i]);if(0!==o)return o}return Ce(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ce(z(t.latitude),z(e.latitude));return 0!==n?n:Ce(z(t.longitude),z(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=V(n[i],r[i]);if(o)return o}return Ce(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var l=0;l<r.length&&l<o.length;++l){var a=Ce(r[l],o[l]);if(0!==a)return a;var s=V(n[r[l]],i[o[l]]);if(0!==s)return s}return Ce(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ye()}}function U(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ce(t,e);var n=B(t),r=B(e),i=Ce(n.seconds,r.seconds);return 0!==i?i:Ce(n.nanos,r.nanos)}function q(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=B(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?H(e.bytesValue).toBase64():"referenceValue"in e?T.Z(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var l=o[i];r?r=!1:n+=",",n+=l+":"+t(e.fields[l])}return n+"}"}(e.mapValue):ye();var n}(t)}function B(t){if(_e(!!t),"string"==typeof t){var e=0,n=M.exec(t);if(_e(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:z(t.seconds),nanos:z(t.nanos)}}function z(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function H(t){return"string"==typeof t?O.fromBase64String(t):O.fromUint8Array(t)}function W(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.j()}}function G(t){return!!t&&"integerValue"in t}function K(t){return!!t&&"arrayValue"in t}function Q(t){return!!t&&"nullValue"in t}function $(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Y(t){return!!t&&"mapValue"in t}var X=function(){function t(){}return t.prototype.ot=function(t,e){return function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(e,t)},t.prototype.at=function(t,e){return e},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t}();X.instance=new X;var J=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,e){return this.apply(t)},t.prototype.at=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=et(t),n=function(t){e.some((function(e){return F(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&ke(this.elements,e.elements,F)},t}(),Z=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,e){return this.apply(t)},t.prototype.at=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=et(t),n=function(t){e=e.filter((function(e){return!F(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&ke(this.elements,e.elements,F)},t}(),tt=function(){function t(t,e){this.serializer=t,this.ct=e}return t.prototype.ot=function(t,e){var n=this.ut(t),r=this.asNumber(n)+this.asNumber(this.ct);return G(n)&&G(this.ct)?this.serializer._t(r):this.serializer.lt(r)},t.prototype.at=function(t,e){return e},t.prototype.ut=function(t){return G(e=t)||function(t){return!!t&&"doubleValue"in t}(e)?t:{integerValue:0};var e},t.prototype.isEqual=function(e){return e instanceof t&&F(this.ct,e.ct)},t.prototype.asNumber=function(t){return z(t.integerValue||t.doubleValue)},t}();function et(t){return K(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var nt=function(){function t(t){this.fields=t,t.sort(E.N)}return t.prototype.dt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].q(t))return!0;return!1},t.prototype.isEqual=function(t){return ke(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),rt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),it=function(t,e){this.version=t,this.transformResults=e},ot=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ft=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Et=function(t){return void 0!==this.updateTime?t instanceof yt&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof yt},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}(),lt=function(){function t(){}return t.prototype.wt=function(t){},t.It=function(t){return t instanceof yt?t.version:b.min()},t}(),at=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Rt=r,i.type=0,i}return i.__extends(e,t),e.prototype.at=function(t,e){return this.wt(t),new yt(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.wt(t),!this.Rt.Et(t))return t;var r=lt.It(t);return new yt(this.key,r,this.value,{At:!0})},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Rt.isEqual(t.Rt)},e}(lt),st=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Vt=r,o.Rt=i,o.type=1,o}return i.__extends(e,t),e.prototype.at=function(t,e){if(this.wt(t),!this.Rt.Et(t))return new bt(this.key,e.version);var n=this.gt(t);return new yt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.wt(t),!this.Rt.Et(t))return t;var r=lt.It(t),i=this.gt(t);return new yt(this.key,r,i,{At:!0})},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Vt.isEqual(t.Vt)&&this.Rt.isEqual(t.Rt)},e.prototype.gt=function(t){var e;return e=t instanceof yt?t.data():ft.empty(),this.pt(e)},e.prototype.pt=function(t){var e=this,n=new dt(t);return this.Vt.fields.forEach((function(t){if(!t.B()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.yt()},e}(lt),ut=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Rt=ot.exists(!0),r}return i.__extends(e,t),e.prototype.at=function(t,e){if(this.wt(t),_e(null!=e.transformResults),!this.Rt.Et(t))return new bt(this.key,e.version);var n=this.bt(t),r=this.vt(t,e.transformResults),i=e.version,o=this.St(n.data(),r);return new yt(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.wt(t),!this.Rt.Et(t))return t;var r=this.bt(t),i=this.Dt(n,t,e),o=this.St(r.data(),i);return new yt(this.key,r.version,o,{At:!0})},e.prototype.Pt=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof yt?t.field(i.field):void 0,l=i.transform.ut(o||null);null!=l&&(e=null==e?(new dt).set(i.field,l):e.set(i.field,l))}return e?e.yt():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&ke(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Rt.isEqual(t.Rt)},e.prototype.bt=function(t){return t},e.prototype.vt=function(t,e){var n=[];_e(this.fieldTransforms.length===e.length);for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,l=null;t instanceof yt&&(l=t.field(i.field)),n.push(o.at(l,e[r]))}return n},e.prototype.Dt=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var l=o[i],a=l.transform,s=null;e instanceof yt&&(s=e.field(l.field)),null===s&&n instanceof yt&&(s=n.field(l.field)),r.push(a.ot(s,t))}return r},e.prototype.St=function(t,e){for(var n=new dt(t),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,e[r]);return n.yt()},e}(lt),ct=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Rt=n,r.type=3,r}return i.__extends(e,t),e.prototype.at=function(t,e){return this.wt(t),new _t(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){return this.wt(t),this.Rt.Et(t)?new _t(this.key,b.min()):t},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},e}(lt),ht=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Rt=n,r.type=4,r}return i.__extends(e,t),e.prototype.at=function(t,e){ye()},e.prototype.ot=function(t,e,n){ye()},e.prototype.Pt=function(t){ye()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},e}(lt),ft=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.B())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Y(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.O()])||null},t.prototype.isEqual=function(t){return F(this.proto,t.proto)},t}(),dt=function(){function t(t){void 0===t&&(t=ft.empty()),this.Ct=t,this.Ft=new Map}return t.prototype.set=function(t,e){return this.Nt(t,e),this},t.prototype.delete=function(t){return this.Nt(t,null),this},t.prototype.Nt=function(t,e){for(var n=this.Ft,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===L(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.O(),e)},t.prototype.yt=function(){var t=this.$t(E.G,this.Ft);return null!=t?new ft(t):this.Ct},t.prototype.$t=function(t,e){var n=this,r=!1,i=this.Ct.field(t),o=Y(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var l=n.$t(t.child(i),e);null!=l&&(o[i]=l,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function pt(t){var e=[];return S(t.fields||{},(function(t,n){var r=new E([t]);if(Y(n)){var i=pt(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,l=i;o<l.length;o++)e.push(r.child(l[o]))}else e.push(r)})),new nt(e)}var vt,gt,mt=function(t,e){this.key=t,this.version=e},yt=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).kt=r,o.At=!!i.At,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(e,t),e.prototype.field=function(t){return this.kt.field(t)},e.prototype.data=function(){return this.kt},e.prototype.Mt=function(){return this.kt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.At===t.At&&this.hasCommittedMutations===t.hasCommittedMutations&&this.kt.isEqual(t.kt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.kt.toString()+", {hasLocalMutations: "+this.At+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.At||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e}(mt),_t=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(mt),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(mt),wt=function(){function t(t,e,n,r,i,o,l){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===l&&(l=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=l,this.xt=null}return t.prototype.canonicalId=function(){if(null===this.xt){var t=this.path.j();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),P(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.xt=t}return this.xt},t.prototype.toString=function(){var t=this.path.j();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),P(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(t.filters[n]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Lt=function(){return T.et(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),Ct=function(){function t(t,e,n,r,i,o,l,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===l&&(l=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Ot=n,this.filters=r,this.limit=i,this.Bt=o,this.startAt=l,this.endAt=a,this.qt=null,this.Ut=null,this.startAt&&this.Qt(this.startAt),this.endAt&&this.Qt(this.endAt)}return t.Wt=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.qt){this.qt=[];var t=this.jt(),e=this.Kt();if(null!==t&&null===e)t.Y()||this.qt.push(new Pt(t)),this.qt.push(new Pt(E.J(),"asc"));else{for(var n=!1,r=0,i=this.Ot;r<i.length;r++){var o=i[r];this.qt.push(o),o.field.Y()&&(n=!0)}if(!n){var l=this.Ot.length>0?this.Ot[this.Ot.length-1].dir:"asc";this.qt.push(new Pt(E.J(),l))}}}return this.qt},enumerable:!0,configurable:!0}),t.prototype.Gt=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.Ot.slice(),n,this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.zt=function(e){var n=this.Ot.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.Ht=function(e){return new t(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Yt=function(e){return new t(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.Jt=function(e){return new t(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),this.limit,this.Bt,e,this.endAt)},t.prototype.Xt=function(e){return new t(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,e)},t.prototype.Zt=function(e){return new t(e,null,this.Ot.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.te=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Ot.length||1===this.Ot.length&&this.Ot[0].field.Y())},t.prototype.canonicalId=function(){return this.ee().canonicalId()+"|lt:"+this.Bt},t.prototype.toString=function(){return"Query(target="+this.ee().toString()+"; limitType="+this.Bt+")"},t.prototype.isEqual=function(t){return this.ee().isEqual(t.ee())&&this.Bt===t.Bt},t.prototype.se=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],l=o.compare(t,e);if(0!==l)return l;n=n||o.field.Y()}return 0},t.prototype.matches=function(t){return this.ie(t)&&this.ne(t)&&this.re(t)&&this.he(t)},t.prototype.oe=function(){return!P(this.limit)&&"F"===this.Bt},t.prototype.ae=function(){return!P(this.limit)&&"L"===this.Bt},t.prototype.Kt=function(){return this.Ot.length>0?this.Ot[0].field:null},t.prototype.jt=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof kt&&n.ue())return n.field}return null},t.prototype.ce=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof kt&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Lt=function(){return this.ee().Lt()},t.prototype._e=function(){return null!==this.collectionGroup},t.prototype.ee=function(){if(!this.Ut)if("F"===this.Bt)this.Ut=new wt(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new Pt(r.field,"desc"===r.dir?"asc":"desc"))}var i=this.endAt?new Ot(this.endAt.position,!this.endAt.before):null,o=this.startAt?new Ot(this.startAt.position,!this.startAt.before):null;this.Ut=new wt(this.path,this.collectionGroup,t,this.filters,this.limit,i,o)}return this.Ut},t.prototype.ie=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.tt(this.collectionGroup)&&this.path.q(e):T.et(this.path)?this.path.isEqual(e):this.path.U(e)},t.prototype.ne=function(t){for(var e=0,n=this.Ot;e<n.length;e++){var r=n[e];if(!r.field.Y()&&null===t.field(r.field))return!1}return!0},t.prototype.re=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.he=function(t){return!(this.startAt&&!this.startAt.le(this.orderBy,t)||this.endAt&&this.endAt.le(this.orderBy,t))},t.prototype.Qt=function(t){},t}(),kt=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return i.__extends(e,t),e.create=function(t,n,r){if(t.Y())return"in"===n?new Tt(t,r):new Et(t,n,r);if(Q(r)){if("=="!==n)throw new d(f.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if($(r)){if("=="!==n)throw new d(f.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new It(t,r):"in"===n?new St(t,r):"array-contains-any"===n?new xt(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&L(this.value)===L(e)&&this.de(V(e,this.value))},e.prototype.de=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return ye()}},e.prototype.ue=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.j()+this.op.toString()+q(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op===t.op&&this.field.isEqual(t.field)&&F(this.value,t.value)},e.prototype.toString=function(){return this.field.j()+" "+this.op+" "+q(this.value)},e}((function(){})),Et=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=T.Z(r.referenceValue),i}return i.__extends(e,t),e.prototype.matches=function(t){var e=T.N(t.key,this.key);return this.de(e)},e}(kt),Tt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(t){return T.Z(t.referenceValue)})),r}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(kt),It=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return K(e)&&j(e.arrayValue,this.value)},e}(kt),St=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&j(this.value.arrayValue,e)},e}(kt),xt=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!K(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return j(e.value.arrayValue,t)}))},e}(kt),Ot=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return q(t)})).join(",")},t.prototype.le=function(t,e){for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(n=i.field.Y()?T.N(T.Z(o.referenceValue),e.key):V(o,e.field(i.field)),"desc"===i.dir&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!F(this.position[e],t.position[e]))return!1;return!0},t}(),Pt=function(){function t(t,e){this.field=t,void 0===e&&(e="asc"),this.dir=e,this.fe=t.Y()}return t.prototype.compare=function(t,e){var n=this.fe?T.N(t.key,e.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?V(r,i):ye()}(this.field,t,e);switch(this.dir){case"asc":return n;case"desc":return-1*n;default:return ye()}},t.prototype.canonicalId=function(){return this.field.j()+this.dir.toString()},t.prototype.toString=function(){return this.field.j()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Nt=function(){function t(t,e,n,r,i,o,l){void 0===i&&(i=b.min()),void 0===o&&(o=b.min()),void 0===l&&(l=O.ht),this.target=t,this.targetId=e,this.Te=n,this.sequenceNumber=r,this.Ee=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l}return t.prototype.we=function(e){return new t(this.target,this.targetId,this.Te,e,this.Ee,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Ie=function(e,n){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Re=function(e){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,this.Ee,e,this.resumeToken)},t}(),At=function(t){this.count=t};function Dt(t){switch(t){case f.OK:return ye();case f.CANCELLED:case f.UNKNOWN:case f.DEADLINE_EXCEEDED:case f.RESOURCE_EXHAUSTED:case f.INTERNAL:case f.UNAVAILABLE:case f.UNAUTHENTICATED:return!1;case f.INVALID_ARGUMENT:case f.NOT_FOUND:case f.ALREADY_EXISTS:case f.PERMISSION_DENIED:case f.FAILED_PRECONDITION:case f.ABORTED:case f.OUT_OF_RANGE:case f.UNIMPLEMENTED:case f.DATA_LOSS:return!0;default:return ye()}}function Rt(t){if(void 0===t)return ge("GRPC error has no .code"),f.UNKNOWN;switch(t){case vt.OK:return f.OK;case vt.CANCELLED:return f.CANCELLED;case vt.UNKNOWN:return f.UNKNOWN;case vt.DEADLINE_EXCEEDED:return f.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return f.RESOURCE_EXHAUSTED;case vt.INTERNAL:return f.INTERNAL;case vt.UNAVAILABLE:return f.UNAVAILABLE;case vt.UNAUTHENTICATED:return f.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return f.INVALID_ARGUMENT;case vt.NOT_FOUND:return f.NOT_FOUND;case vt.ALREADY_EXISTS:return f.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return f.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return f.FAILED_PRECONDITION;case vt.ABORTED:return f.ABORTED;case vt.OUT_OF_RANGE:return f.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return f.UNIMPLEMENTED;case vt.DATA_LOSS:return f.DATA_LOSS;default:return ye()}}(gt=vt||(vt={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";var Mt=function(){function t(t,e){this.N=t,this.root=e||Ft.EMPTY}return t.prototype.Ae=function(e,n){return new t(this.N,this.root.Ae(e,n,this.N).me(null,null,Ft.Pe,null,null))},t.prototype.remove=function(e){return new t(this.N,this.root.remove(e,this.N).me(null,null,Ft.Pe,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.B();){var n=this.N(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.B();){var r=this.N(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.B=function(){return this.root.B()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.Ve=function(){return this.root.Ve()},t.prototype.ge=function(){return this.root.ge()},t.prototype.pe=function(t){return this.root.pe(t)},t.prototype.forEach=function(t){this.pe((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.pe((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ye=function(t){return this.root.ye(t)},t.prototype.be=function(){return new Lt(this.root,null,this.N,!1)},t.prototype.ve=function(t){return new Lt(this.root,t,this.N,!1)},t.prototype.Se=function(){return new Lt(this.root,null,this.N,!0)},t.prototype.De=function(t){return new Lt(this.root,t,this.N,!0)},t}(),Lt=function(){function t(t,e,n,r){this.Ce=r,this.Fe=[];for(var i=1;!t.B();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Ce?t.left:t.right;else{if(0===i){this.Fe.push(t);break}this.Fe.push(t),t=this.Ce?t.right:t.left}}return t.prototype.Ne=function(){var t=this.Fe.pop(),e={key:t.key,value:t.value};if(this.Ce)for(t=t.left;!t.B();)this.Fe.push(t),t=t.right;else for(t=t.right;!t.B();)this.Fe.push(t),t=t.left;return e},t.prototype.$e=function(){return this.Fe.length>0},t.prototype.ke=function(){if(0===this.Fe.length)return null;var t=this.Fe[this.Fe.length-1];return{key:t.key,value:t.value}},t}(),Ft=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.me=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.B=function(){return!1},t.prototype.pe=function(t){return this.left.pe(t)||t(this.key,this.value)||this.right.pe(t)},t.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},t.prototype.min=function(){return this.left.B()?this:this.left.min()},t.prototype.Ve=function(){return this.min().key},t.prototype.ge=function(){return this.right.B()?this.key:this.right.ge()},t.prototype.Ae=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.me(null,null,null,r.left.Ae(t,e,n),null):0===i?r.me(null,e,null,null,null):r.me(null,null,null,null,r.right.Ae(t,e,n))).Me()},t.prototype.xe=function(){if(this.left.B())return t.EMPTY;var e=this;return e.left.Le()||e.left.left.Le()||(e=e.Oe()),(e=e.me(null,null,null,e.left.xe(),null)).Me()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.B()||i.left.Le()||i.left.left.Le()||(i=i.Oe()),i=i.me(null,null,null,i.left.remove(e,n),null);else{if(i.left.Le()&&(i=i.Be()),i.right.B()||i.right.Le()||i.right.left.Le()||(i=i.qe()),0===n(e,i.key)){if(i.right.B())return t.EMPTY;r=i.right.min(),i=i.me(r.key,r.value,null,null,i.right.xe())}i=i.me(null,null,null,null,i.right.remove(e,n))}return i.Me()},t.prototype.Le=function(){return this.color},t.prototype.Me=function(){var t=this;return t.right.Le()&&!t.left.Le()&&(t=t.Ue()),t.left.Le()&&t.left.left.Le()&&(t=t.Be()),t.left.Le()&&t.right.Le()&&(t=t.Qe()),t},t.prototype.Oe=function(){var t=this.Qe();return t.right.left.Le()&&(t=(t=(t=t.me(null,null,null,null,t.right.Be())).Ue()).Qe()),t},t.prototype.qe=function(){var t=this.Qe();return t.left.left.Le()&&(t=(t=t.Be()).Qe()),t},t.prototype.Ue=function(){var e=this.me(null,null,t.RED,null,this.right.left);return this.right.me(null,null,this.color,e,null)},t.prototype.Be=function(){var e=this.me(null,null,t.RED,this.left.right,null);return this.left.me(null,null,this.color,null,e)},t.prototype.Qe=function(){var t=this.left.me(null,null,!this.left.color,null,null),e=this.right.me(null,null,!this.right.color,null,null);return this.me(null,null,!this.color,t,e)},t.prototype.We=function(){var t=this.je();return Math.pow(2,t)<=this.size+1},t.prototype.je=function(){if(this.Le()&&this.left.Le())throw ye();if(this.right.Le())throw ye();var t=this.left.je();if(t!==this.right.je())throw ye();return t+(this.Le()?0:1)},t}();Ft.EMPTY=null,Ft.RED=!0,Ft.Pe=!1,Ft.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ye()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ye()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ye()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ye()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ye()},enumerable:!0,configurable:!0}),t.prototype.me=function(t,e,n,r,i){return this},t.prototype.Ae=function(t,e,n){return new Ft(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.B=function(){return!0},t.prototype.pe=function(t){return!1},t.prototype.ye=function(t){return!1},t.prototype.Ve=function(){return null},t.prototype.ge=function(){return null},t.prototype.Le=function(){return!1},t.prototype.We=function(){return!0},t.prototype.je=function(){return 0},t}());var jt=function(){function t(t){this.N=t,this.data=new Mt(this.N)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Ve()},t.prototype.last=function(){return this.data.ge()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pe((function(e,n){return t(e),!1}))},t.prototype.Ke=function(t,e){for(var n=this.data.ve(t[0]);n.$e();){var r=n.Ne();if(this.N(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ge=function(t,e){var n;for(n=void 0!==e?this.data.ve(e):this.data.be();n.$e();)if(!t(n.Ne().key))return},t.prototype.ze=function(t){var e=this.data.ve(t);return e.$e()?e.Ne().key:null},t.prototype.be=function(){return new Vt(this.data.be())},t.prototype.ve=function(t){return new Vt(this.data.ve(t))},t.prototype.add=function(t){return this.me(this.data.remove(t).Ae(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.me(this.data.remove(t)):this},t.prototype.B=function(){return this.data.B()},t.prototype.He=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.be(),r=e.data.be();n.$e();){var i=n.Ne().key,o=r.Ne().key;if(0!==this.N(i,o))return!1}return!0},t.prototype.W=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.me=function(e){var n=new t(this.N);return n.data=e,n},t}(),Vt=function(){function t(t){this.Ye=t}return t.prototype.Ne=function(){return this.Ye.Ne().key},t.prototype.$e=function(){return this.Ye.$e()},t}(),Ut=new Mt(T.N);function qt(){return Ut}function Bt(){return qt()}var zt=new Mt(T.N);function Ht(){return zt}var Wt=new Mt(T.N),Gt=new jt(T.N);function Kt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Gt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Qt=new jt(Ce);function $t(){return Qt}var Yt=function(){function t(t){this.N=t?function(e,n){return t(e,n)||T.N(e.key,n.key)}:function(t,e){return T.N(t.key,e.key)},this.Je=Ht(),this.Xe=new Mt(this.N)}return t.Ze=function(e){return new t(e.N)},t.prototype.has=function(t){return null!=this.Je.get(t)},t.prototype.get=function(t){return this.Je.get(t)},t.prototype.first=function(){return this.Xe.Ve()},t.prototype.last=function(){return this.Xe.ge()},t.prototype.B=function(){return this.Xe.B()},t.prototype.indexOf=function(t){var e=this.Je.get(t);return e?this.Xe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Xe.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.Xe.pe((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.me(e.Je.Ae(t.key,t),e.Xe.Ae(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.me(this.Je.remove(t),this.Xe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Xe.be(),r=e.Xe.be();n.$e();){var i=n.Ne().key,o=r.Ne().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.me=function(e,n){var r=new t;return r.N=this.N,r.Je=e,r.Xe=n,r},t}(),Xt=function(){function t(){this.ts=new Mt(T.N)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ts.get(e);n?0!==t.type&&3===n.type?this.ts=this.ts.Ae(e,t):3===t.type&&1!==n.type?this.ts=this.ts.Ae(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ts=this.ts.Ae(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ts=this.ts.Ae(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ts=this.ts.remove(e):1===t.type&&2===n.type?this.ts=this.ts.Ae(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ts=this.ts.Ae(e,{type:2,doc:t.doc}):ye():this.ts=this.ts.Ae(e,t)},t.prototype.es=function(){var t=[];return this.ts.pe((function(e,n){t.push(n)})),t},t}(),Jt=function(){function t(t,e,n,r,i,o,l,a){this.query=t,this.docs=e,this.ss=n,this.docChanges=r,this.ns=i,this.fromCache=o,this.rs=l,this.hs=a}return t.os=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Yt.Ze(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ns.B()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.rs===t.rs&&this.ns.isEqual(t.ns)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ss.isEqual(t.ss)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Zt=function(){function t(t,e,n,r,i){this.Ee=t,this.as=e,this.us=n,this.cs=r,this._s=i}return t.ls=function(e,n){var r=new Map;return r.set(e,te.ds(e,n)),new t(b.min(),r,$t(),qt(),Kt())},t}(),te=function(){function t(t,e,n,r,i){this.resumeToken=t,this.fs=e,this.Ts=n,this.Es=r,this.ws=i}return t.ds=function(e,n){return new t(O.ht,n,Kt(),Kt(),Kt())},t}(),ee=function(t,e,n,r){this.Is=t,this.removedTargetIds=e,this.key=n,this.Rs=r},ne=function(t,e){this.targetId=t,this.As=e},re=function(t,e,n,r){void 0===n&&(n=O.ht),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ie=function(){function t(){this.ms=0,this.Ps=ae(),this.Vs=O.ht,this.gs=!1,this.ps=!0}return Object.defineProperty(t.prototype,"fs",{get:function(){return this.gs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Vs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ys",{get:function(){return 0!==this.ms},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bs",{get:function(){return this.ps},enumerable:!0,configurable:!0}),t.prototype.vs=function(t){t.rt()>0&&(this.ps=!0,this.Vs=t)},t.prototype.Ss=function(){var t=Kt(),e=Kt(),n=Kt();return this.Ps.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ye()}})),new te(this.Vs,this.gs,t,e,n)},t.prototype.Ds=function(){this.ps=!1,this.Ps=ae()},t.prototype.Cs=function(t,e){this.ps=!0,this.Ps=this.Ps.Ae(t,e)},t.prototype.Fs=function(t){this.ps=!0,this.Ps=this.Ps.remove(t)},t.prototype.Ns=function(){this.ms+=1},t.prototype.$s=function(){this.ms-=1},t.prototype.ks=function(){this.ps=!0,this.gs=!0},t}(),oe=function(){function t(t){this.Ms=t,this.xs=new Map,this.Ls=qt(),this.Os=le(),this.Bs=new jt(Ce)}return t.prototype.qs=function(t){for(var e=0,n=t.Is;e<n.length;e++){var r=n[e];t.Rs instanceof yt?this.Us(r,t.Rs):t.Rs instanceof _t&&this.Qs(r,t.key,t.Rs)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Qs(o[i],t.key,t.Rs)},t.prototype.Ws=function(t){var e=this;this.js(t,(function(n){var r=e.Ks(n);switch(t.state){case 0:e.Gs(n)&&r.vs(t.resumeToken);break;case 1:r.$s(),r.ys||r.Ds(),r.vs(t.resumeToken);break;case 2:r.$s(),r.ys||e.removeTarget(n);break;case 3:e.Gs(n)&&(r.ks(),r.vs(t.resumeToken));break;case 4:e.Gs(n)&&(e.zs(n),r.vs(t.resumeToken));break;default:ye()}}))},t.prototype.js=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.xs.forEach((function(t,r){n.Gs(r)&&e(r)}))},t.prototype.Hs=function(t){var e=t.targetId,n=t.As.count,r=this.Ys(e);if(r){var i=r.target;if(i.Lt())if(0===n){var o=new T(i.path);this.Qs(e,o,new _t(o,b.min()))}else _e(1===n);else this.Js(e)!==n&&(this.zs(e),this.Bs=this.Bs.add(e))}},t.prototype.Xs=function(t){var e=this,n=new Map;this.xs.forEach((function(r,i){var o=e.Ys(i);if(o){if(r.fs&&o.target.Lt()){var l=new T(o.target.path);null!==e.Ls.get(l)||e.Zs(i,l)||e.Qs(i,l,new _t(l,t))}r.bs&&(n.set(i,r.Ss()),r.Ds())}}));var r=Kt();this.Os.forEach((function(t,n){var i=!0;n.Ge((function(t){var n=e.Ys(t);return!n||2===n.Te||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Zt(t,n,this.Bs,this.Ls,r);return this.Ls=qt(),this.Os=le(),this.Bs=new jt(Ce),i},t.prototype.Us=function(t,e){if(this.Gs(t)){var n=this.Zs(t,e.key)?2:0;this.Ks(t).Cs(e.key,n),this.Ls=this.Ls.Ae(e.key,e),this.Os=this.Os.Ae(e.key,this.ti(e.key).add(t))}},t.prototype.Qs=function(t,e,n){if(this.Gs(t)){var r=this.Ks(t);this.Zs(t,e)?r.Cs(e,1):r.Fs(e),this.Os=this.Os.Ae(e,this.ti(e).delete(t)),n&&(this.Ls=this.Ls.Ae(e,n))}},t.prototype.removeTarget=function(t){this.xs.delete(t)},t.prototype.Js=function(t){var e=this.Ks(t).Ss();return this.Ms.ei(t).size+e.Ts.size-e.ws.size},t.prototype.Ns=function(t){this.Ks(t).Ns()},t.prototype.Ks=function(t){var e=this.xs.get(t);return e||(e=new ie,this.xs.set(t,e)),e},t.prototype.ti=function(t){var e=this.Os.get(t);return e||(e=new jt(Ce),this.Os=this.Os.Ae(t,e)),e},t.prototype.Gs=function(t){var e=null!==this.Ys(t);return e||ve("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ys=function(t){var e=this.xs.get(t);return e&&e.ys?null:this.Ms.si(t)},t.prototype.zs=function(t){var e=this;this.xs.set(t,new ie),this.Ms.ei(t).forEach((function(n){e.Qs(t,n,null)}))},t.prototype.Zs=function(t,e){return this.Ms.ei(t).has(e)},t}();function le(){return new Mt(T.N)}function ae(){return new Mt(T.N)}var se={asc:"ASCENDING",desc:"DESCENDING"},ue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ce=function(){function t(t,e){this.ii=t,this.options=e}return t.prototype.ni=function(t){var e=void 0===t.code?f.UNKNOWN:Rt(t.code);return new d(e,t.message||"")},t.prototype.ri=function(t){return this.options.hi||P(t)?t:{value:t}},t.prototype.oi=function(t){var e;return P(e="object"==typeof t?t.value:t)?null:e},t.prototype._t=function(t){return{integerValue:""+t}},t.prototype.lt=function(t){if(this.options.hi){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:N(t)?"-0":t}},t.prototype.ai=function(t){return A(t)?this._t(t):this.lt(t)},t.prototype.C=function(t){return this.options.hi?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.v=function(t){var e=B(t);return new _(e.seconds,e.nanos)},t.prototype.ui=function(t){return this.options.hi?t.toBase64():t.toUint8Array()},t.prototype.ci=function(t){return this.options.hi?(_e(void 0===t||"string"==typeof t),O.fromBase64String(t||"")):(_e(void 0===t||t instanceof Uint8Array),O.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.C(t.C())},t.prototype.fromVersion=function(t){return _e(!!t),b.v(this.v(t))},t.prototype._i=function(t,e){return this.li(e||this.ii).child("documents").child(t).j()},t.prototype.di=function(t){var e=C.K(t);return _e(he(e)),e},t.prototype.fi=function(t){return this._i(t.path)},t.prototype.Z=function(t){var e=this.di(t);return _e(e.get(1)===this.ii.projectId),_e(!e.get(3)&&!this.ii.database||e.get(3)===this.ii.database),new T(this.Ti(e))},t.prototype.Ei=function(t){return this._i(t)},t.prototype.wi=function(t){var e=this.di(t);return 4===e.length?C.G:this.Ti(e)},Object.defineProperty(t.prototype,"Ii",{get:function(){return new C(["projects",this.ii.projectId,"databases",this.ii.database]).j()},enumerable:!0,configurable:!0}),t.prototype.li=function(t){return new C(["projects",t.projectId,"databases",t.database])},t.prototype.Ti=function(t){return _e(t.length>4&&"documents"===t.get(4)),t.k(5)},t.prototype.Ri=function(t,e){return{name:this.fi(t),fields:e.proto.mapValue.fields}},t.prototype.Ai=function(t){return{name:this.fi(t.key),fields:t.Mt().mapValue.fields,updateTime:this.C(t.version.C())}},t.prototype.mi=function(t,e){var n=this.Z(t.name),r=this.fromVersion(t.updateTime),i=new ft({mapValue:{fields:t.fields}});return new yt(n,r,i,{hasCommittedMutations:!!e})},t.prototype.Pi=function(t){_e(!!t.found);var e=this.Z(t.found.name),n=this.fromVersion(t.found.updateTime),r=new ft({mapValue:{fields:t.found.fields}});return new yt(e,n,r,{})},t.prototype.Vi=function(t){_e(!!t.missing),_e(!!t.readTime);var e=this.Z(t.missing),n=this.fromVersion(t.readTime);return new _t(e,n)},t.prototype.gi=function(t){return"found"in t?this.Pi(t):"missing"in t?this.Vi(t):ye()},t.prototype.pi=function(t){var e;if("targetChange"in t){var n=this.yi(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=this.ci(t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&this.ni(o);e=new re(n,r,i,l||null)}else if("documentChange"in t){var a=t.documentChange,s=this.Z(a.document.name),u=this.fromVersion(a.document.updateTime),c=new ft({mapValue:{fields:a.document.fields}}),h=new yt(s,u,c,{});e=new ee(a.targetIds||[],a.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){var f=t.documentDelete,d=this.Z(f.document),p=f.readTime?this.fromVersion(f.readTime):b.min(),v=new _t(d,p);e=new ee([],f.removedTargetIds||[],v.key,v)}else if("documentRemove"in t){var g=t.documentRemove,m=this.Z(g.document);e=new ee([],g.removedTargetIds||[],m,null)}else{if(!("filter"in t))return ye();var y=t.filter,_=new At(y.count||0);e=new ne(y.targetId,_)}return e},t.prototype.yi=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ye()},t.prototype.bi=function(t){if(!("targetChange"in t))return b.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?b.min():e.readTime?this.fromVersion(e.readTime):b.min()},t.prototype.vi=function(t){var e,n=this;if(t instanceof at)e={update:this.Ri(t.key,t.value)};else if(t instanceof ct)e={delete:this.fi(t.key)};else if(t instanceof st)e={update:this.Ri(t.key,t.data),updateMask:this.Si(t.Vt)};else if(t instanceof ut)e={transform:{document:this.fi(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Di(t)}))}};else{if(!(t instanceof ht))return ye();e={verify:this.fi(t.key)}}return t.Rt.Tt||(e.currentDocument=this.Ci(t.Rt)),e},t.prototype.Fi=function(t){var e=this,n=t.currentDocument?this.Ni(t.currentDocument):ot.ft();if(t.update){var r=this.Z(t.update.name),i=new ft({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.$i(t.updateMask);return new st(r,i,o,n)}return new at(r,i,n)}if(t.delete){var l=this.Z(t.delete);return new ct(l,n)}if(t.transform){var a=this.Z(t.transform.document),s=t.transform.fieldTransforms.map((function(t){return e.ki(t)}));return _e(!0===n.exists),new ut(a,s)}if(t.verify){var u=this.Z(t.verify);return new ht(u,n)}return ye()},t.prototype.Ci=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ye()},t.prototype.Ni=function(t){return void 0!==t.updateTime?ot.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ot.exists(t.exists):ot.ft()},t.prototype.Mi=function(t,e){var n=this.fromVersion(t.updateTime?t.updateTime:e);n.isEqual(b.min())&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new it(n,r)},t.prototype.xi=function(t,e){var n=this;return t&&t.length>0?(_e(void 0!==e),t.map((function(t){return n.Mi(t,e)}))):[]},t.prototype.Di=function(t){var e=t.transform;if(e instanceof X)return{fieldPath:t.field.j(),setToServerValue:"REQUEST_TIME"};if(e instanceof J)return{fieldPath:t.field.j(),appendMissingElements:{values:e.elements}};if(e instanceof Z)return{fieldPath:t.field.j(),removeAllFromArray:{values:e.elements}};if(e instanceof tt)return{fieldPath:t.field.j(),increment:e.ct};throw ye()},t.prototype.ki=function(t){var e=null;"setToServerValue"in t?(_e("REQUEST_TIME"===t.setToServerValue),e=X.instance):"appendMissingElements"in t?e=new J(t.appendMissingElements.values||[]):"removeAllFromArray"in t?e=new Z(t.removeAllFromArray.values||[]):"increment"in t?e=new tt(this,t.increment):ye();var n=E.X(t.fieldPath);return new rt(n,e)},t.prototype.Li=function(t){return{documents:[this.Ei(t.path)]}},t.prototype.Oi=function(t){return _e(1===t.documents.length),Ct.Wt(this.wi(t.documents[0])).ee()},t.prototype.Bi=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=this.Ei(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=this.Ei(n.M()),e.structuredQuery.from=[{collectionId:n.O()}]);var r=this.qi(t.filters);r&&(e.structuredQuery.where=r);var i=this.Ui(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.ri(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Qi(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Qi(t.endAt)),e},t.prototype.Wi=function(t){var e=this.wi(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_e(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var l=[];n.where&&(l=this.ji(n.where));var a=[];n.orderBy&&(a=this.Ki(n.orderBy));var s=null;n.limit&&(s=this.oi(n.limit));var u=null;n.startAt&&(u=this.Gi(n.startAt));var c=null;return n.endAt&&(c=this.Gi(n.endAt)),new Ct(e,i,a,l,s,"F",u,c).ee()},t.prototype.zi=function(t){var e=this.Hi(t.Te);return null==e?null:{"goog-listen-tags":e}},t.prototype.Hi=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ye()}},t.prototype.ee=function(t){var e,n=t.target;return(e=n.Lt()?{documents:this.Li(n)}:{query:this.Bi(n)}).targetId=t.targetId,t.resumeToken.rt()>0&&(e.resumeToken=this.ui(t.resumeToken)),e},t.prototype.qi=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof kt?e.Yi(t):ye()}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.ji=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.Ji(t)]:void 0!==t.fieldFilter?[this.Xi(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.ji(t)})).reduce((function(t,e){return t.concat(e)})):ye():[]},t.prototype.Ui=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.Zi(t)}))},t.prototype.Ki=function(t){var e=this;return t.map((function(t){return e.tn(t)}))},t.prototype.Qi=function(t){return{before:t.before,values:t.position}},t.prototype.Gi=function(t){return new Ot(t.values||[],!!t.before)},t.prototype.en=function(t){return se[t]},t.prototype.sn=function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}},t.prototype.nn=function(t){return ue[t]},t.prototype.rn=function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ye()}},t.prototype.hn=function(t){return{fieldPath:t.j()}},t.prototype.on=function(t){return E.X(t.fieldPath)},t.prototype.Zi=function(t){return{field:this.hn(t.field),direction:this.en(t.dir)}},t.prototype.tn=function(t){return new Pt(this.on(t.field),this.sn(t.direction))},t.prototype.Xi=function(t){return kt.create(this.on(t.fieldFilter.field),this.rn(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.Yi=function(t){if("=="===t.op){if($(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NAN"}};if(Q(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.hn(t.field),op:this.nn(t.op),value:t.value}}},t.prototype.Ji=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.on(t.unaryFilter.field);return kt.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=this.on(t.unaryFilter.field);return kt.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ye()}},t.prototype.Si=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.j())})),{fieldPaths:e}},t.prototype.$i=function(t){return new nt((t.fieldPaths||[]).map((function(t){return E.X(t)})))},t}();function he(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var fe=function(){function t(){}return t.an=function(e){t.platform&&ye(),t.platform=e},t.nt=function(){return t.platform||ye(),t.platform},t}(),de=new l.Logger("@firebase/firestore");function pe(){return de.logLevel}function ve(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(de.logLevel<=l.LogLevel.DEBUG){var r=e.map(me);de.debug.apply(de,i.__spreadArrays(["Firestore ("+c+"): "+t],r))}}function ge(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(de.logLevel<=l.LogLevel.ERROR){var r=e.map(me);de.error.apply(de,i.__spreadArrays(["Firestore ("+c+"): "+t],r))}}function me(t){if("string"==typeof t)return t;var e=fe.nt();try{return e.un(t)}catch(e){return t}}function ye(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw ge(e),new Error(e)}function _e(t,e){t||ye()}function be(t,e){return t}var we=function(){function t(){}return t.cn=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=fe.nt()._n(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ce(t,e){return t<e?-1:t>e?1:0}function ke(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ee(t){return t+"\0"}var Te=function(t,e,n,r,i){this.ii=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Ie=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"ln",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.S=function(t){return Ce(this.projectId,t.projectId)||Ce(this.database,t.database)},t}(),Se=function(){function t(t){this.dn=t,this.fn={}}return t.prototype.get=function(t){var e=this.dn(t),n=this.fn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],l=o[1];if(o[0].isEqual(t))return l}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.dn(t),r=this.fn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.fn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.dn(t),n=this.fn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.fn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){S(this.fn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.B=function(){return x(this.fn)},t}(),xe=function(){function t(t,e,n,r){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=r}return t.prototype.at=function(t,e,n){for(var r=n.En,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.at(e,r[i]))}return e},t.prototype.ot=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.ot(e,e,this.Tn))}for(var o=e,l=0,a=this.mutations;l<a.length;l++){var s=a[l];s.key.isEqual(t)&&(e=s.ot(e,o,this.Tn))}return e},t.prototype.wn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ot(r.key,t.get(r.key));i&&(n=n.Ae(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Kt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ke(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&ke(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),Oe=function(){function t(t,e,n,r){this.batch=t,this.In=e,this.En=n,this.Rn=r}return t.from=function(e,n,r){_e(e.mutations.length===r.length);for(var i=Wt,o=e.mutations,l=0;l<o.length;l++)i=i.Ae(o[l].key,r[l].version);return new t(e,n,r,i)},t}(),Pe=function(){function t(t){var e=this;this.An=null,this.mn=null,this.result=void 0,this.error=void 0,this.Pn=!1,this.Vn=!1,t((function(t){e.Pn=!0,e.result=t,e.An&&e.An(t)}),(function(t){e.Pn=!0,e.error=t,e.mn&&e.mn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Vn&&ye(),this.Vn=!0,this.Pn?this.error?this.gn(n,this.error):this.pn(e,this.result):new t((function(t,i){r.An=function(n){r.pn(e,n).next(t,i)},r.mn=function(e){r.gn(n,e).next(t,i)}}))},t.prototype.yn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.pn=function(e,n){return e?this.bn((function(){return e(n)})):t.resolve(n)},t.prototype.gn=function(e,n){return e?this.bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.vn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Sn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.vn(r)},t}(),Ne=function(){function t(){this.Dn=new Se((function(t){return t.toString()})),this.Cn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Fn},set:function(t){this.Fn=t},enumerable:!0,configurable:!0}),t.prototype.Nn=function(t,e){this.$n(),this.readTime=e,this.Dn.set(t.key,t)},t.prototype.kn=function(t,e){this.$n(),e&&(this.readTime=e),this.Dn.set(t,null)},t.prototype.Mn=function(t,e){this.$n();var n=this.Dn.get(e);return void 0!==n?Pe.resolve(n):this.xn(t,e)},t.prototype.getEntries=function(t,e){return this.Ln(t,e)},t.prototype.apply=function(t){return this.$n(),this.Cn=!0,this.On(t)},t.prototype.$n=function(){},t}(),Ae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",De=function(){function t(){this.Bn=[]}return t.prototype.qn=function(t){this.Bn.push(t)},t.prototype.Un=function(){this.Bn.forEach((function(t){return t()}))},t}(),Re=function(){function t(t,e,n){this.Qn=t,this.Wn=e,this.jn=n}return t.prototype.Kn=function(t,e){var n=this;return this.Wn.Gn(t,e).next((function(r){return n.zn(t,e,r)}))},t.prototype.zn=function(t,e,n){return this.Qn.Mn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ot(e,t);return t}))},t.prototype.Hn=function(t,e,n){var r=Bt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ot(t,e);r=r.Ae(t,e)})),r},t.prototype.Yn=function(t,e){var n=this;return this.Qn.getEntries(t,e).next((function(e){return n.Jn(t,e)}))},t.prototype.Jn=function(t,e){var n=this;return this.Wn.Xn(t,e).next((function(r){var i=n.Hn(t,e,r),o=qt();return i.forEach((function(t,e){e||(e=new _t(t,b.min())),o=o.Ae(t,e)})),o}))},t.prototype.Zn=function(t,e,n){return e.Lt()?this.tr(t,e.path):e._e()?this.er(t,e,n):this.sr(t,e,n)},t.prototype.tr=function(t,e){return this.Kn(t,new T(e)).next((function(t){var e=Ht();return t instanceof yt&&(e=e.Ae(t.key,t)),e}))},t.prototype.er=function(t,e,n){var r=this,i=e.collectionGroup,o=Ht();return this.jn.ir(t,i).next((function(l){return Pe.forEach(l,(function(l){var a=e.Zt(l.child(i));return r.sr(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ae(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sr=function(t,e,n){var r,i,o=this;return this.Qn.Zn(t,e,n).next((function(n){return r=n,o.Wn.nr(t,e)})).next((function(e){return o.rr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],l=0,a=o.mutations;l<a.length;l++){var s=a[l],u=s.key,c=r.get(u),h=s.ot(c,c,o.Tn);r=h instanceof yt?r.Ae(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.rr=function(t,e,n){for(var r=Kt(),i=0,o=e;i<o.length;i++)for(var l=0,a=o[i].mutations;l<a.length;l++){var s=a[l];s instanceof st&&null===n.get(s.key)&&(r=r.add(s.key))}var u=n;return this.Qn.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof yt&&(u=u.Ae(t,e))})),u}))},t}(),Me=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.hr=n,this.or=r}return t.ar=function(e,n){for(var r=Kt(),i=Kt(),o=0,l=n.docChanges;o<l.length;o++){var a=l[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Le=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ur=function(t){return n.cr(t)},this._r=function(t){return e.lr(t)})}return t.prototype.cr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this._r&&this._r(t),t},t}();Le.dr=-1;var Fe=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},je=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Tr=t,this.Er=e,this.wr=n,this.Ir=r,this.Rr=i,this.Ar=0,this.mr=null,this.Pr=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ar=0},t.prototype.Vr=function(){this.Ar=this.Rr},t.prototype.gr=function(t){var e=this;this.cancel();var n=Math.floor(this.Ar+this.pr()),r=Math.max(0,Date.now()-this.Pr),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ar+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mr=this.Tr.yr(this.Er,i,(function(){return e.Pr=Date.now(),t()})),this.Ar*=this.Ir,this.Ar<this.wr&&(this.Ar=this.wr),this.Ar>this.Rr&&(this.Ar=this.Rr)},t.prototype.br=function(){null!==this.mr&&(this.mr.vr(),this.mr=null)},t.prototype.cancel=function(){null!==this.mr&&(this.mr.cancel(),this.mr=null)},t.prototype.pr=function(){return(Math.random()-.5)*this.Ar},t}();function Ve(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=qe(e)),e=Ue(t.get(n),e);return qe(e)}function Ue(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function qe(t){return t+"\x01\x01"}function Be(t){var e=t.length;if(_e(e>=2),2===e)return _e("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),C.G;for(var n=e-2,r=[],i="",o=0;o<e;){var l=t.indexOf("\x01",o);switch((l<0||l>n)&&ye(),t.charAt(l+1)){case"\x01":var a=t.substring(o,l),s=void 0;0===i.length?s=a:(s=i+=a,i=""),r.push(s);break;case"\x10":i+=t.substring(o,l),i+="\0";break;case"\x11":i+=t.substring(o,l+1);break;default:ye()}o=l+2}return new C(r)}var ze=function(){function t(){this.Sr=new He}return t.prototype.Dr=function(t,e){return this.Sr.add(e),Pe.resolve()},t.prototype.ir=function(t,e){return Pe.resolve(this.Sr.getEntries(e))},t}(),He=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.O(),n=t.M(),r=this.index[e]||new jt(C.N),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.O(),n=t.M(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new jt(C.N)).W()},t}(),We=function(){function t(){this.Cr=new He}return t.prototype.Dr=function(t,e){var n=this;if(!this.Cr.has(e)){var r=e.O(),i=e.M();t.qn((function(){n.Cr.add(e)}));var o={collectionId:r,parent:Ve(i)};return Ge(t).put(o)}return Pe.resolve()},t.prototype.ir=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ee(e),""],!1,!0);return Ge(t).Fr(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Be(o.parent))}return n}))},t}();function Ge(t){return an.Nr(t,An.store)}var Ke=function(){function t(t,e){this.serializer=t,this.jn=e}return t.prototype.Nn=function(t,e,n){return $e(t).put(Ye(e),n)},t.prototype.kn=function(t,e){var n=$e(t),r=Ye(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.$r(t,r)}))},t.prototype.Mn=function(t,e){var n=this;return $e(t).get(Ye(e)).next((function(t){return n.kr(t)}))},t.prototype.Mr=function(t,e){var n=this;return $e(t).get(Ye(e)).next((function(t){var e=n.kr(t);return e?{xr:e,size:Xe(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Bt();return this.Lr(t,e,(function(t,e){var i=n.kr(e);r=r.Ae(t,i)})).next((function(){return r}))},t.prototype.Or=function(t,e){var n=this,r=Bt(),i=new Mt(T.N);return this.Lr(t,e,(function(t,e){var o=n.kr(e);o?(r=r.Ae(t,o),i=i.Ae(t,Xe(e))):(r=r.Ae(t,null),i=i.Ae(t,0))})).next((function(){return{Br:r,qr:i}}))},t.prototype.Lr=function(t,e,n){if(e.B())return Pe.resolve();var r=IDBKeyRange.bound(e.first().path.W(),e.last().path.W()),i=e.be(),o=i.Ne();return $e(t).Ur({range:r},(function(t,e,r){for(var l=T.st(t);o&&T.N(o,l)<0;)n(o,null),o=i.Ne();o&&o.isEqual(l)&&(n(o,e),o=i.$e()?i.Ne():null),o?r.Qr(o.path.W()):r.done()})).next((function(){for(;o;)n(o,null),o=i.$e()?i.Ne():null}))},t.prototype.Zn=function(t,e,n){var r=this,i=Ht(),o=e.path.length+1,l={};if(n.isEqual(b.min())){var a=e.path.W();l.range=IDBKeyRange.lowerBound(a)}else{var s=e.path.W(),u=this.serializer.Wr(n);l.range=IDBKeyRange.lowerBound([s,u],!0),l.index=Sn.collectionReadTimeIndex}return $e(t).Ur(l,(function(t,n,l){if(t.length===o){var a=r.serializer.jr(n);e.path.q(a.key.path)?a instanceof yt&&e.matches(a)&&(i=i.Ae(a.key,a)):l.done()}})).next((function(){return i}))},t.prototype.Kr=function(t,e){var n=this,r=qt(),i=this.serializer.Wr(e),o=$e(t),l=IDBKeyRange.lowerBound(i,!0);return o.Ur({index:Sn.readTimeIndex,range:l},(function(t,e){var o=n.serializer.jr(e);r=r.Ae(o.key,o),i=e.readTime})).next((function(){return{Gr:r,readTime:n.serializer.zr(i)}}))},t.prototype.Hr=function(t){var e=this,n=$e(t),r=b.min();return n.Ur({index:Sn.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.zr(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Yr=function(e){return new t.Jr(this,!!e&&e.Xr)},t.prototype.Zr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Qe(t).get(xn.key).next((function(t){return _e(!!t),t}))},t.prototype.$r=function(t,e){return Qe(t).put(xn.key,e)},t.prototype.kr=function(t){if(t){var e=this.serializer.jr(t);return e instanceof _t&&e.version.isEqual(b.min())?null:e}return null},t}();function Qe(t){return an.Nr(t,xn.store)}function $e(t){return an.Nr(t,Sn.store)}function Ye(t){return t.path.W()}function Xe(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ye();e=t.noDocument}return JSON.stringify(e).length}Ke.Jr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).th=e,r.Xr=n,r.eh=new Se((function(t){return t.toString()})),r}return i.__extends(e,t),e.prototype.On=function(t){var e=this,n=[],r=0,i=new jt((function(t,e){return Ce(t.j(),e.j())}));return this.Dn.forEach((function(o,l){var a=e.eh.get(o);if(l){var s=e.th.serializer.sh(l,e.readTime);i=i.add(o.path.M());var u=Xe(s);r+=u-a,n.push(e.th.Nn(t,o,s))}else if(r-=a,e.Xr){var c=e.th.serializer.sh(new _t(o,b.min()),e.readTime);n.push(e.th.Nn(t,o,c))}else n.push(e.th.kn(t,o))})),i.forEach((function(r){n.push(e.th.jn.Dr(t,r))})),n.push(this.th.updateMetadata(t,r)),Pe.vn(n)},e.prototype.xn=function(t,e){var n=this;return this.th.Mr(t,e).next((function(t){return null===t?(n.eh.set(e,0),null):(n.eh.set(e,t.size),t.xr)}))},e.prototype.Ln=function(t,e){var n=this;return this.th.Or(t,e).next((function(t){var e=t.Br;return t.qr.forEach((function(t,e){n.eh.set(t,e)})),e}))},e}(Ne);var Je=function(){function t(t){this.ih=t}return t.prototype.next=function(){return this.ih+=2,this.ih},t.nh=function(){return new t(0)},t.rh=function(){return new t(-1)},t}(),Ze=function(){function t(t,e){this.hh=t,this.serializer=e}return t.prototype.oh=function(t){var e=this;return this.ah(t).next((function(n){var r=new Je(n.highestTargetId);return n.highestTargetId=r.next(),e.uh(t,n).next((function(){return n.highestTargetId}))}))},t.prototype._h=function(t){return this.ah(t).next((function(t){return b.v(new _(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.lh=function(t){return this.ah(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.dh=function(t,e,n){var r=this;return this.ah(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.C()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.uh(t,i)}))},t.prototype.fh=function(t,e){var n=this;return this.Th(t,e).next((function(){return n.ah(t).next((function(r){return r.targetCount+=1,n.Eh(e,r),n.uh(t,r)}))}))},t.prototype.wh=function(t,e){return this.Th(t,e)},t.prototype.Ih=function(t,e){var n=this;return this.Rh(t,e.targetId).next((function(){return tn(t).delete(e.targetId)})).next((function(){return n.ah(t)})).next((function(e){return _e(e.targetCount>0),e.targetCount-=1,n.uh(t,e)}))},t.prototype.Ah=function(t,e,n){var r=this,i=0,o=[];return tn(t).Ur((function(l,a){var s=r.serializer.mh(a);s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i++,o.push(r.Ih(t,s)))})).next((function(){return Pe.vn(o)})).next((function(){return i}))},t.prototype.js=function(t,e){var n=this;return tn(t).Ur((function(t,r){var i=n.serializer.mh(r);e(i)}))},t.prototype.ah=function(t){return en(t).get(Nn.key).next((function(t){return _e(null!==t),t}))},t.prototype.uh=function(t,e){return en(t).put(Nn.key,e)},t.prototype.Th=function(t,e){return tn(t).put(this.serializer.Ph(e))},t.prototype.Eh=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Vh=function(t){return this.ah(t).next((function(t){return t.targetCount}))},t.prototype.gh=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return tn(t).Ur({range:i,index:On.queryTargetsIndexName},(function(t,r,i){var l=n.serializer.mh(r);e.isEqual(l.target)&&(o=l,i.done())})).next((function(){return o}))},t.prototype.ph=function(t,e,n){var r=this,i=[],o=nn(t);return e.forEach((function(e){var l=Ve(e.path);i.push(o.put(new Pn(n,l))),i.push(r.hh.yh(t,n,e))})),Pe.vn(i)},t.prototype.bh=function(t,e,n){var r=this,i=nn(t);return Pe.forEach(e,(function(e){var o=Ve(e.path);return Pe.vn([i.delete([n,o]),r.hh.vh(t,n,e)])}))},t.prototype.Rh=function(t,e){var n=nn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Sh=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=nn(t),i=Kt();return r.Ur({range:n,Dh:!0},(function(t,e,n){var r=Be(t[1]),o=new T(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ch=function(t,e){var n=Ve(e.path),r=IDBKeyRange.bound([n],[Ee(n)],!1,!0),i=0;return nn(t).Ur({index:Pn.documentTargetsIndex,Dh:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.si=function(t,e){var n=this;return tn(t).get(e).next((function(t){return t?n.serializer.mh(t):null}))},t}();function tn(t){return an.Nr(t,On.store)}function en(t){return an.Nr(t,Nn.store)}function nn(t){return an.Nr(t,Pn.store)}var rn=function(){function t(t){this.Fh=t}return t.prototype.jr=function(t){if(t.document)return this.Fh.mi(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=T.st(t.noDocument.path),n=this.Nh(t.noDocument.readTime);return new _t(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var r=T.st(t.unknownDocument.path),i=this.Nh(t.unknownDocument.version);return new bt(r,i)}return ye()},t.prototype.sh=function(t,e){var n=this.Wr(e),r=t.key.path.M().W();if(t instanceof yt){var i=this.Fh.Ai(t);return new Sn(null,null,i,t.hasCommittedMutations,n,r)}if(t instanceof _t){var o=t.key.path.W(),l=this.$h(t.version),a=t.hasCommittedMutations;return new Sn(null,new Tn(o,l),null,a,n,r)}if(t instanceof bt){var s=t.key.path.W(),u=this.$h(t.version);return new Sn(new In(s,u),null,null,!0,n,r)}return ye()},t.prototype.Wr=function(t){var e=t.C();return[e.seconds,e.nanoseconds]},t.prototype.zr=function(t){var e=new _(t[0],t[1]);return b.v(e)},t.prototype.$h=function(t){var e=t.C();return new bn(e.seconds,e.nanoseconds)},t.prototype.Nh=function(t){var e=new _(t.seconds,t.nanoseconds);return b.v(e)},t.prototype.kh=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.Fh.vi(t)})),i=e.mutations.map((function(t){return n.Fh.vi(t)}));return new kn(t,e.batchId,e.Tn.toMillis(),r,i)},t.prototype.Mh=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.Fh.Fi(t)})),r=t.mutations.map((function(t){return e.Fh.Fi(t)})),i=_.fromMillis(t.localWriteTimeMs);return new xe(t.batchId,i,n,r)},t.prototype.mh=function(t){var e,n=this.Nh(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.Nh(t.lastLimboFreeSnapshotVersion):b.min();return e=void 0!==t.query.documents?this.Fh.Oi(t.query):this.Fh.Wi(t.query),new Nt(e,t.targetId,0,t.lastListenSequenceNumber,n,r,O.fromBase64String(t.resumeToken))},t.prototype.Ph=function(t){var e,n=this.$h(t.Ee),r=this.$h(t.lastLimboFreeSnapshotVersion);e=t.target.Lt()?this.Fh.Li(t.target):this.Fh.Bi(t.target);var i=t.resumeToken.toBase64();return new On(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),on="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ln=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).xh=e,r.Lh=n,r}return i.__extends(e,t),e}(De),an=function(){function t(e,n,r,i,o,l,a,s,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Tr=l,this.Oh=s,this.Bh=u,this.qh=null,this.Uh=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Qh=null,this.inForeground=!1,this.Wh=null,this.jh=null,this.Kh=Number.NEGATIVE_INFINITY,this.Gh=function(t){return Promise.resolve()},!t.zh())throw new d(f.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.hh=new cn(this,o),this.Hh=n+t.Yh,this.serializer=new rn(a),this.document=i.document,this.Jh=new Ze(this.hh,this.serializer),this.jn=new We,this.Qn=new Ke(this.serializer,this.jn),this.window=i.window,i.window&&i.window.localStorage?this.Xh=i.window.localStorage:(this.Xh=null,!1===u&&ge("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Nr=function(t,e){if(t instanceof ln)return Ln.Nr(t.xh,e);throw ye()},t.prototype.start=function(){var t=this;return Ln.Zh(this.Hh,yn,new _n(this.serializer)).then((function(e){return t.to=e,t.eo(t.Bh)})).then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new d(f.FAILED_PRECONDITION,on);return t.so(),t.io(),t.no(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Jh.lh(e)}))})).then((function(e){t.qh=new Le(e,t.Oh)})).then((function(){t.Uh=!0})).catch((function(e){return t.to&&t.to.close(),Promise.reject(e)}))},t.prototype.ro=function(t){var e=this;return this.Gh=function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.ho?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.oo=function(t){var e=this;this.to.ao((function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.uo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Tr.co((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.ho?[4,this.eo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.eo=function(t){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return un(t).put(new Rn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e._o(t).next((function(t){t||(e.isPrimary=!1,e.Tr.lo((function(){return e.Gh(!1)})))}))})).next((function(){return e.do(t)})).next((function(n){return e.isPrimary&&!n?e.fo(t).next((function(){return!1})):!!n&&e.To(t).next((function(){return!0}))}))})).catch((function(t){if(!e.allowTabSynchronization){if(Vn(t))return ve("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;throw t}return ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Tr.lo((function(){return e.Gh(t)})),e.isPrimary=t}))},t.prototype._o=function(t){var e=this;return sn(t).get(wn.key).next((function(t){return Pe.resolve(e.Eo(t))}))},t.prototype.wo=function(t){return un(t).delete(this.clientId)},t.prototype.Io=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Ro(this.Kh,18e5)?[3,2]:(this.Kh=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Nr(e,Rn.store);return n.Fr().next((function(t){var e=o.Ao(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Pe.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.Xh)for(n=0,r=e;n<r.length;n++)this.Xh.removeItem(this.mo(r[n].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.no=function(){var t=this;this.jh=this.Tr.yr("client_metadata_refresh",4e3,(function(){return t.eo().then((function(){return t.Io()})).then((function(){return t.no()}))}))},t.prototype.Eo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.do=function(t){var e=this;return this.Bh?Pe.resolve(!0):sn(t).get(wn.key).next((function(n){if(null!==n&&e.Ro(n.leaseTimestampMs,5e3)&&!e.Po(n.ownerId)){if(e.Eo(n)&&e.networkEnabled)return!0;if(!e.Eo(n)){if(!n.allowTabSynchronization)throw new d(f.FAILED_PRECONDITION,on);return!1}}return!(!e.networkEnabled||!e.inForeground)||un(t).Fr().next((function(t){return void 0===e.Ao(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&ve("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Vo=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){switch(e.label){case 0:return this.Uh=!1,this.po(),this.jh&&(this.jh.cancel(),this.jh=null),this.yo(),this.bo(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.fo(e).next((function(){return t.wo(e)}))})).catch((function(t){ve("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.to.close(),this.vo(),[2]}}))}))},t.prototype.Ao=function(t,e){var n=this;return t.filter((function(t){return n.Ro(t.updateTimeMs,e)&&!n.Po(t.clientId)}))},t.prototype.So=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return un(e).Fr().next((function(e){return t.Ao(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return t.zh()?[4,Ln.delete(e+t.Yh)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"ho",{get:function(){return this.Uh},enumerable:!0,configurable:!0}),t.prototype.Do=function(t){return fn.Co(t,this.serializer,this.jn,this.hh)},t.prototype.Fo=function(){return this.Jh},t.prototype.No=function(){return this.Qn},t.prototype.$o=function(){return this.jn},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ve("IndexedDbPersistence","Starting transaction:",t),this.to.runTransaction("readonly"===e?"readonly":"readwrite",Mn,(function(o){return r=new ln(o,i.qh?i.qh.next():Le.dr),"readwrite-primary"===e?i._o(r).next((function(t){return!!t||i.do(r)})).next((function(e){if(!e)throw ge("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Tr.lo((function(){return i.Gh(!1)})),new d(f.FAILED_PRECONDITION,Ae);return n(r)})).next((function(t){return i.To(r).next((function(){return t}))})):i.ko(r).next((function(){return n(r)}))})).then((function(t){return r.Un(),t}))},t.prototype.ko=function(t){var e=this;return sn(t).get(wn.key).next((function(t){if(null!==t&&e.Ro(t.leaseTimestampMs,5e3)&&!e.Po(t.ownerId)&&!e.Eo(t)&&!(e.Bh||e.allowTabSynchronization&&t.allowTabSynchronization))throw new d(f.FAILED_PRECONDITION,on)}))},t.prototype.To=function(t){var e=new wn(this.clientId,this.allowTabSynchronization,Date.now());return sn(t).put(wn.key,e)},t.zh=function(){return Ln.zh()},t.Mo=function(t){var e=t.ii.projectId;return t.ii.ln||(e+="."+t.ii.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.fo=function(t){var e=this,n=sn(t);return n.get(wn.key).next((function(t){return e.Eo(t)?(ve("IndexedDbPersistence","Releasing primary lease."),n.delete(wn.key)):Pe.resolve()}))},t.prototype.Ro=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ge("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.so=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wh=function(){t.Tr.co((function(){return t.inForeground="visible"===t.document.visibilityState,t.eo()}))},this.document.addEventListener("visibilitychange",this.Wh),this.inForeground="visible"===this.document.visibilityState)},t.prototype.yo=function(){this.Wh&&(this.document.removeEventListener("visibilitychange",this.Wh),this.Wh=null)},t.prototype.io=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Qh=function(){e.po(),e.Tr.co((function(){return e.Vo()}))},this.window.addEventListener("unload",this.Qh))},t.prototype.bo=function(){this.Qh&&(this.window.removeEventListener("unload",this.Qh),this.Qh=null)},t.prototype.Po=function(t){var e;try{var n=null!==(null===(e=this.Xh)||void 0===e?void 0:e.getItem(this.mo(t)));return ve("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ge("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.po=function(){if(this.Xh)try{this.Xh.setItem(this.mo(this.clientId),String(Date.now()))}catch(t){ge("Failed to set zombie client id.",t)}},t.prototype.vo=function(){if(this.Xh)try{this.Xh.removeItem(this.mo(this.clientId))}catch(t){}},t.prototype.mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function sn(t){return an.Nr(t,wn.store)}function un(t){return an.Nr(t,Rn.store)}an.Yh="main";var cn=function(){function t(t,e){this.db=t,this.xo=new Zn(this,e)}return t.prototype.Lo=function(t){var e=this.Oo(t);return this.db.Fo().Vh(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Oo=function(t){var e=0;return this.Bo(t,(function(t){e++})).next((function(){return e}))},t.prototype.js=function(t,e){return this.db.Fo().js(t,e)},t.prototype.Bo=function(t,e){return this.qo(t,(function(t,n){return e(n)}))},t.prototype.yh=function(t,e,n){return hn(t,n)},t.prototype.vh=function(t,e,n){return hn(t,n)},t.prototype.Ah=function(t,e,n){return this.db.Fo().Ah(t,e,n)},t.prototype.Uo=function(t,e){return hn(t,e)},t.prototype.Qo=function(t,e){return function(t,e){var n=!1;return mn(t).Wo((function(r){return dn(t,r,e).next((function(t){return t&&(n=!0),Pe.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.jo=function(t,e){var n=this,r=this.db.No().Yr(),i=[],o=0;return this.qo(t,(function(l,a){if(a<=e){var s=n.Qo(t,l).next((function(e){if(!e)return o++,r.Mn(t,l).next((function(){return r.kn(l),nn(t).delete([0,Ve(l.path)])}))}));i.push(s)}})).next((function(){return Pe.vn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.we(t.Lh);return this.db.Fo().wh(t,n)},t.prototype.Ko=function(t,e){return hn(t,e)},t.prototype.qo=function(t,e){var n,r=nn(t),i=Le.dr;return r.Ur({index:Pn.documentTargetsIndex},(function(t,r){var o=r.path,l=r.sequenceNumber;0===t[0]?(i!==Le.dr&&e(new T(Be(n)),i),i=l,n=o):i=Le.dr})).next((function(){i!==Le.dr&&e(new T(Be(n)),i)}))},t.prototype.Go=function(t){return this.db.No().Zr(t)},t}();function hn(t,e){return nn(t).put(function(t,e){return new Pn(0,Ve(t.path),e)}(e,t.Lh))}var fn=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.jn=n,this.hh=r,this.zo={}}return t.Co=function(e,n,r,i){return _e(""!==e.uid),new t(e.t()?e.uid:"",n,r,i)},t.prototype.Ho=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vn(t).Ur({index:kn.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Yo=function(t,e,n,r){var i=this,o=gn(t),l=vn(t);return l.add({}).next((function(a){_e("number"==typeof a);for(var s=new xe(a,e,n,r),u=i.serializer.kh(i.userId,s),c=[],h=new jt((function(t,e){return Ce(t.j(),e.j())})),f=0,d=r;f<d.length;f++){var p=d[f],v=En.key(i.userId,p.key.path,a);h=h.add(p.key.path.M()),c.push(l.put(u)),c.push(o.put(v,En.PLACEHOLDER))}return h.forEach((function(e){c.push(i.jn.Dr(t,e))})),t.qn((function(){i.zo[a]=s.keys()})),Pe.vn(c).next((function(){return s}))}))},t.prototype.Jo=function(t,e){var n=this;return vn(t).get(e).next((function(t){return t?(_e(t.userId===n.userId),n.serializer.Mh(t)):null}))},t.prototype.Xo=function(t,e){var n=this;return this.zo[e]?Pe.resolve(this.zo[e]):this.Jo(t,e).next((function(t){if(t){var r=t.keys();return n.zo[e]=r,r}return null}))},t.prototype.Zo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return vn(t).Ur({index:kn.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(_e(e.batchId>=r),o=n.serializer.Mh(e)),i.done()})).next((function(){return o}))},t.prototype.ta=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return vn(t).Ur({index:kn.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.ea=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vn(t).Fr(kn.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.Mh(t)}))}))},t.prototype.Gn=function(t,e){var n=this,r=En.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return gn(t).Ur({range:i},(function(r,i,l){var a=r[0],s=r[2],u=Be(r[1]);if(a===n.userId&&e.path.isEqual(u))return vn(t).get(s).next((function(t){if(!t)throw ye();_e(t.userId===n.userId),o.push(n.serializer.Mh(t))}));l.done()})).next((function(){return o}))},t.prototype.Xn=function(t,e){var n=this,r=new jt(Ce),i=[];return e.forEach((function(e){var o=En.prefixForPath(n.userId,e.path),l=IDBKeyRange.lowerBound(o),a=gn(t).Ur({range:l},(function(t,i,o){var l=t[0],a=t[2],s=Be(t[1]);l===n.userId&&e.path.isEqual(s)?r=r.add(a):o.done()}));i.push(a)})),Pe.vn(i).next((function(){return n.sa(t,r)}))},t.prototype.nr=function(t,e){var n=this,r=e.path,i=r.length+1,o=En.prefixForPath(this.userId,r),l=IDBKeyRange.lowerBound(o),a=new jt(Ce);return gn(t).Ur({range:l},(function(t,e,o){var l=t[0],s=t[2],u=Be(t[1]);l===n.userId&&r.q(u)?u.length===i&&(a=a.add(s)):o.done()})).next((function(){return n.sa(t,a)}))},t.prototype.sa=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(vn(t).get(e).next((function(t){if(null===t)throw ye();_e(t.userId===n.userId),r.push(n.serializer.Mh(t))})))})),Pe.vn(i).next((function(){return r}))},t.prototype.ia=function(t,e){var n=this;return pn(t.xh,this.userId,e).next((function(r){return t.qn((function(){n.na(e.batchId)})),Pe.forEach(r,(function(e){return n.hh.Uo(t,e)}))}))},t.prototype.na=function(t){delete this.zo[t]},t.prototype.ra=function(t){var e=this;return this.Ho(t).next((function(n){if(!n)return Pe.resolve();var r=IDBKeyRange.lowerBound(En.prefixForUser(e.userId)),i=[];return gn(t).Ur({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Be(t[1]);i.push(o)}else r.done()})).next((function(){_e(0===i.length)}))}))},t.prototype.Ch=function(t,e){return dn(t,this.userId,e)},t.prototype.ha=function(t){var e=this;return mn(t).get(this.userId).next((function(t){return t||new Cn(e.userId,-1,"")}))},t}();function dn(t,e,n){var r=En.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),l=!1;return gn(t).Ur({range:o,Dh:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(l=!0),r.done()})).next((function(){return l}))}function pn(t,e,n){var r=t.store(kn.store),i=t.store(En.store),o=[],l=IDBKeyRange.only(n.batchId),a=0,s=r.Ur({range:l},(function(t,e,n){return a++,n.delete()}));o.push(s.next((function(){_e(1===a)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=En.key(e,f.key.path,n.batchId);o.push(i.delete(d)),u.push(f.key)}return Pe.vn(o).next((function(){return u}))}function vn(t){return an.Nr(t,kn.store)}function gn(t){return an.Nr(t,En.store)}function mn(t){return an.Nr(t,Cn.store)}var yn=10,_n=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;_e(n<r&&n>=0&&r<=yn);var o=new Un(e);n<1&&r>=1&&(function(t){t.createObjectStore(wn.store)}(t),function(t){t.createObjectStore(Cn.store,{keyPath:Cn.keyPath}),t.createObjectStore(kn.store,{keyPath:kn.keyPath,autoIncrement:!0}).createIndex(kn.userMutationsIndex,kn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(En.store)}(t),Dn(t),function(t){t.createObjectStore(Sn.store)}(t));var l=Pe.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Pn.store),t.deleteObjectStore(On.store),t.deleteObjectStore(Nn.store)}(t),Dn(t)),l=l.next((function(){return function(t){var e=t.store(Nn.store),n=new Nn(0,0,b.min().C(),0);return e.put(Nn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(l=l.next((function(){return function(t,e){return e.store(kn.store).Fr().next((function(n){t.deleteObjectStore(kn.store),t.createObjectStore(kn.store,{keyPath:kn.keyPath,autoIncrement:!0}).createIndex(kn.userMutationsIndex,kn.userMutationsKeyPath,{unique:!0});var r=e.store(kn.store),i=n.map((function(t){return r.put(t)}));return Pe.vn(i)}))}(t,o)}))),l=l.next((function(){!function(t){t.createObjectStore(Rn.store,{keyPath:Rn.keyPath})}(t)}))),n<5&&r>=5&&(l=l.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(l=l.next((function(){return function(t){t.createObjectStore(xn.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(l=l.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(l=l.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(l=l.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Sn.store);e.createIndex(Sn.readTimeIndex,Sn.readTimeIndexPath,{unique:!1}),e.createIndex(Sn.collectionReadTimeIndex,Sn.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(l=l.next((function(){return i.rewriteCanonicalIds(o)}))),l},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Sn.store).Ur((function(t,n){e+=Xe(n)})).next((function(){var n=new xn(e);return t.store(xn.store).put(xn.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Cn.store),r=t.store(kn.store);return n.Fr().next((function(n){return Pe.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Fr(kn.userMutationsIndex,i).next((function(r){return Pe.forEach(r,(function(r){_e(r.userId===n.userId);var i=e.serializer.Mh(r);return pn(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Pn.store),n=t.store(Sn.store);return t.store(Nn.store).get(Nn.key).next((function(t){var r=[];return n.Ur((function(n,i){var o=new C(n),l=function(t){return[0,Ve(t)]}(o);r.push(e.get(l).next((function(n){return n?Pe.resolve():function(n){return e.put(new Pn(0,Ve(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Pe.vn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(An.store,{keyPath:An.keyPath});var n=e.store(An.store),r=new He,i=function(t){if(r.add(t)){var e=t.O(),i=t.M();return n.put({collectionId:e,parent:Ve(i)})}};return e.store(Sn.store).Ur({Dh:!0},(function(t,e){var n=new C(t);return i(n.M())})).next((function(){return e.store(En.store).Ur({Dh:!0},(function(t,e){var n=Be(t[1]);return i(n.M())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(On.store);return n.Ur((function(t,r){var i=e.serializer.mh(r),o=e.serializer.Ph(i);return n.put(o)}))},t}(),bn=function(t,e){this.seconds=t,this.nanoseconds=e},wn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};wn.store="owner",wn.key="owner";var Cn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Cn.store="mutationQueues",Cn.keyPath="userId";var kn=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};kn.store="mutations",kn.keyPath="batchId",kn.userMutationsIndex="userMutationsIndex",kn.userMutationsKeyPath=["userId","batchId"];var En=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ve(e)]},t.key=function(t,e,n){return[t,Ve(e),n]},t}();En.store="documentMutations",En.PLACEHOLDER=new En;var Tn=function(t,e){this.path=t,this.readTime=e},In=function(t,e){this.path=t,this.version=e},Sn=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Sn.store="remoteDocuments",Sn.readTimeIndex="readTimeIndex",Sn.readTimeIndexPath="readTime",Sn.collectionReadTimeIndex="collectionReadTimeIndex",Sn.collectionReadTimeIndexPath=["parentPath","readTime"];var xn=function(t){this.byteSize=t};xn.store="remoteDocumentGlobal",xn.key="remoteDocumentGlobalKey";var On=function(t,e,n,r,i,o,l){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=l};On.store="targets",On.keyPath="targetId",On.queryTargetsIndexName="queryTargetsIndex",On.queryTargetsKeyPath=["canonicalId","targetId"];var Pn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Pn.store="targetDocuments",Pn.keyPath=["targetId","path"],Pn.documentTargetsIndex="documentTargetsIndex",Pn.documentTargetsKeyPath=["path","targetId"];var Nn=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Nn.key="targetGlobalKey",Nn.store="targetGlobal";var An=function(t,e){this.collectionId=t,this.parent=e};function Dn(t){t.createObjectStore(Pn.store,{keyPath:Pn.keyPath}).createIndex(Pn.documentTargetsIndex,Pn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(On.store,{keyPath:On.keyPath}).createIndex(On.queryTargetsIndexName,On.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Nn.store)}An.store="collectionParents",An.keyPath=["collectionId","parent"];var Rn=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Rn.store="clientMetadata",Rn.keyPath="clientId";var Mn=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([Cn.store,kn.store,En.store,Sn.store,On.store,wn.store,Nn.store,Pn.store],[Rn.store]),[xn.store]),[An.store]),Ln=function(){function t(e){this.db=e,12.2===t.oa(a.getUA())&&ge("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Zh=function(e,n,r){return ve("SimpleDb","Opening database:",e),new Pe((function(i,o){var l=indexedDB.open(e,n);l.onsuccess=function(e){i(new t(e.target.result))},l.onblocked=function(){o(new d(f.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new d(f.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},l.onupgradeneeded=function(t){ve("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,l.transaction,t.oldVersion,yn).next((function(){ve("SimpleDb","Database upgrade to version "+yn+" complete")}))}})).yn()},t.delete=function(t){return ve("SimpleDb","Removing database:",t),Bn(window.indexedDB.deleteDatabase(t)).yn()},t.zh=function(){if("undefined"==typeof indexedDB)return!1;if(t.aa())return!0;var e=a.getUA(),n=t.oa(e),r=0<n&&n<10,i=t.ua(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.aa=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.ca)},t.Nr=function(t,e){return t.store(e)},t.oa=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.ua=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.ao=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,l,a,s;return i.__generator(this,(function(u){switch(u.label){case 0:r="readonly"===t,o=0,l=function(){var t,l,s,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:++o,t=Un.open(a.db,r?"readonly":"readwrite",e),i.label=1;case 1:return i.trys.push([1,3,,4]),l=n(t).catch((function(e){return t.abort(e),Pe.reject(e)})).yn(),s={},l.catch((function(){})),[4,t._a];case 2:return[2,(s.value=(i.sent(),l),s)];case 3:return ve("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(u=i.sent()).message,c="FirebaseError"!==u.name&&o<3),c?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},a=this,u.label=1;case 1:return[5,l()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Fn=function(){function t(t){this.la=t,this.da=!1,this.fa=null}return Object.defineProperty(t.prototype,"Pn",{get:function(){return this.da},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Ta",{get:function(){return this.fa},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.la=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.da=!0},t.prototype.Qr=function(t){this.fa=t},t.prototype.delete=function(){return Bn(this.la.delete())},t}(),jn=function(t){function e(e){var n=this;return(n=t.call(this,f.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return i.__extends(e,t),e}(d);function Vn(t){return"IndexedDbTransactionError"===t.name}var Un=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Ea=new Fe,this.transaction.oncomplete=function(){e.Ea.resolve()},this.transaction.onabort=function(){t.error?e.Ea.reject(new jn(t.error)):e.Ea.resolve()},this.transaction.onerror=function(t){var n=Hn(t.target.error);e.Ea.reject(new jn(n))}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"_a",{get:function(){return this.Ea.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.Ea.reject(t),this.aborted||(ve("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new qn(e)},t}(),qn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ve("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ve("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Bn(n)},t.prototype.add=function(t){return ve("SimpleDb","ADD",this.store.name,t,t),Bn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Bn(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ve("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ve("SimpleDb","DELETE",this.store.name,t),Bn(this.store.delete(t))},t.prototype.count=function(){return ve("SimpleDb","COUNT",this.store.name),Bn(this.store.count())},t.prototype.Fr=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.wa(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ia=function(t,e){ve("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Dh=!1;var r=this.cursor(n);return this.wa(r,(function(t,e,n){return n.delete()}))},t.prototype.Ur=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.wa(r,e)},t.prototype.Wo=function(t){var e=this.cursor({});return new Pe((function(n,r){e.onerror=function(t){var e=Hn(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.wa=function(t,e){var n=[];return new Pe((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Fn(i),l=e(i.primaryKey,i.value,o);if(l instanceof Pe){var a=l.catch((function(t){return o.done(),Pe.reject(t)}));n.push(a)}o.Pn?r():null===o.Ta?i.continue():i.continue(o.Ta)}else r()}})).next((function(){return Pe.vn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Dh?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Bn(t){return new Pe((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Hn(t.target.error);n(e)}}))}var zn=!1;function Hn(t){var e=Ln.oa(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new d("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return zn||(zn=!0,setTimeout((function(){throw r}),0)),r}}return t}var Wn=function(){function t(t,e,n,r,i){this.Ra=t,this.Er=e,this.Aa=n,this.op=r,this.ma=i,this.Pa=new Fe,this.then=this.Pa.promise.then.bind(this.Pa.promise),this.Pa.promise.catch((function(t){}))}return t.Va=function(e,n,r,i,o){var l=new t(e,n,Date.now()+r,i,o);return l.start(r),l},t.prototype.start=function(t){var e=this;this.ga=setTimeout((function(){return e.pa()}),t)},t.prototype.vr=function(){return this.pa()},t.prototype.cancel=function(t){null!==this.ga&&(this.clearTimeout(),this.Pa.reject(new d(f.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.pa=function(){var t=this;this.Ra.co((function(){return null!==t.ga?(t.clearTimeout(),t.op().then((function(e){return t.Pa.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.ga&&(this.ma(this),clearTimeout(this.ga),this.ga=null)},t}(),Gn=function(){function t(){var t=this;this.ya=Promise.resolve(),this.ba=Promise.resolve(),this.va=!1,this.Sa=[],this.Da=null,this.Ca=!1,this.Fa=[],this.Na=new je(this,"async_queue_retry"),this.$a=function(){return t.Na.br()};var e=fe.nt().window;e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.$a)}return Object.defineProperty(t.prototype,"ka",{get:function(){return this.va},enumerable:!0,configurable:!0}),t.prototype.co=function(t){this.enqueue(t)},t.prototype.Ma=function(t){this.xa(),this.La(t)},t.prototype.Oa=function(t){return this.xa(),this.La(t)},t.prototype.Ba=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.xa(),this.va?[3,2]:(this.va=!0,(e=fe.nt().window)&&e.removeEventListener("visibilitychange",this.$a),[4,this.Oa(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.xa(),this.va?new Promise((function(t){})):this.La(t)},t.prototype.lo=function(t){var e=this;this.xa(),this.va||(this.ba=this.ba.then((function(){var n=new Fe;return e.co((function r(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t()];case 1:return i.sent(),n.resolve(),this.Na.reset(),[3,3];case 2:if(!Vn(e=i.sent()))throw n.resolve(),e;return ve("AsyncQueue","Operation failed with retryable error: "+e),this.Na.gr(r),[3,3];case 3:return[2]}}))}))})),n.promise})))},t.prototype.La=function(t){var e=this,n=this.ya.then((function(){return e.Ca=!0,t().catch((function(t){throw e.Da=t,e.Ca=!1,ge("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ca=!1,t}))}));return this.ya=n,n},t.prototype.yr=function(t,e,n){var r=this;this.xa(),this.Fa.indexOf(t)>-1&&(e=0);var i=Wn.Va(this,t,e,n,(function(t){return r.qa(t)}));return this.Sa.push(i),i},t.prototype.xa=function(){this.Da&&ye()},t.prototype.Ua=function(){},t.prototype.Qa=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ya];case 1:e.sent(),e.label=2;case 2:if(t!==this.ya)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Wa=function(t){for(var e=0,n=this.Sa;e<n.length;e++)if(n[e].Er===t)return!0;return!1},t.prototype.ja=function(t){var e=this;return this.Qa().then((function(){e.Sa.sort((function(t,e){return t.Aa-e.Aa}));for(var n=0,r=e.Sa;n<r.length;n++){var i=r[n];if(i.vr(),"all"!==t&&i.Er===t)break}return e.Qa()}))},t.prototype.Ka=function(t){this.Fa.push(t)},t.prototype.qa=function(t){var e=this.Sa.indexOf(t);this.Sa.splice(e,1)},t}();function Kn(t,e){if(ge("AsyncQueue",e+": "+t),Vn(t))return new d(f.UNAVAILABLE,e+": "+t);throw t}function Qn(t,e){var n=t[1],r=e[1],i=Ce(t[0],e[0]);return 0===i?Ce(n,r):i}var $n=function(){function t(t){this.Ga=t,this.buffer=new jt(Qn),this.za=0}return t.prototype.Ha=function(){return++this.za},t.prototype.Ya=function(t){var e=[t,this.Ha()];if(this.buffer.size<this.Ga)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Qn(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Yn={Ja:!1,Xa:0,Za:0,tu:0},Xn=function(){function t(t,e,n){this.eu=t,this.su=e,this.iu=n}return t.nu=function(e){return new t(e,t.ru,t.hu)},t}();Xn.ou=-1,Xn.au=1048576,Xn.uu=41943040,Xn.ru=10,Xn.hu=1e3,Xn.cu=new Xn(Xn.uu,Xn.ru,Xn.hu),Xn.DISABLED=new Xn(Xn.ou,0,0);var Jn=function(){function t(t,e){this.xo=t,this.Ra=e,this._u=!1,this.lu=null}return t.prototype.start=function(t){this.xo.du.eu!==Xn.ou&&this.fu(t)},t.prototype.stop=function(){this.lu&&(this.lu.cancel(),this.lu=null)},Object.defineProperty(t.prototype,"ho",{get:function(){return null!==this.lu},enumerable:!0,configurable:!0}),t.prototype.fu=function(t){var e=this,n=this._u?3e5:6e4;ve("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.lu=this.Ra.yr("lru_garbage_collection",n,(function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:this.lu=null,this._u=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Tu(this.xo)];case 2:return n.sent(),[3,7];case 3:return Vn(e=n.sent())?(ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,nr(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.fu(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Zn=function(){function t(t,e){this.Eu=t,this.du=e}return t.prototype.wu=function(t,e){return this.Eu.Lo(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Iu=function(t,e){var n=this;if(0===e)return Pe.resolve(Le.dr);var r=new $n(e);return this.Eu.js(t,(function(t){return r.Ya(t.sequenceNumber)})).next((function(){return n.Eu.Bo(t,(function(t){return r.Ya(t)}))})).next((function(){return r.maxValue}))},t.prototype.Ah=function(t,e,n){return this.Eu.Ah(t,e,n)},t.prototype.jo=function(t,e){return this.Eu.jo(t,e)},t.prototype.Ru=function(t,e){var n=this;return this.du.eu===Xn.ou?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(Yn)):this.Go(t).next((function(r){return r<n.du.eu?(ve("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.du.eu),Yn):n.Au(t,e)}))},t.prototype.Go=function(t){return this.Eu.Go(t)},t.prototype.Au=function(t,e){var n,r,i,o,a,s,u,c=this,h=Date.now();return this.wu(t,this.du.su).next((function(e){return e>c.du.iu?(ve("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.du.iu+" from "+e),r=c.du.iu):r=e,o=Date.now(),c.Iu(t,r)})).next((function(r){return n=r,a=Date.now(),c.Ah(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.jo(t,n)})).next((function(t){return u=Date.now(),pe()<=l.LogLevel.DEBUG&&ve("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-h)+"ms"),Pe.resolve({Ja:!0,Xa:r,Za:i,tu:t})}))},t}(),tr=function(){function t(t,e,n){this.persistence=t,this.mu=e,this.Pu=new Mt(Ce),this.Vu=new Se((function(t){return t.canonicalId()})),this.gu=b.min(),this.Wn=t.Do(n),this.pu=t.No(),this.Jh=t.Fo(),this.yu=new Re(this.pu,this.Wn,this.persistence.$o()),this.mu.bu(this.yu)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.vu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return e=this.Wn,n=this.yu,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.Wn.ea(r).next((function(l){return i=l,e=o.persistence.Do(t),n=new Re(o.pu,e,o.persistence.$o()),e.ea(r)})).next((function(t){for(var e=[],o=[],l=Kt(),a=0,s=i;a<s.length;a++){var u=s[a];e.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++)l=l.add(h[c].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];o.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)l=l.add(g[v].key)}return n.Yn(r,l).next((function(t){return{Su:t,Du:e,Cu:o}}))}))}))];case 1:return r=i.sent(),[2,(this.Wn=e,this.yu=n,this.mu.bu(this.yu),r)]}}))}))},t.prototype.Fu=function(t){var e,n=this,r=_.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Kt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.yu.Yn(o,i).next((function(i){e=i;for(var l=[],a=0,s=t;a<s.length;a++){var u=s[a],c=u.Pt(e.get(u.key));null!=c&&l.push(new st(u.key,c,pt(c.proto.mapValue),ot.exists(!0)))}return n.Wn.Yo(o,r,l,t)}))})).then((function(t){var n=t.wn(e);return{batchId:t.batchId,Dn:n}}))},t.prototype.Nu=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.pu.Yr({Xr:!0});return e.$u(n,t,i).next((function(){return i.apply(n)})).next((function(){return e.Wn.ra(n)})).next((function(){return e.yu.Yn(n,r)}))}))},t.prototype.ku=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.Wn.Jo(n,t).next((function(t){return _e(null!==t),r=t.keys(),e.Wn.ia(n,t)})).next((function(){return e.Wn.ra(n)})).next((function(){return e.yu.Yn(n,r)}))}))},t.prototype.ta=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Wn.ta(e)}))},t.prototype._h=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Jh._h(e)}))},t.prototype.Mu=function(e){var n=this,r=e.Ee,i=this.Pu;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var l=n.pu.Yr({Xr:!0});i=n.Pu;var a=[];e.as.forEach((function(e,l){var s=i.get(l);if(s){a.push(n.Jh.bh(o,e.ws,l).next((function(){return n.Jh.ph(o,e.Ts,l)})));var u=e.resumeToken;if(u.rt()>0){var c=s.Ie(u,r).we(o.Lh);i=i.Ae(l,c),t.xu(s,c,e)&&a.push(n.Jh.wh(o,c))}}}));var s=qt(),u=Kt();if(e.cs.forEach((function(t,e){u=u.add(t)})),a.push(l.getEntries(o,u).next((function(t){e.cs.forEach((function(i,u){var c=t.get(i);u instanceof _t&&u.version.isEqual(b.min())?(l.kn(i,r),s=s.Ae(i,u)):null==c||u.version.S(c.version)>0||0===u.version.S(c.version)&&c.hasPendingWrites?(l.Nn(u,r),s=s.Ae(i,u)):ve("LocalStore","Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",u.version),e._s.has(i)&&a.push(n.persistence.hh.Ko(o,i))}))}))),!r.isEqual(b.min())){var c=n.Jh._h(o).next((function(t){return n.Jh.dh(o,o.Lh,r)}));a.push(c)}return Pe.vn(a).next((function(){return l.apply(o)})).next((function(){return n.yu.Jn(o,s)}))})).then((function(t){return n.Pu=i,t}))},t.xu=function(t,e,n){return _e(e.resumeToken.rt()>0),0===t.resumeToken.rt()||e.Ee.D()-t.Ee.D()>=this.Lu||n.Ts.size+n.Es.size+n.ws.size>0},t.prototype.Ou=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,l,a,s,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Pe.forEach(t,(function(t){return Pe.forEach(t.hr,(function(n){return u.persistence.hh.yh(e,t.targetId,n)})).next((function(){return Pe.forEach(t.or,(function(n){return u.persistence.hh.vh(e,t.targetId,n)}))}))}))}))];case 1:return i.sent(),[3,3];case 2:if(!Vn(e=i.sent()))throw e;return ve("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=t;n<r.length;n++)l=(o=r[n]).targetId,o.fromCache||(a=this.Pu.get(l),s=a.Re(a.Ee),this.Pu=this.Pu.Ae(l,s));return[2]}}))}))},t.prototype.Bu=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Wn.Zo(n,t)}))},t.prototype.qu=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.yu.Kn(n,t)}))},t.prototype.Uu=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Jh.gh(n,t).next((function(i){return i?Pe.resolve(r=i):e.Jh.oh(n).next((function(i){return r=new Nt(t,i,0,n.Lh),e.Jh.fh(n,r).next((function(){return r}))}))}))})).then((function(n){var r=e.Pu.get(n.targetId);return(null===r||n.Ee.S(r.Ee)>0)&&(e.Pu=e.Pu.Ae(n.targetId,n),e.Vu.set(t,n.targetId)),n}))},t.prototype.gh=function(t,e){var n=this.Vu.get(e);return void 0!==n?Pe.resolve(this.Pu.get(n)):this.Jh.gh(t,e)},t.prototype.Qu=function(t,e){var n=this,r=this.Pu.get(t);return this.persistence.runTransaction("Release target",e?"readwrite":"readwrite-primary",(function(t){return e?Pe.resolve():n.persistence.hh.removeTarget(t,r)})).then((function(){n.Pu=n.Pu.remove(t),n.Vu.delete(r.target)}))},t.prototype.Wu=function(t,e){var n=this,r=b.min(),i=Kt();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.gh(o,t.ee()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Jh.Sh(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.mu.Zn(o,t,e?r:b.min(),e?i:Kt())})).next((function(t){return{documents:t,ju:i}}))}))},t.prototype.$u=function(t,e,n){var r=this,i=e.batch,o=i.keys(),l=Pe.resolve();return o.forEach((function(r){l=l.next((function(){return n.Mn(t,r)})).next((function(t){var o=t,l=e.Rn.get(r);_e(null!==l),(!o||o.version.S(l)<0)&&(o=i.at(r,o,e))&&n.Nn(o,e.In)}))})),l.next((function(){return r.Wn.ia(t,i)}))},t.prototype.Tu=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Ru(n,e.Pu)}))},t}();tr.Lu=3e8;var er=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).persistence=e,i.Wn=e.Do(r),i.pu=e.No(),i.Jh=e.Fo(),i}return i.__extends(e,t),e.prototype.start=function(){return this.Ku()},e.prototype.Gu=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.Wn.Xo(n,t).next((function(t){return t?e.yu.Yn(n,t):Pe.resolve(null)}))}))},e.prototype.zu=function(t){this.Wn.na(t)},e.prototype.uo=function(t){this.persistence.uo(t)},e.prototype.So=function(){return this.persistence.So()},e.prototype.Hu=function(t){var e=this,n=this.Pu.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Jh.si(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.Kr=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.pu.Kr(e,t.gu)})).then((function(e){var n=e.Gr;return t.gu=e.readTime,n}))},e.prototype.Ku=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.pu.Hr(t)}))];case 1:return t.gu=n.sent(),[2]}}))}))},e}(tr);function nr(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(t.code!==f.FAILED_PRECONDITION||t.message!==Ae)throw t;return ve("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var rr=function(){function t(){this.Yu=new jt(ir.Ju),this.Xu=new jt(ir.Zu)}return t.prototype.B=function(){return this.Yu.B()},t.prototype.yh=function(t,e){var n=new ir(t,e);this.Yu=this.Yu.add(n),this.Xu=this.Xu.add(n)},t.prototype.tc=function(t,e){var n=this;t.forEach((function(t){return n.yh(t,e)}))},t.prototype.vh=function(t,e){this.ec(new ir(t,e))},t.prototype.sc=function(t,e){var n=this;t.forEach((function(t){return n.vh(t,e)}))},t.prototype.ic=function(t){var e=this,n=T.EMPTY,r=new ir(n,t),i=new ir(n,t+1),o=[];return this.Xu.Ke([r,i],(function(t){e.ec(t),o.push(t.key)})),o},t.prototype.nc=function(){var t=this;this.Yu.forEach((function(e){return t.ec(e)}))},t.prototype.ec=function(t){this.Yu=this.Yu.delete(t),this.Xu=this.Xu.delete(t)},t.prototype.rc=function(t){var e=T.EMPTY,n=new ir(e,t),r=new ir(e,t+1),i=Kt();return this.Xu.Ke([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ch=function(t){var e=new ir(t,0),n=this.Yu.ze(e);return null!==n&&t.isEqual(n.key)},t}(),ir=function(){function t(t,e){this.key=t,this.hc=e}return t.Ju=function(t,e){return T.N(t.key,e.key)||Ce(t.hc,e.hc)},t.Zu=function(t,e){return Ce(t.hc,e.hc)||T.N(t.key,e.key)},t}();function or(t,e){if(0!==e.length)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+kr(e.length,"argument")+".")}function lr(t,e,n){if(e.length!==n)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires "+kr(n,"argument")+", but was called with "+kr(e.length,"argument")+".")}function ar(t,e,n){if(e.length<n)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires at least "+kr(n,"argument")+", but was called with "+kr(e.length,"argument")+".")}function sr(t,e,n,r){if(e.length<n||e.length>r)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+kr(e.length,"argument")+".")}function ur(t,e,n,r){vr(t,e,Cr(n)+" argument",r)}function cr(t,e,n,r){void 0!==r&&ur(t,e,n,r)}function hr(t,e,n,r){vr(t,e,n+" option",r)}function fr(t,e,n,r){void 0!==r&&hr(t,e,n,r)}function dr(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],l=0,a=i;l<a.length;l++){var s=a[l];if(s===r)return;o.push(mr(s))}var u=mr(r);throw new d(f.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function pr(t,e,n,r){if(!e.some((function(t){return t===r})))throw new d(f.INVALID_ARGUMENT,"Invalid value "+mr(r)+" provided to function "+t+"() for its "+Cr(n)+" argument. Acceptable values: "+e.join(", "));return r}function vr(t,e,n,r){if(!("object"===e?gr(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=mr(r);throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function gr(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function mr(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ye()}function yr(t,e,n){if(void 0===n)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Cr(e)+" argument, but it was undefined.")}function _r(t,e,n){S(e,(function(e,r){if(n.indexOf(e)<0)throw new d(f.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function br(t,e,n,r){var i=mr(r);return new d(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+Cr(n)+" argument to be a "+e+", but it was: "+i)}function wr(t,e,n){if(n<=0)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+Cr(e)+" argument to be a positive number, but it was: "+n+".")}function Cr(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function kr(t,e){return t+" "+e+(1===t?"":"s")}function Er(){if("undefined"==typeof Uint8Array)throw new d(f.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Tr(){if(!fe.nt().oc)throw new d(f.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ir=function(){function t(t){Tr(),this.ac=t}return t.fromBase64String=function(e){lr("Blob.fromBase64String",arguments,1),ur("Blob.fromBase64String","string",1,e),Tr();try{return new t(O.fromBase64String(e))}catch(e){throw new d(f.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(lr("Blob.fromUint8Array",arguments,1),Er(),!(e instanceof Uint8Array))throw br("Blob.fromUint8Array","Uint8Array",1,e);return new t(O.fromUint8Array(e))},t.prototype.toBase64=function(){return lr("Blob.toBase64",arguments,0),Tr(),this.ac.toBase64()},t.prototype.toUint8Array=function(){return lr("Blob.toUint8Array",arguments,0),Er(),this.ac.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.ac.isEqual(t.ac)},t}(),Sr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new d(f.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+kr(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(ur("FieldPath","string",n,t[n]),0===t[n].length)throw new d(f.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.uc=new E(t)}return t.documentId=function(){return t.cc},t.prototype.isEqual=function(e){if(!(e instanceof t))throw br("isEqual","FieldPath",1,e);return this.uc.isEqual(e.uc)},t}();Sr.cc=new Sr(E.J().j());var xr=new RegExp("[~\\*/\\[\\]]"),Or=function(){this._c=this},Pr=function(t){function e(e){var n=this;return(n=t.call(this)||this).lc=e,n}return i.__extends(e,t),e.prototype.dc=function(t){if(2!==t.fc)throw t.Tc(1===t.fc?this.lc+"() can only appear at the top level of your update data":this.lc+"() cannot be used with set() unless you pass {merge:true}");return t.Vt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Or),Nr=function(t){function e(e){var n=this;return(n=t.call(this)||this).lc=e,n}return i.__extends(e,t),e.prototype.dc=function(t){return new rt(t.path,X.instance)},e.prototype.isEqual=function(t){return t instanceof e},e}(Or),Ar=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).lc=e,r.Ec=n,r}return i.__extends(e,t),e.prototype.dc=function(t){var e=new zr({fc:3,methodName:this.lc,wc:!0},t.ii,t.serializer,t.ignoreUndefinedProperties),n=this.Ec.map((function(t){return Wr(t,e)})),r=new J(n);return new rt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Or),Dr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).lc=e,r.Ec=n,r}return i.__extends(e,t),e.prototype.dc=function(t){var e=new zr({fc:3,methodName:this.lc,wc:!0},t.ii,t.serializer,t.ignoreUndefinedProperties),n=this.Ec.map((function(t){return Wr(t,e)})),r=new Z(n);return new rt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Or),Rr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).lc=e,r.Ic=n,r}return i.__extends(e,t),e.prototype.dc=function(t){var e=new zr({fc:3,methodName:this.lc},t.ii,t.serializer,t.ignoreUndefinedProperties),n=Wr(this.Ic,e),r=new tt(t.serializer,n);return new rt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Or),Mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.delete=function(){return or("FieldValue.delete",arguments),new Lr(new Pr("FieldValue.delete"))},e.serverTimestamp=function(){return or("FieldValue.serverTimestamp",arguments),new Lr(new Nr("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ar("FieldValue.arrayUnion",arguments,1),new Lr(new Ar("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ar("FieldValue.arrayRemove",arguments,1),new Lr(new Dr("FieldValue.arrayRemove",t))},e.increment=function(t){return ur("FieldValue.increment","number",1,t),lr("FieldValue.increment",arguments,1),new Lr(new Rr("FieldValue.increment",t))},e}(Or),Lr=function(t){function e(e){var n=this;return(n=t.call(this)||this)._c=e,n.lc=e.lc,n}return i.__extends(e,t),e.prototype.dc=function(t){return this._c.dc(t)},e.prototype.isEqual=function(t){return t instanceof e&&this._c.isEqual(t._c)},e}(Mr),Fr=function(){function t(t,e){if(lr("GeoPoint",arguments,2),ur("GeoPoint","number",1,t),ur("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new d(f.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new d(f.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Rc=t,this.Ac=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Rc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.Ac},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Rc===t.Rc&&this.Ac===t.Ac},t.prototype.p=function(t){return Ce(this.Rc,t.Rc)||Ce(this.Ac,t.Ac)},t}(),jr=/^__.*__$/,Vr=function(t,e,n){this.mc=t,this.Pc=e,this.Vc=n},Ur=function(){function t(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}return t.prototype.gc=function(t,e){var n=[];return n.push(null!==this.Vt?new st(t,this.data,this.Vt,e):new at(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ut(t,this.fieldTransforms)),n},t}(),qr=function(){function t(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}return t.prototype.gc=function(t,e){var n=[new st(t,this.data,this.Vt,e)];return this.fieldTransforms.length>0&&n.push(new ut(t,this.fieldTransforms)),n},t}();function Br(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var zr=function(){function t(t,e,n,r,i,o){this.settings=t,this.ii=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.pc(),this.fieldTransforms=i||[],this.Vt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fc",{get:function(){return this.settings.fc},enumerable:!0,configurable:!0}),t.prototype.yc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.ii,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Vt)},t.prototype.bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.yc({path:n,wc:!1});return r.vc(t),r},t.prototype.Sc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.yc({path:n,wc:!1});return r.pc(),r},t.prototype.Dc=function(t){return this.yc({path:void 0,wc:!0})},t.prototype.Tc=function(t){var e=!this.path||this.path.B()?"":" (found in field "+this.path.toString()+")";return new d(f.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.Vt.find((function(e){return t.q(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.q(e.field)}))},t.prototype.pc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.vc(this.path.get(t))},t.prototype.vc=function(t){if(0===t.length)throw this.Tc("Document fields must not be empty");if(Br(this.fc)&&jr.test(t))throw this.Tc('Document fields cannot begin and end with "__"')},t}(),Hr=function(){function t(t,e,n){this.ii=t,this.ignoreUndefinedProperties=e,this.serializer=n||fe.nt().Cc(t)}return t.prototype.Fc=function(t,e){var n=this.Nc(0,t);Qr("Data must be an object, but it was:",n,e);var r=Gr(e,n);return new Ur(new ft(r),null,n.fieldTransforms)},t.prototype.$c=function(t,e,n){var r=this.Nc(2,t);Qr("Data must be an object, but it was:",r,e);var i,o,l=Gr(e,r);if(n){for(var a=[],s=0,u=n;s<u.length;s++){var c=u[s],h=void 0;if(c instanceof Sr)h=c.uc;else{if("string"!=typeof c)throw ye();h=Yr(t,c)}if(!r.contains(h))throw new d(f.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");Xr(a,h)||a.push(h)}i=new nt(a),o=r.fieldTransforms.filter((function(t){return i.dt(t.field)}))}else i=new nt(r.Vt),o=r.fieldTransforms;return new Ur(new ft(l),i,o)},t.prototype.kc=function(t,e){var n=this.Nc(1,t);Qr("Data must be an object, but it was:",n,e);var r=[],i=new dt;S(e,(function(e,o){var l=Yr(t,e),a=n.Sc(l);if(o instanceof Or&&o._c instanceof Pr)r.push(l);else{var s=Wr(o,a);null!=s&&(r.push(l),i.set(l,s))}}));var o=new nt(r);return new qr(i.yt(),o,n.fieldTransforms)},t.prototype.Mc=function(t,e,n,r){var i=this.Nc(1,t),o=[$r(t,e)],l=[n];if(r.length%2!=0)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push($r(t,r[a])),l.push(r[a+1]);for(var s=[],u=new dt,c=o.length-1;c>=0;--c)if(!Xr(s,o[c])){var h=o[c],p=l[c],v=i.Sc(h);if(p instanceof Or&&p._c instanceof Pr)s.push(h);else{var g=Wr(p,v);null!=g&&(s.push(h),u.set(h,g))}}var m=new nt(s);return new qr(u.yt(),m,i.fieldTransforms)},t.prototype.Nc=function(t,e){return new zr({fc:t,methodName:e,path:E.G,wc:!1},this.ii,this.serializer,this.ignoreUndefinedProperties)},t.prototype.xc=function(t,e,n){return void 0===n&&(n=!1),Wr(e,this.Nc(n?4:3,t))},t}();function Wr(t,e){if(Kr(t))return Qr("Unsupported field value:",e,t),Gr(t,e);if(t instanceof Or)return function(t,e){if(!Br(e.fc))throw e.Tc(t.lc+"() can only be used with update() and set()");if(null===e.path)throw e.Tc(t.lc+"() is not currently supported inside arrays");var n=t.dc(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Vt.push(e.path),t instanceof Array){if(e.settings.wc&&4!==e.fc)throw e.Tc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var l=Wr(o[i],e.Dc(r));null==l&&(l={nullValue:"NULL_VALUE"}),n.push(l),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return e.serializer.ai(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=_.fromDate(t);return{timestampValue:e.serializer.C(n)}}if(t instanceof _){var r=new _(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:e.serializer.C(r)}}if(t instanceof Fr)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ir)return{bytesValue:e.serializer.ui(t)};if(t instanceof Vr){var i=e.ii,o=t.mc;if(!o.isEqual(i))throw e.Tc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:e.serializer._i(t.Pc.path,t.mc)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.Tc("Unsupported field value: "+mr(t))}(t,e)}function Gr(t,e){var n={};return x(t)?e.path&&e.path.length>0&&e.Vt.push(e.path):S(t,(function(t,r){var i=Wr(r,e.bc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Kr(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _||t instanceof Fr||t instanceof Ir||t instanceof Vr||t instanceof Or)}function Qr(t,e,n){if(!Kr(n)||!gr(n)){var r=mr(n);throw e.Tc("an object"===r?t+" a custom object":t+" "+r)}}function $r(t,e){if(e instanceof Sr)return e.uc;if("string"==typeof e)return Yr(t,e);throw new d(f.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Yr(t,e){try{return function(t){if(t.search(xr)>=0)throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Sr.bind.apply(Sr,i.__spreadArrays([void 0],t.split("."))))}catch(i){throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).uc}catch(e){var n=(r=e)instanceof Error?r.message:r.toString();throw new d(f.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}var r}function Xr(t,e){return t.some((function(t){return t.isEqual(e)}))}var Jr=function(){function t(t,e,n,r,i,o){this.Tr=t,this.Lc=n,this.Oc=r,this.Bc=i,this.listener=o,this.state=0,this.qc=0,this.Uc=null,this.stream=null,this.Na=new je(t,e)}return t.prototype.Qc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Wc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.jc()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Qc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Kc=function(){this.state=0,this.Na.reset()},t.prototype.Gc=function(){var t=this;this.Wc()&&null===this.Uc&&(this.Uc=this.Tr.yr(this.Lc,6e4,(function(){return t.zc()})))},t.prototype.Hc=function(t){this.Yc(),this.stream.send(t)},t.prototype.zc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Wc()?[2,this.close(0)]:[2]}))}))},t.prototype.Yc=function(){this.Uc&&(this.Uc.cancel(),this.Uc=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Yc(),this.Na.cancel(),this.qc++,3!==t?this.Na.reset():e&&e.code===f.RESOURCE_EXHAUSTED?(ge(e.toString()),ge("Using maximum backoff delay to prevent overloading the backend."),this.Na.Vr()):e&&e.code===f.UNAUTHENTICATED&&this.Bc._(),null!==this.stream&&(this.Jc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Xc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Jc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Zc(this.qc),n=this.qc;this.Bc.getToken().then((function(e){t.qc===n&&t.t_(e)}),(function(n){e((function(){var e=new d(f.UNKNOWN,"Fetching auth token failed: "+n.message);return t.e_(e)}))}))},t.prototype.t_=function(t){var e=this,n=this.Zc(this.qc);this.stream=this.s_(t),this.stream.i_((function(){n((function(){return e.state=2,e.listener.i_()}))})),this.stream.Xc((function(t){n((function(){return e.e_(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.jc=function(){var t=this;this.state=4,this.Na.gr((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.e_=function(t){return ve("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Zc=function(t){var e=this;return function(n){e.Tr.co((function(){return e.qc===t?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Zr=function(t){function e(e,n,r,i,o){var l=this;return(l=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,l}return i.__extends(e,t),e.prototype.s_=function(t){return this.Oc.n_("Listen",t)},e.prototype.onMessage=function(t){this.Na.reset();var e=this.serializer.pi(t),n=this.serializer.bi(t);return this.listener.r_(e,n)},e.prototype.h_=function(t){var e={};e.database=this.serializer.Ii,e.addTarget=this.serializer.ee(t);var n=this.serializer.zi(t);n&&(e.labels=n),this.Hc(e)},e.prototype.o_=function(t){var e={};e.database=this.serializer.Ii,e.removeTarget=t,this.Hc(e)},e}(Jr),ti=function(t){function e(e,n,r,i,o){var l=this;return(l=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,l.a_=!1,l.lastStreamToken=O.ht,l}return i.__extends(e,t),Object.defineProperty(e.prototype,"u_",{get:function(){return this.a_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.a_=!1,this.lastStreamToken=O.ht,t.prototype.start.call(this)},e.prototype.Jc=function(){this.a_&&this.c_([])},e.prototype.s_=function(t){return this.Oc.n_("Write",t)},e.prototype.onMessage=function(t){if(_e(!!t.streamToken),this.lastStreamToken=this.serializer.ci(t.streamToken),this.a_){this.Na.reset();var e=this.serializer.xi(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.__(n,e)}return _e(!t.writeResults||0===t.writeResults.length),this.a_=!0,this.listener.l_()},e.prototype.d_=function(){var t={};t.database=this.serializer.Ii,this.Hc(t)},e.prototype.c_=function(t){var e=this,n={streamToken:this.serializer.ui(this.lastStreamToken),writes:t.map((function(t){return e.serializer.vi(t)}))};this.Hc(n)},e}(Jr),ei=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Oc=e,i.credentials=n,i.serializer=r,i}return i.__extends(e,t),e.prototype.T_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Oc.T_(t,e,r)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&n.credentials._(),t}))},e.prototype.E_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Oc.E_(t,e,r)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&n.credentials._(),t}))},e}((function(){this.f_=void 0})),ni=function(){function t(t){this.w_=t,this.I_=new Map,this.mutations=[],this.R_=!1,this.A_=null,this.m_=new Set}return t.prototype.P_=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.V_(),this.mutations.length>0)throw new d(f.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,l,a;return i.__generator(this,(function(i){switch(i.label){case 0:return n=be(t),r={database:n.serializer.Ii,documents:e.map((function(t){return n.serializer.fi(t)}))},[4,n.E_("BatchGetDocuments",r)];case 1:return o=i.sent(),l=new Map,o.forEach((function(t){var e=n.serializer.gi(t);l.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=l.get(t.toString());_e(!!e),a.push(e)})),a)]}}))}))}(this.w_,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof _t||t instanceof yt?n.g_(t):ye()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.gc(t,this.Rt(t))),this.m_.add(t)},t.prototype.update=function(t,e){try{this.write(e.gc(t,this.p_(t)))}catch(t){this.A_=t}this.m_.add(t)},t.prototype.delete=function(t){this.write([new ct(t,this.Rt(t))]),this.m_.add(t)},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.V_(),this.A_)throw this.A_;return t=this.I_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=new T(C.K(n));e.mutations.push(new ht(r,e.Rt(r)))})),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return n=be(t),r={database:n.serializer.Ii,writes:e.map((function(t){return n.serializer.vi(t)}))},[4,n.T_("Commit",r)];case 1:return o=i.sent(),[2,n.serializer.xi(o.writeResults,o.commitTime)]}}))}))}(this.w_,this.mutations)];case 1:return n.sent(),this.R_=!0,[2]}}))}))},t.prototype.g_=function(t){var e;if(t instanceof yt)e=t.version;else{if(!(t instanceof _t))throw ye();e=b.min()}var n=this.I_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new d(f.ABORTED,"Document version changed between two reads.")}else this.I_.set(t.key.toString(),e)},t.prototype.Rt=function(t){var e=this.I_.get(t.toString());return!this.m_.has(t)&&e?ot.updateTime(e):ot.ft()},t.prototype.p_=function(t){var e=this.I_.get(t.toString());if(!this.m_.has(t)&&e){if(e.isEqual(b.min()))throw new d(f.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ot.updateTime(e)}return ot.exists(!0)},t.prototype.write=function(t){this.V_(),this.mutations=this.mutations.concat(t)},t.prototype.V_=function(){},t}(),ri=function(){function t(t,e){this.Ra=t,this.y_=e,this.state="Unknown",this.b_=0,this.v_=null,this.S_=!0}return t.prototype.D_=function(){var t=this;0===this.b_&&(this.C_("Unknown"),this.v_=this.Ra.yr("online_state_timeout",1e4,(function(){return t.v_=null,t.F_("Backend didn't respond within 10 seconds."),t.C_("Offline"),Promise.resolve()})))},t.prototype.N_=function(t){"Online"===this.state?this.C_("Unknown"):(this.b_++,this.b_>=1&&(this.k_(),this.F_("Connection failed 1 times. Most recent error: "+t.toString()),this.C_("Offline")))},t.prototype.set=function(t){this.k_(),this.b_=0,"Online"===t&&(this.S_=!1),this.C_(t)},t.prototype.C_=function(t){t!==this.state&&(this.state=t,this.y_(t))},t.prototype.F_=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.S_?(ge(e),this.S_=!1):ve("OnlineStateTracker",e)},t.prototype.k_=function(){null!==this.v_&&(this.v_.cancel(),this.v_=null)},t}(),ii=function(){function t(t,e,n,r,o){var l=this;this.M_=t,this.w_=e,this.Ra=n,this.x_=[],this.L_=new Map,this.O_=null,this.networkEnabled=!1,this.isPrimary=!1,this.B_=!1,this.q_=o,this.q_.U_((function(t){n.co((function(){return i.__awaiter(l,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Q_()?(ve("RemoteStore","Restarting streams for network reachability change."),[4,this.W_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.j_=new ri(n,r),this.K_=function(t,e,n){var r=be(t);return new Zr(e,r.Oc,r.credentials,r.serializer,n)}(this.w_,n,{i_:this.G_.bind(this),Xc:this.z_.bind(this),r_:this.H_.bind(this)}),this.Y_=function(t,e,n){var r=be(t);return new ti(e,r.Oc,r.credentials,r.serializer,n)}(this.w_,n,{i_:this.J_.bind(this),Xc:this.X_.bind(this),l_:this.Z_.bind(this),__:this.__.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.networkEnabled=!0,this.tl()},t.prototype.tl=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Q_()?(this.el()?this.sl():this.j_.set("Unknown"),[4,this.il()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.nl()];case 1:return t.sent(),this.j_.set("Offline"),[2]}}))}))},t.prototype.nl=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Y_.stop()];case 1:return t.sent(),[4,this.K_.stop()];case 2:return t.sent(),this.x_.length>0&&(ve("RemoteStore","Stopping write stream with "+this.x_.length+" pending writes"),this.x_=[]),this.rl(),[2]}}))}))},t.prototype.Vo=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return ve("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.nl()];case 1:return t.sent(),this.q_.Vo(),this.j_.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.L_.has(t.targetId)||(this.L_.set(t.targetId,t),this.el()?this.sl():this.K_.Wc()&&this.hl(t))},t.prototype.ol=function(t){this.L_.delete(t),this.K_.Wc()&&this.al(t),0===this.L_.size&&(this.K_.Wc()?this.K_.Gc():this.Q_()&&this.j_.set("Unknown"))},t.prototype.si=function(t){return this.L_.get(t)||null},t.prototype.ei=function(t){return this.ul.ei(t)},t.prototype.hl=function(t){this.O_.Ns(t.targetId),this.K_.h_(t)},t.prototype.al=function(t){this.O_.Ns(t),this.K_.o_(t)},t.prototype.sl=function(){this.O_=new oe(this),this.K_.start(),this.j_.D_()},t.prototype.el=function(){return this.Q_()&&!this.K_.Qc()&&this.L_.size>0},t.prototype.Q_=function(){return!this.B_&&this.isPrimary&&this.networkEnabled},t.prototype.rl=function(){this.O_=null},t.prototype.G_=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){return this.L_.forEach((function(e,n){t.hl(e)})),[2]}))}))},t.prototype.z_=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.rl(),this.el()?(this.j_.N_(t),this.sl()):this.j_.set("Unknown"),[2]}))}))},t.prototype.H_=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.j_.set("Online"),!(t instanceof re&&2===t.state&&t.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.cl(t)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),ve("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this._l(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ee?this.O_.qs(t):t instanceof ne?this.O_.Hs(t):this.O_.Ws(t),e.isEqual(b.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,this.M_._h()];case 8:return r=i.sent(),e.S(r)>=0?[4,this.ll(e)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return ve("RemoteStore","Failed to raise snapshot:",o=i.sent()),[4,this._l(o)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},t.prototype._l=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(!Vn(t))throw t;return this.B_=!0,[4,this.nl()];case 1:return r.sent(),this.j_.set("Offline"),e||(e=function(){return n.M_._h()}),this.Ra.lo((function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return ve("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.B_=!1,[4,this.tl()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.dl=function(t){var e=this;return t().catch((function(n){return e._l(n,t)}))},t.prototype.ll=function(t){var e=this,n=this.O_.Xs(t);return n.as.forEach((function(n,r){if(n.resumeToken.rt()>0){var i=e.L_.get(r);i&&e.L_.set(r,i.Ie(n.resumeToken,t))}})),n.us.forEach((function(t){var n=e.L_.get(t);if(n){e.L_.set(t,n.Ie(O.ht,n.Ee)),e.al(t);var r=new Nt(n.target,t,1,n.sequenceNumber);e.hl(r)}})),this.ul.Mu(n)},t.prototype.cl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:e=t.cause,n=0,r=t.targetIds,i.label=1;case 1:return n<r.length?this.L_.has(o=r[n])?[4,this.ul.fl(o,e)]:[3,3]:[3,5];case 2:i.sent(),this.L_.delete(o),this.O_.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.il=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n;return i.__generator(this,(function(r){switch(r.label){case 0:t=this.x_.length>0?this.x_[this.x_.length-1].batchId:-1,r.label=1;case 1:if(!this.Tl())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.M_.Bu(t)];case 3:return null===(e=r.sent())?(0===this.x_.length&&this.Y_.Gc(),[3,7]):(t=e.batchId,this.El(e),[3,6]);case 4:return n=r.sent(),[4,this._l(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.wl()&&this.Il(),[2]}}))}))},t.prototype.Tl=function(){return this.Q_()&&this.x_.length<10},t.prototype.Rl=function(){return this.x_.length},t.prototype.El=function(t){this.x_.push(t),this.Y_.Wc()&&this.Y_.u_&&this.Y_.c_(t.mutations)},t.prototype.wl=function(){return this.Q_()&&!this.Y_.Qc()&&this.x_.length>0},t.prototype.Il=function(){this.Y_.start()},t.prototype.J_=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Y_.d_(),[2]}))}))},t.prototype.Z_=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e;return i.__generator(this,(function(n){for(t=0,e=this.x_;t<e.length;t++)this.Y_.c_(e[t].mutations);return[2]}))}))},t.prototype.__=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=this.x_.shift(),r=Oe.from(n,t,e),[4,this.dl((function(){return o.ul.Al(r)}))];case 1:return i.sent(),[4,this.il()];case 2:return i.sent(),[2]}}))}))},t.prototype.X_=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t&&this.Y_.u_?[4,this.ml(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.wl()&&this.Il(),[2]}}))}))},t.prototype.ml=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return Dt(n=t.code)&&n!==f.ABORTED?(e=this.x_.shift(),this.Y_.Kc(),[4,this.dl((function(){return r.ul.Pl(e.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,this.il()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.Vl=function(){return new ni(this.w_)},t.prototype.W_=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.nl()];case 1:return t.sent(),this.j_.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.gl=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Q_()?(ve("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.W_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.pl=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:[4,this.nl()];case 3:e.sent(),this.j_.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function oi(t,e){return"firestore_clients_"+t+"_"+e}function li(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.t()&&(r+="_"+e.uid),r}function ai(t,e){return"firestore_targets_"+t+"_"+e}var si=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.yl=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),l=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(l=new d(i.error.code,i.error.message)),o?new t(e,n,i.state,l):(ge("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.bl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ui=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.yl=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new d(r.error.code,r.error.message)),i?new t(e,r.state,o):(ge("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.bl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ci=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.yl=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=$t(),l=0;i&&l<r.activeTargetIds.length;++l)i=A(r.activeTargetIds[l]),o=o.add(r.activeTargetIds[l]);return i?new t(e,o):(ge("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),hi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.yl=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ge("SharedClientState","Failed to parse online state: "+e),null)},t}(),fi=function(){function t(){this.activeTargetIds=$t()}return t.prototype.vl=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Sl=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.bl=function(){var t={activeTargetIds:this.activeTargetIds.W(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),di=function(){function t(e,n,r,i,o){if(this.Tr=e,this.platform=n,this.persistenceKey=r,this.Dl=i,this.ul=null,this.y_=null,this.ur=null,this.Cl=this.Fl.bind(this),this.Nl=new Mt(Ce),this.ho=!1,this.$l=[],!t.zh(this.platform))throw new d(f.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.kl=oi(this.persistenceKey,this.Dl),this.Ml=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Nl=this.Nl.Ae(this.Dl,new fi),this.xl=new RegExp("^firestore_clients_"+l+"_([^_]*)$"),this.Ll=new RegExp("^firestore_mutations_"+l+"_(\\d+)(?:_(.*))?$"),this.Ol=new RegExp("^firestore_targets_"+l+"_(\\d+)$"),this.Bl=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Cl)}return t.zh=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,o,l,a,s,u,c,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.ul.So()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Dl&&(o=this.getItem(oi(this.persistenceKey,r)))&&(l=ci.yl(r,o))&&(this.Nl=this.Nl.Ae(l.clientId,l));for(this.ql(),(a=this.storage.getItem(this.Bl))&&(s=this.Ul(a))&&this.Ql(s),u=0,c=this.$l;u<c.length;u++)this.Fl(c[u]);return this.$l=[],this.platform.window.addEventListener("unload",(function(){return h.Vo()})),this.ho=!0,[2]}}))}))},t.prototype.lr=function(t){this.setItem(this.Ml,JSON.stringify(t))},t.prototype.Wl=function(){return this.jl(this.Nl)},t.prototype.Kl=function(t){var e=!1;return this.Nl.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Gl=function(t){this.zl(t,"pending")},t.prototype.Hl=function(t,e,n){this.zl(t,e,n),this.Yl(t)},t.prototype.Jl=function(t){var e="not-current";if(this.Kl(t)){var n=this.storage.getItem(ai(this.persistenceKey,t));if(n){var r=ui.yl(t,n);r&&(e=r.state)}}return this.Xl.vl(t),this.ql(),e},t.prototype.Zl=function(t){this.Xl.Sl(t),this.ql()},t.prototype.td=function(t){return this.Xl.activeTargetIds.has(t)},t.prototype.ed=function(t){this.removeItem(ai(this.persistenceKey,t))},t.prototype.sd=function(t,e,n){this.nd(t,e,n)},t.prototype.vu=function(t,e,n){var r=this;e.forEach((function(t){r.Yl(t)})),this.currentUser=t,n.forEach((function(t){r.Gl(t)}))},t.prototype.rd=function(t){this.hd(t)},t.prototype.Vo=function(){this.ho&&(this.platform.window.removeEventListener("storage",this.Cl),this.removeItem(this.kl),this.ho=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ve("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ve("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ve("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fl=function(t){var e=this;if(t.storageArea===this.storage){if(ve("SharedClientState","EVENT",t.key,t.newValue),t.key===this.kl)return void ge("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Tr.lo((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n,r,o,l,a;return i.__generator(this,(function(i){if(this.ho){if(null!==t.key)if(this.xl.test(t.key)){if(null==t.newValue)return e=this.od(t.key),[2,this.ad(e,null)];if(n=this.ud(t.key,t.newValue))return[2,this.ad(n.clientId,n)]}else if(this.Ll.test(t.key)){if(null!==t.newValue&&(r=this._d(t.key,t.newValue)))return[2,this.ld(r)]}else if(this.Ol.test(t.key)){if(null!==t.newValue&&(o=this.dd(t.key,t.newValue)))return[2,this.fd(o)]}else if(t.key===this.Bl){if(null!==t.newValue&&(l=this.Ul(t.newValue)))return[2,this.Ql(l)]}else t.key===this.Ml&&(a=function(t){var e=Le.dr;if(null!=t)try{var n=JSON.parse(t);_e("number"==typeof n),e=n}catch(t){ge("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Le.dr&&this.ur(a)}else this.$l.push(t);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Xl",{get:function(){return this.Nl.get(this.Dl)},enumerable:!0,configurable:!0}),t.prototype.ql=function(){this.setItem(this.kl,this.Xl.bl())},t.prototype.zl=function(t,e,n){var r=new si(this.currentUser,t,e,n),i=li(this.persistenceKey,this.currentUser,t);this.setItem(i,r.bl())},t.prototype.Yl=function(t){var e=li(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.hd=function(t){this.storage.setItem(this.Bl,JSON.stringify({clientId:this.Dl,onlineState:t}))},t.prototype.nd=function(t,e,n){var r=ai(this.persistenceKey,t),i=new ui(t,e,n);this.setItem(r,i.bl())},t.prototype.od=function(t){var e=this.xl.exec(t);return e?e[1]:null},t.prototype.ud=function(t,e){var n=this.od(t);return ci.yl(n,e)},t.prototype._d=function(t,e){var n=this.Ll.exec(t),r=Number(n[1]);return si.yl(new h(void 0!==n[2]?n[2]:null),r,e)},t.prototype.dd=function(t,e){var n=this.Ol.exec(t),r=Number(n[1]);return ui.yl(r,e)},t.prototype.Ul=function(t){return hi.yl(t)},t.prototype.ld=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.ul.Td(t.batchId,t.state,t.error)]:(ve("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.fd=function(t){return this.ul.Ed(t.targetId,t.state,t.error)},t.prototype.ad=function(t,e){var n=this,r=e?this.Nl.Ae(t,e):this.Nl.remove(t),i=this.jl(this.Nl),o=this.jl(r),l=[],a=[];return o.forEach((function(t){i.has(t)||l.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.ul.wd(l,a).then((function(){n.Nl=r}))},t.prototype.Ql=function(t){this.Nl.get(t.clientId)&&this.y_(t.onlineState)},t.prototype.jl=function(t){var e=$t();return t.forEach((function(t,n){e=e.He(n.activeTargetIds)})),e},t}(),pi=function(){function t(){this.Id=new fi,this.Rd={},this.ul=null,this.y_=null,this.ur=null}return t.prototype.Gl=function(t){},t.prototype.Hl=function(t,e,n){},t.prototype.Jl=function(t){return this.Id.vl(t),this.Rd[t]||"not-current"},t.prototype.sd=function(t,e,n){this.Rd[t]=e},t.prototype.Zl=function(t){this.Id.Sl(t)},t.prototype.td=function(t){return this.Id.activeTargetIds.has(t)},t.prototype.ed=function(t){delete this.Rd[t]},t.prototype.Wl=function(){return this.Id.activeTargetIds},t.prototype.Kl=function(t){return this.Id.activeTargetIds.has(t)},t.prototype.start=function(){return this.Id=new fi,Promise.resolve()},t.prototype.vu=function(t,e,n){},t.prototype.rd=function(t){},t.prototype.Vo=function(){},t.prototype.lr=function(t){},t}(),vi=function(t){this.key=t},gi=function(t){this.key=t},mi=function(){function t(t,e){this.query=t,this.Ad=e,this.md=null,this.fs=!1,this.Pd=Kt(),this.ns=Kt(),this.Vd=new Yt(t.se.bind(t))}return Object.defineProperty(t.prototype,"gd",{get:function(){return this.Ad},enumerable:!0,configurable:!0}),t.prototype.pd=function(t,e){var n=this,r=e?e.yd:new Xt,i=e?e.Vd:this.Vd,o=e?e.ns:this.ns,l=i,a=!1,s=this.query.oe()&&i.size===this.query.limit?i.last():null,u=this.query.ae()&&i.size===this.query.limit?i.first():null;if(t.pe((function(t,e){var c=i.get(t),h=e instanceof yt?e:null;h&&(h=n.query.matches(h)?h:null);var f=!!c&&n.ns.has(c.key),d=!!h&&(h.At||n.ns.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.bd(c,h)||(r.track({type:2,doc:h}),p=!0,(s&&n.query.se(h,s)>0||u&&n.query.se(h,u)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(s||u)&&(a=!0)),p&&(h?(l=l.add(h),o=d?o.add(t):o.delete(t)):(l=l.delete(t),o=o.delete(t)))})),this.query.oe()||this.query.ae())for(;l.size>this.query.limit;){var c=this.query.oe()?l.last():l.first();l=l.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Vd:l,yd:r,vd:a,ns:o}},t.prototype.bd=function(t,e){return t.At&&e.hasCommittedMutations&&!e.At},t.prototype.On=function(t,e,n){var r=this,i=this.Vd;this.Vd=t.Vd,this.ns=t.ns;var o=t.yd.es();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return n(t)-n(e)}(t.type,e.type)||r.query.se(t.doc,e.doc)})),this.Sd(n);var l=e?this.Dd():[],a=0===this.Pd.size&&this.fs?1:0,s=a!==this.md;return this.md=a,0!==o.length||s?{snapshot:new Jt(this.query,t.Vd,i,o,t.ns,0===a,s,!1),Cd:l}:{Cd:l}},t.prototype.Fd=function(t){return this.fs&&"Offline"===t?(this.fs=!1,this.On({Vd:this.Vd,yd:new Xt,ns:this.ns,vd:!1},!1)):{Cd:[]}},t.prototype.Nd=function(t){return!this.Ad.has(t)&&!!this.Vd.has(t)&&!this.Vd.get(t).At},t.prototype.Sd=function(t){var e=this;t&&(t.Ts.forEach((function(t){return e.Ad=e.Ad.add(t)})),t.Es.forEach((function(t){})),t.ws.forEach((function(t){return e.Ad=e.Ad.delete(t)})),this.fs=t.fs)},t.prototype.Dd=function(){var t=this;if(!this.fs)return[];var e=this.Pd;this.Pd=Kt(),this.Vd.forEach((function(e){t.Nd(e.key)&&(t.Pd=t.Pd.add(e.key))}));var n=[];return e.forEach((function(e){t.Pd.has(e)||n.push(new gi(e))})),this.Pd.forEach((function(t){e.has(t)||n.push(new vi(t))})),n},t.prototype.$d=function(t){this.Ad=t.ju,this.Pd=Kt();var e=this.pd(t.documents);return this.On(e,!0)},t.prototype.kd=function(){return Jt.os(this.query,this.Vd,this.ns,0===this.md)},t}(),yi=function(){function t(t,e,n,r){this.Ra=t,this.w_=e,this.updateFunction=n,this.Pa=r,this.Md=5,this.Na=new je(this.Ra,"transaction_retry")}return t.prototype.xd=function(){this.Ld()},t.prototype.Ld=function(){var t=this;this.Na.gr((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return i.__generator(this,(function(r){return t=new ni(this.w_),(e=this.Od(t))&&e.then((function(e){n.Ra.co((function(){return t.commit().then((function(){n.Pa.resolve(e)})).catch((function(t){n.Bd(t)}))}))})).catch((function(t){n.Bd(t)})),[2]}))}))}))},t.prototype.Od=function(t){try{var e=this.updateFunction(t);return!P(e)&&e.catch&&e.then?e:(this.Pa.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Pa.reject(t),null}},t.prototype.Bd=function(t){var e=this;this.Md>0&&this.qd(t)?(this.Md-=1,this.Ra.co((function(){return e.Ld(),Promise.resolve()}))):this.Pa.reject(t)},t.prototype.qd=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Dt(e)}return!1},t}(),_i=function(t,e,n){this.query=t,this.targetId=e,this.view=n},bi=function(t){this.key=t,this.Ud=!1},wi=function(){function t(t,e,n,r,i,o){this.M_=t,this.Qd=e,this.w_=n,this.Wd=r,this.currentUser=i,this.jd=o,this.Kd=null,this.Gd=new Se((function(t){return t.canonicalId()})),this.zd=new Map,this.Hd=[],this.Yd=new Mt(T.N),this.Jd=new Map,this.Xd=new rr,this.Zd={},this.tf=new Map,this.ef=Je.rh(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"sf",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.Kd=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.if("listen()"),(n=this.Gd.get(t))?(this.Wd.Jl(n.targetId),e=n.view.kd(),[3,4]):[3,1];case 1:return[4,this.M_.Uu(t.ee())];case 2:return r=i.sent(),o=this.Wd.Jl(r.targetId),[4,this.nf(t,r.targetId,"current"===o)];case 3:e=i.sent(),this.sf&&this.Qd.listen(r),i.label=4;case 4:return[2,e]}}))}))},t.prototype.nf=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,l,a,s,u;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.M_.Wu(t,!0)];case 1:return r=i.sent(),o=new mi(t,r.ju),l=o.pd(r.documents),a=te.ds(e,n&&"Offline"!==this.onlineState),s=o.On(l,this.sf,a),this.rf(e,s.Cd),u=new _i(t,e,o),[2,(this.Gd.set(t,u),this.zd.has(e)?this.zd.get(e).push(t):this.zd.set(e,[t]),s.snapshot)]}}))}))},t.prototype.ol=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.if("unlisten()"),e=this.Gd.get(t),(n=this.zd.get(e.targetId)).length>1?[2,(this.zd.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.Gd.delete(t))]:this.sf?(this.Wd.Zl(e.targetId),this.Wd.Kl(e.targetId)?[3,2]:[4,this.M_.Qu(e.targetId,!1).then((function(){r.Wd.ed(e.targetId),r.Qd.ol(e.targetId),r.hf(e.targetId)})).catch(nr)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.hf(e.targetId),[4,this.M_.Qu(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.if("write()"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this.M_.Fu(t)];case 2:return n=i.sent(),this.Wd.Gl(n.batchId),this.af(n.batchId,e),[4,this.uf(n.Dn)];case 3:return i.sent(),[4,this.Qd.il()];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),o=Kn(r,"Failed to persist write"),e.reject(o),[3,6];case 6:return[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new yi(t,this.w_,e,n).xd()},t.prototype.Mu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.if("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.M_.Mu(t)];case 2:return e=r.sent(),t.as.forEach((function(t,e){var r=n.Jd.get(e);r&&(_e(t.Ts.size+t.Es.size+t.ws.size<=1),t.Ts.size>0?r.Ud=!0:t.Es.size>0?_e(r.Ud):t.ws.size>0&&(_e(r.Ud),r.Ud=!1))})),[4,this.uf(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,nr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Fd=function(t,e){this.if("applyOnlineStateChange()");var n=[];this.Gd.forEach((function(e,r){var i=r.view.Fd(t);i.snapshot&&n.push(i.snapshot)})),this.Kd.cf(t),this.Kd.r_(n),this.onlineState=t},t.prototype.fl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,l,a,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.if("rejectListens()"),this.Wd.sd(t,"rejected",e),n=this.Jd.get(t),(r=n&&n.key)?(o=(o=new Mt(T.N)).Ae(r,new _t(r,b.min())),l=Kt().add(r),a=new Zt(b.min(),new Map,new jt(Ce),o,l),[4,this.Mu(a)]):[3,2];case 1:return i.sent(),this.Yd=this.Yd.remove(r),this.Jd.delete(t),this._f(),[3,4];case 2:return[4,this.M_.Qu(t,!1).then((function(){return s.hf(t,e)})).catch(nr)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},t.prototype.Al=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.if("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.M_.Nu(t)];case 2:return n=r.sent(),this.lf(e,null),this.df(e),this.Wd.Hl(e,"acknowledged"),[4,this.uf(n)];case 3:return r.sent(),[3,6];case 4:return[4,nr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Pl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.if("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.M_.ku(t)];case 2:return n=r.sent(),this.lf(t,e),this.df(t),this.Wd.Hl(t,"rejected",e),[4,this.uf(n)];case 3:return r.sent(),[3,6];case 4:return[4,nr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.ff=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.Qd.Q_()||ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.M_.ta()];case 2:return-1===(e=i.sent())?[2,void t.resolve()]:((n=this.tf.get(e)||[]).push(t),this.tf.set(e,n),[3,4]);case 3:return r=i.sent(),o=Kn(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}}))}))},t.prototype.df=function(t){(this.tf.get(t)||[]).forEach((function(t){t.resolve()})),this.tf.delete(t)},t.prototype.Tf=function(t){this.tf.forEach((function(e){e.forEach((function(e){e.reject(new d(f.CANCELLED,t))}))})),this.tf.clear()},t.prototype.af=function(t,e){var n=this.Zd[this.currentUser.s()];n||(n=new Mt(Ce)),n=n.Ae(t,e),this.Zd[this.currentUser.s()]=n},t.prototype.lf=function(t,e){var n=this.Zd[this.currentUser.s()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.Zd[this.currentUser.s()]=n}},t.prototype.hf=function(t,e){var n=this;void 0===e&&(e=null),this.Wd.Zl(t);for(var r=0,i=this.zd.get(t);r<i.length;r++){var o=i[r];this.Gd.delete(o),e&&this.Kd.Ef(o,e)}this.zd.delete(t),this.sf&&this.Xd.ic(t).forEach((function(t){n.Xd.Ch(t)||n.wf(t)}))},t.prototype.wf=function(t){var e=this.Yd.get(t);null!==e&&(this.Qd.ol(e),this.Yd=this.Yd.remove(t),this.Jd.delete(e),this._f())},t.prototype.rf=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof vi?(this.Xd.yh(i.key,t),this.If(i)):i instanceof gi?(ve("SyncEngine","Document no longer in limbo: "+i.key),this.Xd.vh(i.key,t),this.Xd.Ch(i.key)||this.wf(i.key)):ye()}},t.prototype.If=function(t){var e=t.key;this.Yd.get(e)||(ve("SyncEngine","New document in limbo: "+e),this.Hd.push(e),this._f())},t.prototype._f=function(){for(;this.Hd.length>0&&this.Yd.size<this.jd;){var t=this.Hd.shift(),e=this.ef.next();this.Jd.set(e,new bi(t)),this.Yd=this.Yd.Ae(t,e),this.Qd.listen(new Nt(Ct.Wt(t.path).ee(),e,2,Le.dr))}},t.prototype.Rf=function(){return this.Yd},t.prototype.Af=function(){return this.Hd},t.prototype.uf=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,l=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.Gd.forEach((function(i,a){o.push(Promise.resolve().then((function(){var e=a.view.pd(t);return e.vd?l.M_.Wu(a.query,!1).then((function(t){return a.view.pd(t.documents,e)})):e})).then((function(t){var i=e&&e.as.get(a.targetId),o=a.view.On(t,l.sf,i);if(l.rf(a.targetId,o.Cd),o.snapshot){l.sf&&l.Wd.sd(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var s=Me.ar(a.targetId,o.snapshot);r.push(s)}})))})),[4,Promise.all(o)];case 1:return i.sent(),this.Kd.r_(n),[4,this.M_.Ou(r)];case 2:return i.sent(),[2]}}))}))},t.prototype.if=function(t){},t.prototype.gl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:[4,this.M_.vu(t)];case 1:return e=n.sent(),this.currentUser=t,this.Tf("'waitForPendingWrites' promise is rejected due to a user change."),this.Wd.vu(t,e.Du,e.Cu),[4,this.uf(e.Su)];case 2:n.sent(),n.label=3;case 3:return[4,this.Qd.gl()];case 4:return n.sent(),[2]}}))}))},t.prototype.enableNetwork=function(){return this.Qd.enableNetwork()},t.prototype.disableNetwork=function(){return this.Qd.disableNetwork()},t.prototype.ei=function(t){var e=this.Jd.get(t);if(e&&e.Ud)return Kt().add(e.key);var n=Kt(),r=this.zd.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var l=this.Gd.get(o[i]);n=n.He(l.view.gd)}return n},t}(),Ci=function(t){function e(e,n,r,i,o,l){var a=this;return(a=t.call(this,e,n,r,i,o,l)||this).M_=e,a.mf=void 0,a}return i.__extends(e,t),Object.defineProperty(e.prototype,"sf",{get:function(){return!0===this.mf},enumerable:!0,configurable:!0}),e.prototype.enableNetwork=function(){return this.M_.uo(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.M_.uo(!1),t.prototype.disableNetwork.call(this)},e.prototype.Pf=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.M_.Wu(t.query,!0)];case 1:return e=r.sent(),n=t.view.$d(e),[2,(this.mf&&this.rf(t.targetId,n.Cd),n)]}}))}))},e.prototype.Fd=function(e,n){this.sf&&0===n&&(t.prototype.Fd.call(this,e,n),this.Wd.rd(e)),this.sf||1!==n||t.prototype.Fd.call(this,e,n)},e.prototype.Td=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return this.if("applyBatchState()"),[4,this.M_.Gu(t)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.Qd.il()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.lf(t,n||null),this.M_.zu(t)):ye(),i.label=4;case 4:return[4,this.uf(r)];case 5:return i.sent(),[3,7];case 6:ve("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))},e.prototype.pl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,l,a,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!0!==t||!0===this.mf?[3,3]:(e=this.Wd.Wl(),[4,this.Vf(e.W(),!0)]);case 1:return n=i.sent(),this.mf=!0,[4,this.Qd.pl(!0)];case 2:for(i.sent(),r=0,o=n;r<o.length;r++)this.Qd.listen(o[r]);return[3,7];case 3:return!1!==t||!1===this.mf?[3,7]:(l=[],a=Promise.resolve(),this.zd.forEach((function(t,e){s.Wd.td(e)?l.push(e):a=a.then((function(){return s.hf(e),s.M_.Qu(e,!0)})),s.Qd.ol(e)})),[4,a]);case 4:return i.sent(),[4,this.Vf(l,!1)];case 5:return i.sent(),this.gf(),this.mf=!1,[4,this.Qd.pl(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))},e.prototype.gf=function(){var t=this;this.Jd.forEach((function(e,n){t.Qd.ol(n)})),this.Xd.nc(),this.Jd=new Map,this.Yd=new Mt(T.N)},e.prototype.Vf=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,l,a,s,u,c,h,f,d;return i.__generator(this,(function(i){switch(i.label){case 0:e=[],n=[],r=0,o=t,i.label=1;case 1:return r<o.length?(a=void 0,(s=this.zd.get(l=o[r]))&&0!==s.length?[4,this.M_.Uu(s[0].ee())]:[3,7]):[3,13];case 2:a=i.sent(),u=0,c=s,i.label=3;case 3:return u<c.length?(h=this.Gd.get(c[u]),[4,this.Pf(h)]):[3,6];case 4:(f=i.sent()).snapshot&&n.push(f.snapshot),i.label=5;case 5:return u++,[3,3];case 6:return[3,11];case 7:return[4,this.M_.Hu(l)];case 8:return d=i.sent(),[4,this.M_.Uu(d)];case 9:return a=i.sent(),[4,this.nf(this.pf(d),l,!1)];case 10:i.sent(),i.label=11;case 11:e.push(a),i.label=12;case 12:return r++,[3,1];case 13:return[2,(this.Kd.r_(n),e)]}}))}))},e.prototype.pf=function(t){return new Ct(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype.So=function(){return this.M_.So()},e.prototype.Ed=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.mf?(ve("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.zd.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.M_.Kr()];case 3:return r=i.sent(),o=Zt.ls(t,"current"===e),[4,this.uf(r,o)];case 4:return i.sent(),[3,8];case 5:return[4,this.M_.Qu(t,!0)];case 6:return i.sent(),this.hf(t,n),[3,8];case 7:ye(),i.label=8;case 8:return[2]}}))}))},e.prototype.wd=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,l,a,s,u,c,h,f=this;return i.__generator(this,(function(d){switch(d.label){case 0:if(!this.mf)return[3,10];n=0,r=t,d.label=1;case 1:return n<r.length?this.zd.has(o=r[n])?(ve("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.M_.Hu(o)]:[3,6];case 2:return l=d.sent(),[4,this.M_.Uu(l)];case 3:return a=d.sent(),[4,this.nf(this.pf(l),a.targetId,!1)];case 4:d.sent(),this.Qd.listen(a),d.label=5;case 5:return n++,[3,1];case 6:s=function(t){return i.__generator(this,(function(e){switch(e.label){case 0:return u.zd.has(t)?[4,u.M_.Qu(t,!1).then((function(){f.Qd.ol(t),f.hf(t)})).catch(nr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},u=this,c=0,h=e,d.label=7;case 7:return c<h.length?[5,s(h[c])]:[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},e}(wi),ki=function(){this.yf=void 0,this.bf=[]},Ei=function(){function t(t){this.ul=t,this.vf=new Se((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.Sf=new Set,this.ul.subscribe(this)}return t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,l,a;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=!1,(r=this.vf.get(e=t.query))||(n=!0,r=new ki),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),o=r,[4,this.ul.listen(e)];case 2:return o.yf=i.sent(),[3,4];case 3:return l=i.sent(),a=Kn(l,"Initialization of query '"+t.query+"' failed"),[2,void t.onError(a)];case 4:return this.vf.set(e,r),r.bf.push(t),t.Fd(this.onlineState),r.yf&&t.Df(r.yf)&&this.Cf(),[2]}}))}))},t.prototype.ol=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){return n=!1,(r=this.vf.get(e=t.query))&&(o=r.bf.indexOf(t))>=0&&(r.bf.splice(o,1),n=0===r.bf.length),n?[2,(this.vf.delete(e),this.ul.ol(e))]:[2]}))}))},t.prototype.r_=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.vf.get(i.query);if(o){for(var l=0,a=o.bf;l<a.length;l++)a[l].Df(i)&&(e=!0);o.yf=i}}e&&this.Cf()},t.prototype.Ef=function(t,e){var n=this.vf.get(t);if(n)for(var r=0,i=n.bf;r<i.length;r++)i[r].onError(e);this.vf.delete(t)},t.prototype.cf=function(t){this.onlineState=t;var e=!1;this.vf.forEach((function(n,r){for(var i=0,o=r.bf;i<o.length;i++)o[i].Fd(t)&&(e=!0)})),e&&this.Cf()},t.prototype.Ff=function(t){this.Sf.add(t),t.next()},t.prototype.Nf=function(t){this.Sf.delete(t)},t.prototype.Cf=function(){this.Sf.forEach((function(t){t.next()}))},t}(),Ti=function(){function t(t,e,n){this.query=t,this.$f=e,this.kf=!1,this.Mf=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Df=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Jt(t.query,t.docs,t.ss,e,t.ns,t.fromCache,t.rs,!0)}var o=!1;return this.kf?this.xf(t)&&(this.$f.next(t),o=!0):this.Lf(t,this.onlineState)&&(this.Of(t),o=!0),this.Mf=t,o},t.prototype.onError=function(t){this.$f.error(t)},t.prototype.Fd=function(t){this.onlineState=t;var e=!1;return this.Mf&&!this.kf&&this.Lf(this.Mf,t)&&(this.Of(this.Mf),e=!0),e},t.prototype.Lf=function(t,e){return!t.fromCache||!(this.options.Bf&&"Offline"!==e||t.docs.B()&&"Offline"!==e)},t.prototype.xf=function(t){return t.docChanges.length>0||!!(t.rs||this.Mf&&this.Mf.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Of=function(t){t=Jt.os(t.query,t.docs,t.ns,t.fromCache),this.kf=!0,this.$f.next(t)},t}(),Ii=function(){function t(){}return t.prototype.bu=function(t){this.qf=t},t.prototype.Zn=function(t,e,n,r){var i=this;return e.te()||n.isEqual(b.min())?this.Uf(t,e):this.qf.Yn(t,r).next((function(o){var a=i.Qf(e,o);return(e.oe()||e.ae())&&i.vd(e.Bt,a,r,n)?i.Uf(t,e):(pe()<=l.LogLevel.DEBUG&&ve("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.qf.Zn(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ae(e.key,e)})),t})))}))},t.prototype.Qf=function(t,e){var n=new jt((function(e,n){return t.se(e,n)}));return e.forEach((function(e,r){r instanceof yt&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.vd=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.S(r)>0)},t.prototype.Uf=function(t,e){return pe()<=l.LogLevel.DEBUG&&ve("IndexFreeQueryEngine","Using full collection scan to execute query:",e.toString()),this.qf.Zn(t,e,b.min())},t}(),Si=function(){function t(t,e){this.jn=t,this.hh=e,this.Wn=[],this.Wf=1,this.jf=new jt(ir.Ju)}return t.prototype.Ho=function(t){return Pe.resolve(0===this.Wn.length)},t.prototype.Yo=function(t,e,n,r){var i=this.Wf;this.Wf++;var o=new xe(i,e,n,r);this.Wn.push(o);for(var l=0,a=r;l<a.length;l++){var s=a[l];this.jf=this.jf.add(new ir(s.key,i)),this.jn.Dr(t,s.key.path.M())}return Pe.resolve(o)},t.prototype.Jo=function(t,e){return Pe.resolve(this.Kf(e))},t.prototype.Zo=function(t,e){var n=this.Gf(e+1),r=n<0?0:n;return Pe.resolve(this.Wn.length>r?this.Wn[r]:null)},t.prototype.ta=function(){return Pe.resolve(0===this.Wn.length?-1:this.Wf-1)},t.prototype.ea=function(t){return Pe.resolve(this.Wn.slice())},t.prototype.Gn=function(t,e){var n=this,r=new ir(e,0),i=new ir(e,Number.POSITIVE_INFINITY),o=[];return this.jf.Ke([r,i],(function(t){var e=n.Kf(t.hc);o.push(e)})),Pe.resolve(o)},t.prototype.Xn=function(t,e){var n=this,r=new jt(Ce);return e.forEach((function(t){var e=new ir(t,0),i=new ir(t,Number.POSITIVE_INFINITY);n.jf.Ke([e,i],(function(t){r=r.add(t.hc)}))})),Pe.resolve(this.zf(r))},t.prototype.nr=function(t,e){var n=e.path,r=n.length+1,i=n;T.et(i)||(i=i.child(""));var o=new ir(new T(i),0),l=new jt(Ce);return this.jf.Ge((function(t){var e=t.key.path;return!!n.q(e)&&(e.length===r&&(l=l.add(t.hc)),!0)}),o),Pe.resolve(this.zf(l))},t.prototype.zf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Kf(t);null!==r&&n.push(r)})),n},t.prototype.ia=function(t,e){var n=this;_e(0===this.Hf(e.batchId,"removed")),this.Wn.shift();var r=this.jf;return Pe.forEach(e.mutations,(function(i){var o=new ir(i.key,e.batchId);return r=r.delete(o),n.hh.Uo(t,i.key)})).next((function(){n.jf=r}))},t.prototype.na=function(t){},t.prototype.Ch=function(t,e){var n=new ir(e,0),r=this.jf.ze(n);return Pe.resolve(e.isEqual(r&&r.key))},t.prototype.ra=function(t){return Pe.resolve()},t.prototype.Hf=function(t,e){return this.Gf(t)},t.prototype.Gf=function(t){return 0===this.Wn.length?0:t-this.Wn[0].batchId},t.prototype.Kf=function(t){var e=this.Gf(t);return e<0||e>=this.Wn.length?null:this.Wn[e]},t}(),xi=function(){function t(t,e){this.jn=t,this.Yf=e,this.docs=new Mt(T.N),this.size=0}return t.prototype.Nn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,l=this.Yf(e);return this.docs=this.docs.Ae(r,{xr:e,size:l,readTime:n}),this.size+=l-o,this.jn.Dr(t,r.path.M())},t.prototype.kn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Mn=function(t,e){var n=this.docs.get(e);return Pe.resolve(n?n.xr:null)},t.prototype.getEntries=function(t,e){var n=this,r=Bt();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ae(t,e?e.xr:null)})),Pe.resolve(r)},t.prototype.Zn=function(t,e,n){for(var r=Ht(),i=new T(e.path.child("")),o=this.docs.ve(i);o.$e();){var l=o.Ne(),a=l.value,s=a.xr,u=a.readTime;if(!e.path.q(l.key.path))break;u.S(n)<=0||s instanceof yt&&e.matches(s)&&(r=r.Ae(s.key,s))}return Pe.resolve(r)},t.prototype.Jf=function(t,e){return Pe.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Yr=function(e){return new t.Jr(this)},t.prototype.Zr=function(t){return Pe.resolve(this.size)},t}();xi.Jr=function(t){function e(e){var n=this;return(n=t.call(this)||this).th=e,n}return i.__extends(e,t),e.prototype.On=function(t){var e=this,n=[];return this.Dn.forEach((function(r,i){i?n.push(e.th.Nn(t,i,e.readTime)):e.th.kn(r)})),Pe.vn(n)},e.prototype.xn=function(t,e){return this.th.Mn(t,e)},e.prototype.Ln=function(t,e){return this.th.getEntries(t,e)},e}(Ne);var Oi=function(){function t(t){this.persistence=t,this.Xf=new Se((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=b.min(),this.highestTargetId=0,this.Zf=0,this.tT=new rr,this.targetCount=0,this.eT=Je.nh()}return t.prototype.js=function(t,e){return this.Xf.forEach((function(t,n){return e(n)})),Pe.resolve()},t.prototype._h=function(t){return Pe.resolve(this.lastRemoteSnapshotVersion)},t.prototype.lh=function(t){return Pe.resolve(this.Zf)},t.prototype.oh=function(t){return this.highestTargetId=this.eT.next(),Pe.resolve(this.highestTargetId)},t.prototype.dh=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Zf&&(this.Zf=e),Pe.resolve()},t.prototype.Th=function(t){this.Xf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.eT=new Je(e),this.highestTargetId=e),t.sequenceNumber>this.Zf&&(this.Zf=t.sequenceNumber)},t.prototype.fh=function(t,e){return this.Th(e),this.targetCount+=1,Pe.resolve()},t.prototype.wh=function(t,e){return this.Th(e),Pe.resolve()},t.prototype.Ih=function(t,e){return this.Xf.delete(e.target),this.tT.ic(e.targetId),this.targetCount-=1,Pe.resolve()},t.prototype.Ah=function(t,e,n){var r=this,i=0,o=[];return this.Xf.forEach((function(l,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Xf.delete(l),o.push(r.Rh(t,a.targetId)),i++)})),Pe.vn(o).next((function(){return i}))},t.prototype.Vh=function(t){return Pe.resolve(this.targetCount)},t.prototype.gh=function(t,e){var n=this.Xf.get(e)||null;return Pe.resolve(n)},t.prototype.ph=function(t,e,n){return this.tT.tc(e,n),Pe.resolve()},t.prototype.bh=function(t,e,n){this.tT.sc(e,n);var r=this.persistence.hh,i=[];return r&&e.forEach((function(e){i.push(r.Uo(t,e))})),Pe.vn(i)},t.prototype.Rh=function(t,e){return this.tT.ic(e),Pe.resolve()},t.prototype.Sh=function(t,e){var n=this.tT.rc(e);return Pe.resolve(n)},t.prototype.Ch=function(t,e){return Pe.resolve(this.tT.Ch(e))},t}(),Pi=function(){function t(t){var e=this;this.sT={},this.qh=new Le(0),this.Uh=!1,this.Uh=!0,this.hh=t(this),this.Jh=new Oi(this),this.jn=new ze,this.Qn=new xi(this.jn,(function(t){return e.hh.iT(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Vo=function(){return this.Uh=!1,Promise.resolve()},Object.defineProperty(t.prototype,"ho",{get:function(){return this.Uh},enumerable:!0,configurable:!0}),t.prototype.oo=function(){},t.prototype.$o=function(){return this.jn},t.prototype.Do=function(t){var e=this.sT[t.s()];return e||(e=new Si(this.jn,this.hh),this.sT[t.s()]=e),e},t.prototype.Fo=function(){return this.Jh},t.prototype.No=function(){return this.Qn},t.prototype.runTransaction=function(t,e,n){var r=this;ve("MemoryPersistence","Starting transaction:",t);var i=new Ni(this.qh.next());return this.hh.nT(),n(i).next((function(t){return r.hh.rT(i).next((function(){return t}))})).yn().then((function(t){return i.Un(),t}))},t.prototype.hT=function(t,e){return Pe.Sn(Object.values(this.sT).map((function(n){return function(){return n.Ch(t,e)}})))},t}(),Ni=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lh=e,n}return i.__extends(e,t),e}(De),Ai=function(){function t(t){this.persistence=t,this.oT=new rr,this.aT=null}return t.uT=function(e){return new t(e)},Object.defineProperty(t.prototype,"cT",{get:function(){if(this.aT)return this.aT;throw ye()},enumerable:!0,configurable:!0}),t.prototype.yh=function(t,e,n){return this.oT.yh(n,e),this.cT.delete(n),Pe.resolve()},t.prototype.vh=function(t,e,n){return this.oT.vh(n,e),this.cT.add(n),Pe.resolve()},t.prototype.Uo=function(t,e){return this.cT.add(e),Pe.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.oT.ic(e.targetId).forEach((function(t){return n.cT.add(t)}));var r=this.persistence.Fo();return r.Sh(t,e.targetId).next((function(t){t.forEach((function(t){return n.cT.add(t)}))})).next((function(){return r.Ih(t,e)}))},t.prototype.nT=function(){this.aT=new Set},t.prototype.rT=function(t){var e=this,n=this.persistence.No().Yr();return Pe.forEach(this.cT,(function(r){return e._T(t,r).next((function(t){t||n.kn(r)}))})).next((function(){return e.aT=null,n.apply(t)}))},t.prototype.Ko=function(t,e){var n=this;return this._T(t,e).next((function(t){t?n.cT.delete(e):n.cT.add(e)}))},t.prototype.iT=function(t){return 0},t.prototype._T=function(t,e){var n=this;return Pe.Sn([function(){return Pe.resolve(n.oT.Ch(e))},function(){return n.persistence.Fo().Ch(t,e)},function(){return n.persistence.hT(t,e)}])},t}(),Di="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Ri=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.Wd=this.lT(t),this.persistence=this.dT(t),[4,this.persistence.start()];case 1:return n.sent(),this.fT=this.TT(t),this.M_=this.ET(t),this.Qd=this.wT(t),this.ul=this.IT(t),this.RT=this.AT(t),this.Wd.y_=function(t){return e.ul.Fd(t,1)},this.Qd.ul=this.ul,[4,this.M_.start()];case 2:return n.sent(),[4,this.Wd.start()];case 3:return n.sent(),[4,this.Qd.start()];case 4:return n.sent(),[4,this.Qd.pl(this.ul.sf)];case 5:return n.sent(),[2]}}))}))},t.prototype.AT=function(t){return new Ei(this.ul)},t.prototype.TT=function(t){return null},t.prototype.ET=function(t){return new tr(this.persistence,new Ii,t.mT)},t.prototype.dT=function(t){if(t.VT.PT)throw new d(f.FAILED_PRECONDITION,Di);return new Pi(Ai.uT)},t.prototype.wT=function(t){var e=this;return new ii(this.M_,t.w_,t.Ra,(function(t){return e.ul.Fd(t,0)}),t.platform.gT())},t.prototype.lT=function(t){return new pi},t.prototype.IT=function(t){return new wi(this.M_,this.Qd,t.w_,this.Wd,t.mT,t.jd)},t.prototype.clearPersistence=function(t){throw new d(f.FAILED_PRECONDITION,Di)},t}(),Mi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,this.persistence.ro((function(t){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.ul.pl(t)];case 1:return e.sent(),this.fT&&(t&&!this.fT.ho?this.fT.start(this.M_):t||this.fT.stop()),[2]}}))}))}))];case 2:return r.sent(),[2]}}))}))},e.prototype.ET=function(t){return new er(this.persistence,new Ii,t.mT)},e.prototype.IT=function(t){var e=new Ci(this.M_,this.Qd,t.w_,this.Wd,t.mT,t.jd);return this.Wd instanceof di&&(this.Wd.ul=e),e},e.prototype.TT=function(t){return new Jn(this.persistence.hh.xo,t.Ra)},e.prototype.dT=function(t){var e=an.Mo(t.pT),n=t.platform.Cc(t.pT.ii);return new an(t.VT.synchronizeTabs,e,t.clientId,t.platform,Xn.nu(t.VT.cacheSizeBytes),t.Ra,n,this.Wd,t.VT.Bh)},e.prototype.lT=function(t){if(t.VT.PT&&t.VT.synchronizeTabs){if(!di.zh(t.platform))throw new d(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var e=an.Mo(t.pT);return new di(t.Ra,t.platform,e,t.clientId,t.mT)}return new pi},e.prototype.clearPersistence=function(t){var e=an.Mo(t);return an.clearPersistence(e)},e}(Ri),Li=function(){function t(t,e,n,r){this.platform=t,this.pT=e,this.credentials=n,this.Ra=r,this.clientId=we.cn()}return t.prototype.start=function(t,e){var n=this;this.yT();var r=new Fe,i=new Fe,o=!1;return this.credentials.l((function(l){if(!o)return o=!0,ve("FirestoreClient","Initializing. user=",l.uid),n.bT(t,e,l,i).then(r.resolve,r.reject);n.Ra.lo((function(){return n.gl(l)}))})),this.Ra.co((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.yT(),this.Ra.enqueue((function(){return t.ul.enableNetwork()}))},t.prototype.bT=function(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,l,a,s,u=this;return i.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,this.platform.vT(this.pT)];case 1:return o=c.sent(),l=this.platform.Cc(this.pT.ii),a=function(t,e,n){return new ei(t,e,n)}(o,this.credentials,l),[4,t.initialize({Ra:this.Ra,pT:this.pT,platform:this.platform,w_:a,clientId:this.clientId,mT:n,jd:100,VT:e})];case 2:return c.sent(),this.persistence=t.persistence,this.Wd=t.Wd,this.M_=t.M_,this.Qd=t.Qd,this.ul=t.ul,this.fT=t.fT,this.ST=t.RT,this.persistence.oo((function(){return i.__awaiter(u,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(s=c.sent(),r.reject(s),!this.DT(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.bT(new Ri,{PT:!1},n,r))];case 4:return[2]}}))}))},t.prototype.DT=function(t){return"FirebaseError"===t.name?t.code===f.FAILED_PRECONDITION||t.code===f.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.yT=function(){if(this.Ra.ka)throw new d(f.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.gl=function(t){return this.Ra.Ua(),ve("FirestoreClient","Credential Changed. Current user: "+t.uid),this.ul.gl(t)},t.prototype.disableNetwork=function(){var t=this;return this.yT(),this.Ra.enqueue((function(){return t.ul.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Ra.Ba((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.fT&&this.fT.stop(),[4,this.Qd.Vo()];case 1:return t.sent(),[4,this.Wd.Vo()];case 2:return t.sent(),[4,this.persistence.Vo()];case 3:return t.sent(),this.credentials.T(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.yT();var e=new Fe;return this.Ra.co((function(){return t.ul.ff(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.yT();var i=new Ti(t,e,n);return this.Ra.co((function(){return r.ST.listen(i)})),i},t.prototype.ol=function(t){var e=this;this.CT||this.Ra.co((function(){return e.ST.ol(t)}))},t.prototype.FT=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.yT(),e=new Fe,[4,this.Ra.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.M_.qu(t)];case 1:return(n=i.sent())instanceof yt?e.resolve(n):n instanceof _t?e.resolve(null):e.reject(new d(f.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=Kn(r,"Failed to get document '"+t+" from cache"),e.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},t.prototype.NT=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.yT(),e=new Fe,[4,this.Ra.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,o,l,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.M_.Wu(t,!0)];case 1:return n=i.sent(),r=new mi(t,n.ju),o=r.pd(n.documents),l=r.On(o,!1),e.resolve(l.snapshot),[3,3];case 2:return a=i.sent(),s=Kn(a,"Failed to execute query '"+t+" against cache"),e.reject(s),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.yT();var n=new Fe;return this.Ra.co((function(){return e.ul.write(t,n)})),n.promise},t.prototype.ii=function(){return this.pT.ii},t.prototype.Ff=function(t){var e=this;this.yT(),this.Ra.co((function(){return e.ST.Ff(t),Promise.resolve()}))},t.prototype.Nf=function(t){var e=this;this.CT||this.Ra.co((function(){return e.ST.Nf(t),Promise.resolve()}))},Object.defineProperty(t.prototype,"CT",{get:function(){return this.Ra.ka},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.yT();var n=new Fe;return this.Ra.co((function(){return e.ul.runTransaction(e.Ra,t,n),Promise.resolve()})),n.promise},t}(),Fi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.$T(this.observer.next,t)},t.prototype.error=function(t){this.$T(this.observer.error,t)},t.prototype.kT=function(){this.muted=!0},t.prototype.$T=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function ji(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Vi=function(){function t(t,e,n,r){this.ii=t,this.timestampsInSnapshots=e,this.MT=n,this.xT=r}return t.prototype.LT=function(t){switch(L(t)){case 0:return null;case 1:return t.booleanValue;case 2:return z(t.integerValue||t.doubleValue);case 3:return this.OT(t.timestampValue);case 4:return this.BT(t);case 5:return t.stringValue;case 6:return new Ir(H(t.bytesValue));case 7:return this.qT(t.referenceValue);case 8:return this.UT(t.geoPointValue);case 9:return this.QT(t.arrayValue);case 10:return this.WT(t.mapValue);default:throw ye()}},t.prototype.WT=function(t){var e=this,n={};return S(t.fields||{},(function(t,r){n[t]=e.LT(r)})),n},t.prototype.UT=function(t){return new Fr(z(t.latitude),z(t.longitude))},t.prototype.QT=function(t){var e=this;return(t.values||[]).map((function(t){return e.LT(t)}))},t.prototype.BT=function(t){switch(this.MT){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return D(n)?t(n):n}(t);return null==e?null:this.LT(e);case"estimate":return this.OT(R(t));default:return null}},t.prototype.OT=function(t){var e=B(t),n=new _(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.qT=function(t){var e=C.K(t);_e(he(e));var n=new Ie(e.get(1),e.get(3)),r=new T(e.k(5));return n.isEqual(this.ii)||ge("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.ii.projectId+"/"+this.ii.database+") instead."),this.xT(r)},t}(),Ui=Xn.ou,qi=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new d(f.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else hr("settings","non-empty string","host",t.host),this.host=t.host,fr("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(_r("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),fr("settings","object","credentials",t.credentials),this.credentials=t.credentials,fr("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),fr("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?ge("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&ge("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,fr("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Xn.uu;else{if(t.cacheSizeBytes!==Ui&&t.cacheSizeBytes<Xn.au)throw new d(f.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Xn.au);this.cacheSizeBytes=t.cacheSizeBytes}fr("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Bi=function(){function t(e,n,r){var o=this;if(void 0===r&&(r=new Ri),this.jT=null,this.KT=new Gn,this.INTERNAL={delete:function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.GT(),[4,this.zT.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var l=e;this.jT=l,this.mc=t.HT(l),this.YT=l.name,this.JT=new g(n)}else{var a=e;if(!a.projectId)throw new d(f.INVALID_ARGUMENT,"Must provide projectId");this.mc=new Ie(a.projectId,a.database),this.YT="[DEFAULT]",this.JT=new v}this.XT=r,this.ZT=new qi({})}return Object.defineProperty(t.prototype,"tE",{get:function(){return this.eE||(this.eE=new Hr(this.mc,this.ZT.ignoreUndefinedProperties)),this.eE},enumerable:!0,configurable:!0}),t.prototype.settings=function(t){lr("Firestore.settings",arguments,1),ur("Firestore.settings","object",1,t);var e=new qi(t);if(this.zT&&!this.ZT.isEqual(e))throw new d(f.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.ZT=e,void 0!==e.credentials&&(this.JT=function(t){if(!t)return new v;switch(t.type){case"gapi":var e=t.sE;return _e(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new y(e,t.V||"0");case"provider":return t.sE;default:throw new d(f.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.GT(),this.zT.enableNetwork()},t.prototype.disableNetwork=function(){return this.GT(),this.zT.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.zT)throw new d(f.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&ge("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new d(f.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.iE(this.XT,{PT:!0,cacheSizeBytes:this.ZT.cacheSizeBytes,synchronizeTabs:r,Bh:i})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){if(void 0!==this.zT&&!this.zT.CT)throw new d(f.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new Fe,[2,(this.KT.Ma((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.nE(),[4,this.XT.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"rE",{get:function(){return this.GT(),this.zT.CT},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.GT(),this.zT.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.GT(),ji(t)?this.hE(t):(ur("Firestore.onSnapshotsInSync","function",1,t),this.hE({next:t}))},t.prototype.hE=function(t){var e=this,n=new Fi({next:function(){t.next&&t.next()},error:function(t){throw ye()}});return this.zT.Ff(n),function(){n.kT(),e.zT.Nf(n)}},t.prototype.GT=function(){return this.zT||this.iE(new Ri,{PT:!1}),this.zT},t.prototype.nE=function(){return new Te(this.mc,this.YT,this.ZT.host,this.ZT.ssl,this.ZT.forceLongPolling)},t.prototype.iE=function(t,e){var n=this.nE();return this.zT=new Li(fe.nt(),n,this.JT,this.KT),this.zT.start(t,e)},t.HT=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new d(f.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new d(f.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ie(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.jT)throw new d(f.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jT},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return lr("Firestore.collection",arguments,1),ur("Firestore.collection","non-empty string",1,t),this.GT(),new Xi(C.K(t),this)},t.prototype.doc=function(t){return lr("Firestore.doc",arguments,1),ur("Firestore.doc","non-empty string",1,t),this.GT(),Wi.oE(C.K(t),this)},t.prototype.collectionGroup=function(t){if(lr("Firestore.collectionGroup",arguments,1),ur("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new d(f.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.GT(),new $i(new Ct(C.G,t),this)},t.prototype.runTransaction=function(t){var e=this;return lr("Firestore.runTransaction",arguments,1),ur("Firestore.runTransaction","function",1,t),this.GT().transaction((function(n){return t(new zi(e,n))}))},t.prototype.batch=function(){return this.GT(),new Hi(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(pe()){case l.LogLevel.DEBUG:return"debug";case l.LogLevel.ERROR:return"error";case l.LogLevel.SILENT:return"silent";case l.LogLevel.WARN:return"warn";case l.LogLevel.INFO:return"info";case l.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){lr("Firestore.setLogLevel",arguments,1),pr("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),de.setLogLevel(t)},t.prototype.aE=function(){return this.ZT.timestampsInSnapshots},t}(),zi=function(){function t(t,e){this.uE=t,this.cE=e}return t.prototype.get=function(t){var e=this;lr("Transaction.get",arguments,1);var n=eo("Transaction.get",t,this.uE);return this.cE.P_([n.Pc]).then((function(t){if(!t||1!==t.length)return ye();var r=t[0];if(r instanceof _t)return new Ki(e.uE,n.Pc,null,!1,!1,n.Vc);if(r instanceof yt)return new Ki(e.uE,n.Pc,r,!1,!1,n.Vc);throw ye()}))},t.prototype.set=function(t,e,n){sr("Transaction.set",arguments,2,3);var r=eo("Transaction.set",t,this.uE);n=Ji("Transaction.set",n);var i=ro(r.Vc,e,"Transaction.set"),o=i[0],l=i[1],a=n.merge||n.mergeFields?this.uE.tE.$c(l,o,n.mergeFields):this.uE.tE.Fc(l,o);return this.cE.set(r.Pc,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];return"string"==typeof e||e instanceof Sr?(ar("Transaction.update",arguments,3),r=eo("Transaction.update",t,this.uE),i=this.uE.tE.Mc("Transaction.update",e,n,o)):(lr("Transaction.update",arguments,2),r=eo("Transaction.update",t,this.uE),i=this.uE.tE.kc("Transaction.update",e)),this.cE.update(r.Pc,i),this},t.prototype.delete=function(t){lr("Transaction.delete",arguments,1);var e=eo("Transaction.delete",t,this.uE);return this.cE.delete(e.Pc),this},t}(),Hi=function(){function t(t){this.uE=t,this._E=[],this.lE=!1}return t.prototype.set=function(t,e,n){sr("WriteBatch.set",arguments,2,3),this.dE();var r=eo("WriteBatch.set",t,this.uE);n=Ji("WriteBatch.set",n);var i=ro(r.Vc,e,"WriteBatch.set"),o=i[0],l=i[1],a=n.merge||n.mergeFields?this.uE.tE.$c(l,o,n.mergeFields):this.uE.tE.Fc(l,o);return this._E=this._E.concat(a.gc(r.Pc,ot.ft())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];return this.dE(),"string"==typeof e||e instanceof Sr?(ar("WriteBatch.update",arguments,3),r=eo("WriteBatch.update",t,this.uE),i=this.uE.tE.Mc("WriteBatch.update",e,n,o)):(lr("WriteBatch.update",arguments,2),r=eo("WriteBatch.update",t,this.uE),i=this.uE.tE.kc("WriteBatch.update",e)),this._E=this._E.concat(i.gc(r.Pc,ot.exists(!0))),this},t.prototype.delete=function(t){lr("WriteBatch.delete",arguments,1),this.dE();var e=eo("WriteBatch.delete",t,this.uE);return this._E=this._E.concat(new ct(e.Pc,ot.ft())),this},t.prototype.commit=function(){return this.dE(),this.lE=!0,this._E.length>0?this.uE.GT().write(this._E):Promise.resolve()},t.prototype.dE=function(){if(this.lE)throw new d(f.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Wi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.mc,e,r)||this).Pc=e,i.firestore=n,i.Vc=r,i.zT=i.firestore.GT(),i}return i.__extends(e,t),e.oE=function(t,n,r){if(t.length%2!=0)throw new d(f.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.j()+" has "+t.length);return new e(new T(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.Pc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Xi(this.Pc.path.M(),this.firestore,this.Vc)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Pc.path.j()},enumerable:!0,configurable:!0}),e.prototype.collection=function(t){if(lr("DocumentReference.collection",arguments,1),ur("DocumentReference.collection","non-empty string",1,t),!t)throw new d(f.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=C.K(t);return new Xi(this.Pc.path.child(e),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw br("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.Pc.isEqual(t.Pc)&&this.Vc===t.Vc},e.prototype.set=function(t,e){sr("DocumentReference.set",arguments,1,2),e=Ji("DocumentReference.set",e);var n=ro(this.Vc,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.tE.$c(i,r,e.mergeFields):this.firestore.tE.Fc(i,r);return this.zT.write(o.gc(this.Pc,ot.ft()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Sr?(ar("DocumentReference.update",arguments,2),n=this.firestore.tE.Mc("DocumentReference.update",t,e,r)):(lr("DocumentReference.update",arguments,1),n=this.firestore.tE.kc("DocumentReference.update",t)),this.zT.write(n.gc(this.Pc,ot.exists(!0)))},e.prototype.delete=function(){return lr("DocumentReference.delete",arguments,0),this.zT.write([new ct(this.Pc,ot.ft())])},e.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];sr("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||ji(t[i])||(_r("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),fr("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return ji(t[i])?n=t[i]:(ur("DocumentReference.onSnapshot","function",i,t[i]),cr("DocumentReference.onSnapshot","function",i+1,t[i+1]),cr("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.fE(o,n)},e.prototype.fE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Fi({next:function(t){if(e.next){var r=t.docs.get(n.Pc);e.next(new Ki(n.firestore,n.Pc,r,t.fromCache,t.hasPendingWrites,n.Vc))}},error:r}),o=this.zT.listen(Ct.Wt(this.Pc.path),i,t);return function(){i.kT(),n.zT.ol(o)}},e.prototype.get=function(t){var e=this;return sr("DocumentReference.get",arguments,0,1),to("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.GT().FT(e.Pc).then((function(t){n(new Ki(e.firestore,e.Pc,t,!0,t instanceof yt&&t.At,e.Vc))}),r):e.TE(n,r,t)}))},e.prototype.TE=function(t,e,n){var r=this.fE({includeMetadataChanges:!0,Bf:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new d(f.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new d(f.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},e.prototype.withConverter=function(t){return new e(this.Pc,this.firestore,t)},e}(Vr),Gi=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ki=function(){function t(t,e,n,r,i,o){this.uE=t,this.Pc=e,this.EE=n,this.wE=r,this.IE=i,this.Vc=o}return t.prototype.data=function(t){var e=this;if(sr("DocumentSnapshot.data",arguments,0,1),t=Zi("DocumentSnapshot.data",t),this.EE){if(this.Vc){var n=new Qi(this.uE,this.Pc,this.EE,this.wE,this.IE);return this.Vc.fromFirestore(n,t)}return new Vi(this.uE.mc,this.uE.aE(),t.serverTimestamps||"none",(function(t){return new Wi(t,e.uE)})).LT(this.EE.Mt())}},t.prototype.get=function(t,e){var n=this;if(sr("DocumentSnapshot.get",arguments,1,2),e=Zi("DocumentSnapshot.get",e),this.EE){var r=this.EE.data().field($r("DocumentSnapshot.get",t));if(null!==r)return new Vi(this.uE.mc,this.uE.aE(),e.serverTimestamps||"none",(function(t){return new Wi(t,n.uE,n.Vc)})).LT(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.Pc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wi(this.Pc,this.uE,this.Vc)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.EE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Gi(this.IE,this.wE)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw br("isEqual","DocumentSnapshot",1,e);return this.uE===e.uE&&this.wE===e.wE&&this.Pc.isEqual(e.Pc)&&(null===this.EE?null===e.EE:this.EE.isEqual(e.EE))&&this.Vc===e.Vc},t}(),Qi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Ki),$i=function(){function t(t,e,n){this.RE=t,this.firestore=e,this.Vc=n}return t.prototype.where=function(e,n,r){lr("Query.where",arguments,3),yr("Query.where",3,r);var i,o=pr("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n),l=$r("Query.where",e);if(l.Y()){if("array-contains"===o||"array-contains-any"===o)throw new d(f.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o){this.AE(r,o);for(var a=[],s=0,u=r;s<u.length;s++){var c=u[s];a.push(this.mE(c))}i={arrayValue:{values:a}}}else i=this.mE(r)}else"in"!==o&&"array-contains-any"!==o||this.AE(r,o),i=this.firestore.tE.xc("Query.where",r,"in"===o);var h=kt.create(l,o,i);return this.PE(h),new t(this.RE.Gt(h),this.firestore,this.Vc)},t.prototype.orderBy=function(e,n){var r;if(sr("Query.orderBy",arguments,1,2),cr("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new d(f.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}if(null!==this.RE.startAt)throw new d(f.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.RE.endAt)throw new d(f.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=$r("Query.orderBy",e),o=new Pt(i,r);return this.VE(o),new t(this.RE.zt(o),this.firestore,this.Vc)},t.prototype.limit=function(e){return lr("Query.limit",arguments,1),ur("Query.limit","number",1,e),wr("Query.limit",1,e),new t(this.RE.Ht(e),this.firestore,this.Vc)},t.prototype.limitToLast=function(e){return lr("Query.limitToLast",arguments,1),ur("Query.limitToLast","number",1,e),wr("Query.limitToLast",1,e),new t(this.RE.Yt(e),this.firestore,this.Vc)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ar("Query.startAt",arguments,1);var i=this.gE("Query.startAt",e,n,!0);return new t(this.RE.Jt(i),this.firestore,this.Vc)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ar("Query.startAfter",arguments,1);var i=this.gE("Query.startAfter",e,n,!1);return new t(this.RE.Jt(i),this.firestore,this.Vc)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ar("Query.endBefore",arguments,1);var i=this.gE("Query.endBefore",e,n,!0);return new t(this.RE.Xt(i),this.firestore,this.Vc)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ar("Query.endAt",arguments,1);var i=this.gE("Query.endAt",e,n,!1);return new t(this.RE.Xt(i),this.firestore,this.Vc)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw br("isEqual","Query",1,e);return this.firestore===e.firestore&&this.RE.isEqual(e.RE)},t.prototype.withConverter=function(e){return new t(this.RE,this.firestore,e)},t.prototype.gE=function(t,e,n,r){if(yr(t,1,e),e instanceof Ki){if(n.length>0)throw new d(f.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new d(f.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.pE(i.EE,r)}var o=[e].concat(n);return this.yE(t,o,r)},t.prototype.pE=function(t,e){for(var n=[],r=0,i=this.RE.orderBy;r<i.length;r++){var o=i[r];if(o.field.Y())n.push(W(this.firestore.mc,t.key));else{var l=t.field(o.field);if(D(l))throw new d(f.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var a=o.field.j();throw new d(f.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}n.push(l)}}return new Ot(n,e)},t.prototype.yE=function(t,e,n){var r=this.RE.Ot;if(e.length>r.length)throw new d(f.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var l=e[o];if(r[o].field.Y()){if("string"!=typeof l)throw new d(f.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof l);if(!this.RE._e()&&-1!==l.indexOf("/"))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+l+"' contains a slash.");var a=this.RE.path.child(C.K(l));if(!T.et(a))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var s=new T(a);i.push(W(this.firestore.mc,s))}else{var u=this.firestore.tE.xc(t,l);i.push(u)}}return new Ot(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];sr("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||ji(t[i])||(_r("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),fr("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),ji(t[i])?n=t[i]:(ur("Query.onSnapshot","function",i,t[i]),cr("Query.onSnapshot","function",i+1,t[i+1]),cr("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.bE(this.RE),this.fE(r,n)},t.prototype.fE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Fi({next:function(t){e.next&&e.next(new Yi(n.firestore,n.RE,t,n.Vc))},error:r}),o=this.firestore.GT(),l=o.listen(this.RE,i,t);return function(){i.kT(),o.ol(l)}},t.prototype.bE=function(t){if(t.ae()&&0===t.Ot.length)throw new d(f.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return sr("Query.get",arguments,0,1),to("Query.get",t),this.bE(this.RE),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.GT().NT(e.RE).then((function(t){n(new Yi(e.firestore,e.RE,t,e.Vc))}),r):e.TE(n,r,t)}))},t.prototype.TE=function(t,e,n){var r=this.fE({includeMetadataChanges:!0,Bf:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new d(f.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.mE=function(t){if("string"==typeof t){if(""===t)throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.RE._e()&&-1!==t.indexOf("/"))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.RE.path.child(C.K(t));if(!T.et(e))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return W(this.firestore.mc,new T(e))}if(t instanceof Wi)return W(this.firestore.mc,t.Pc);throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+mr(t)+".")},t.prototype.AE=function(t,e){if(!Array.isArray(t)||0===t.length)throw new d(f.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.PE=function(t){if(t instanceof kt){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.ue()){var o=this.RE.jt();if(null!==o&&!o.isEqual(t.field))throw new d(f.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var l=this.RE.Kt();null!==l&&this.vE(t.field,l)}else if(i||r){var a=null;if(i&&(a=this.RE.ce(n)),null===a&&r&&(a=this.RE.ce(e)),null!=a)throw new d(f.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.VE=function(t){if(null===this.RE.Kt()){var e=this.RE.jt();null!==e&&this.vE(e,t.field)}},t.prototype.vE=function(t,e){if(!e.isEqual(t))throw new d(f.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Yi=function(){function t(t,e,n,r){this.uE=t,this.SE=e,this.DE=n,this.Vc=r,this.CE=null,this.FE=null,this.metadata=new Gi(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.DE.docs.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.DE.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;sr("QuerySnapshot.forEach",arguments,1,2),ur("QuerySnapshot.forEach","function",1,t),this.DE.docs.forEach((function(r){t.call(e,n.NE(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new $i(this.SE,this.uE,this.Vc)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(_r("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),fr("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.DE.hs)throw new d(f.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.CE&&this.FE===e||(this.CE=function(t,e,n,r){if(n.ss.B()){var i=0;return n.docChanges.map((function(e){return{type:"added",doc:new Qi(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),r),oldIndex:-1,newIndex:i++}}))}var o=n.ss;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new Qi(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),r),l=-1,a=-1;return 0!==e.type&&(l=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:no(e.type),doc:i,oldIndex:l,newIndex:a}}))}(this.uE,e,this.DE,this.Vc),this.FE=e),this.CE},t.prototype.isEqual=function(e){if(!(e instanceof t))throw br("isEqual","QuerySnapshot",1,e);return this.uE===e.uE&&this.SE.isEqual(e.SE)&&this.DE.isEqual(e.DE)&&this.Vc===e.Vc},t.prototype.NE=function(t){return new Qi(this.uE,t.key,t,this.metadata.fromCache,this.DE.ns.has(t.key),this.Vc)},t}(),Xi=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Ct.Wt(e),n,r)||this).$E=e,e.length%2!=1)throw new d(f.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.j()+" has "+e.length);return i}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.RE.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.RE.path.M();return t.B()?null:new Wi(new T(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.RE.path.j()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){sr("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=we.cn()),ur("CollectionReference.doc","non-empty string",1,t);var e=C.K(t);return Wi.oE(this.RE.path.child(e),this.firestore,this.Vc)},e.prototype.add=function(t){lr("CollectionReference.add",arguments,1),ur("CollectionReference.add","object",1,this.Vc?this.Vc.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.$E,this.firestore,t)},e}($i);function Ji(t,e){if(void 0===e)return{merge:!1};if(_r(t,e,["merge","mergeFields"]),fr(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+mr(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+mr(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof Sr}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new d(f.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Zi(t,e){return void 0===e?{}:(_r(t,e,["serverTimestamps"]),dr(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function to(t,e){cr(t,"object",1,e),e&&(_r(t,e,["source"]),dr(t,0,"source",e.source,["default","server","cache"]))}function eo(t,e,n){if(e instanceof Vr){if(e.firestore!==n)throw new d(f.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw br(t,"DocumentReference",1,e)}function no(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function ro(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}function io(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new d(f.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}var oo=io(Bi,"Use firebase.firestore() instead."),lo=io(zi,"Use firebase.firestore().runTransaction() instead."),ao=io(Hi,"Use firebase.firestore().batch() instead."),so=io(Wi,"Use firebase.firestore().doc() instead."),uo=io(Ki),co=io(Qi),ho=io($i),fo=io(Yi),po=io(Xi,"Use firebase.firestore().collection() instead."),vo=io(Mr,"Use FieldValue.<field>() instead."),go=io(Ir,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),mo={Firestore:oo,GeoPoint:Fr,Timestamp:_,Blob:go,Transaction:lo,WriteBatch:ao,DocumentReference:so,DocumentSnapshot:uo,Query:ho,QueryDocumentSnapshot:co,QuerySnapshot:fo,CollectionReference:po,FieldPath:Sr,FieldValue:vo,setLogLevel:Bi.setLogLevel,CACHE_SIZE_UNLIMITED:Ui},yo=function(){function t(){}return t.prototype.U_=function(t){},t.prototype.Vo=function(){},t}(),_o=function(){function t(){var t=this;this.kE=function(){return t.ME()},this.xE=function(){return t.LE()},this.OE=[],this.BE()}return t.prototype.U_=function(t){this.OE.push(t)},t.prototype.Vo=function(){window.removeEventListener("online",this.kE),window.removeEventListener("offline",this.xE)},t.prototype.BE=function(){window.addEventListener("online",this.kE),window.addEventListener("offline",this.xE)},t.prototype.ME=function(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.OE;t<e.length;t++)(0,e[t])(0)},t.prototype.LE=function(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.OE;t<e.length;t++)(0,e[t])(1)},t.zh=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),bo=function(){function t(t){this.qE=t.qE,this.UE=t.UE}return t.prototype.i_=function(t){this.QE=t},t.prototype.Xc=function(t){this.WE=t},t.prototype.onMessage=function(t){this.jE=t},t.prototype.close=function(){this.UE()},t.prototype.send=function(t){this.qE(t)},t.prototype.KE=function(){this.QE()},t.prototype.GE=function(t){this.WE(t)},t.prototype.zE=function(t){this.jE(t)},t}(),wo={BatchGetDocuments:"batchGet",Commit:"commit"},Co="gl-js/ fire/"+c,ko=function(){function t(t){this.ii=t.ii,this.HE=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.YE=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=Co},t.prototype.T_=function(t,e,n){var r=this,i=this.JE(t);return new Promise((function(o,l){var a=new u.XhrIo;a.listenOnce(u.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=a.getResponseJson();ve("Connection","XHR received:",JSON.stringify(e)),o(e);break;case u.ErrorCode.TIMEOUT:ve("Connection",'RPC "'+t+'" timed out'),l(new d(f.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(ve("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(f).indexOf(e)>=0?e:f.UNKNOWN}(r.status);l(new d(i,r.message))}else l(new d(f.UNKNOWN,"Server responded with status "+a.getStatus()))}else ve("Connection",'RPC "'+t+'" failed'),l(new d(f.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ve("Connection",'RPC "'+t+'" completed.')}}));var s=Object.assign({},e);delete s.database;var c=JSON.stringify(s);ve("Connection","XHR sending: ",i+" "+c);var h={"Content-Type":"text/plain"};r.YE(h,n),a.send(i,"POST",c,h,15)}))},t.prototype.E_=function(t,e,n){return this.T_(t,e,n)},t.prototype.n_=function(t,e){var n=[this.HE,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ii.projectId+"/databases/"+this.ii.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.YE(o.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");ve("Connection","Creating WebChannel: "+s+" "+o);var h=r.createWebChannel(s,o),p=!1,v=!1,g=new bo({qE:function(t){v?ve("Connection","Not sending because WebChannel is closed:",t):(p||(ve("Connection","Opening WebChannel transport."),h.open(),p=!0),ve("Connection","WebChannel sending:",t),h.send(t))},UE:function(){return h.close()}}),m=function(t,e){h.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return m(u.WebChannel.EventType.OPEN,(function(){v||ve("Connection","WebChannel transport opened.")})),m(u.WebChannel.EventType.CLOSE,(function(){v||(v=!0,ve("Connection","WebChannel transport closed"),g.GE())})),m(u.WebChannel.EventType.ERROR,(function(t){v||(v=!0,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(de.logLevel<=l.LogLevel.WARN){var r=e.map(me);de.warn.apply(de,i.__spreadArrays(["Firestore ("+c+"): "+t],r))}}("Connection","WebChannel transport errored:",t),g.GE(new d(f.UNAVAILABLE,"The operation could not be completed")))})),m(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!v){var n=t.data[0];_e(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ve("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=vt[t];if(void 0!==e)return Rt(e)}(i),l=r.message;void 0===o&&(o=f.INTERNAL,l="Unknown error status: "+i+" with message "+r.message),v=!0,g.GE(new d(o,l)),h.close()}else ve("Connection","WebChannel received:",n),g.zE(n)}})),setTimeout((function(){g.KE()}),0),g},t.prototype.JE=function(t){return this.HE+"/v1/projects/"+this.ii.projectId+"/databases/"+this.ii.database+"/documents:"+wo[t]},t}();function Eo(t){!function(t,e){t.INTERNAL.registerComponent(new s.Component("firestore",(function(t){return function(t,e){return new Bi(t,e,new Mi)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},mo)))}(t),t.registerVersion("@firebase/firestore","1.15.0")}fe.an(new(function(){function t(){this.oc="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.vT=function(t){return Promise.resolve(new ko(t))},t.prototype.gT=function(){return _o.zh()?new _o:new yo},t.prototype.Cc=function(t){return new ce(t,{hi:!0})},t.prototype.un=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype._n=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n},t}())),Eo(o),e.__PRIVATE_registerFirestore=Eo},ABqa:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("t7fG"),l=n("S+S0"),a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},s=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return o.__extends(e,t),e}(Error),u=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e;return o.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function c(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var h,f=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return c(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?c(t,(function(t){return e.decode(t)})):t},t}(),d=function(){function t(t,e,n,r){var i=this;void 0===r&&(r="us-central1"),this.app_=t,this.region_=r,this.serializer=new f,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return i.deleteService()}},this.contextProvider=new u(e,n),this.cancelAllRequests=new Promise((function(t){i.deleteService=function(){return t()}}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:n.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,l,u,c,h,f,d;return o.__generator(this,(function(o){switch(o.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},l=new Headers,[4,this.contextProvider.getContext()];case 1:return(u=o.sent()).authToken&&l.append("Authorization","Bearer "+u.authToken),u.instanceIdToken&&l.append("Firebase-Instance-ID-Token",u.instanceIdToken),c=n.timeout||7e4,[4,Promise.race([this.postJSON(r,i,l),(p=c,new Promise((function(t,e){setTimeout((function(){e(new s("deadline-exceeded","deadline-exceeded"))}),p)}))),this.cancelAllRequests])];case 2:if(!(h=o.sent()))throw new s("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var l=e&&e.error;if(l){var u=l.status;if("string"==typeof u){if(!a[u])return new s("internal","internal");r=a[u],i=u}var c=l.message;"string"==typeof c&&(i=c),void 0!==(o=l.details)&&(o=n.decode(o))}}catch(h){}return"ok"===r?null:new s(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new s("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new s("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}var p}))}))},t}();h={Functions:d},i.INTERNAL.registerComponent(new l.Component("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new d(n,r,i,e)}),"PUBLIC").setServiceProps(h).setMultipleInstances(!0)),i.registerVersion("@firebase/functions","0.4.45")},LmZi:function(t,e,n){"use strict";n.r(e);var r=n("wj3C"),i=n.n(r);function o(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,a=o.length;l<a;l++,i++)r[i]=o[l];return r}var l=n("S+S0");n.d(e,"registerStorage",(function(){return jt}));var a=function(){function t(t,e){this.code_=s(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return s(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}();function s(t){return"storage/"+t}function u(){return new a("unknown","An unknown error occurred, please check the error payload for server response.")}function c(){return new a("canceled","User canceled the upload/download.")}function h(){return new a("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function f(){return new a("no-download-url","The given file does not have any download URLs.")}function d(t,e,n){return new a("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)}function p(){return new a("app-deleted","The Firebase app was deleted.")}function v(t,e){return new a("invalid-format","String does not match format '"+t+"': "+e)}function g(t){throw new a("internal-error","Internal error: "+t)}var m={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function y(t){switch(t){case m.RAW:case m.BASE64:case m.BASE64URL:case m.DATA_URL:return;default:throw"Expected one of the event types: ["+m.RAW+", "+m.BASE64+", "+m.BASE64URL+", "+m.DATA_URL+"]."}}var _=function(t,e){this.data=t,this.contentType=e||null};function b(t,e){switch(t){case m.RAW:return new _(w(e));case m.BASE64:case m.BASE64URL:return new _(C(t,e));case m.DATA_URL:return new _((n=new k(e)).base64?C(m.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw v(m.DATA_URL,"Malformed data URL.")}return w(e)}(n.rest),new k(e).contentType)}var n;throw u()}function w(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function C(t,e){switch(t){case m.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw v(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case m.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw v(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var l;try{l=atob(e)}catch(u){throw v(t,"Invalid character found")}for(var a=new Uint8Array(l.length),s=0;s<l.length;s++)a[s]=l.charCodeAt(s);return a}var k=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw v(m.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},E={STATE_CHANGED:"state_changed"},T={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function I(t){switch(t){case"running":case"pausing":case"canceling":return T.RUNNING;case"paused":return T.PAUSED;case"success":return T.SUCCESS;case"canceled":return T.CANCELED;case"error":default:return T.ERROR}}function S(t){return null!=t}function x(t){return void 0!==t}function O(t){return"function"==typeof t}function P(t){return"object"==typeof t}function N(t){return P(t)&&null!==t}function A(t){return"string"==typeof t||t instanceof String}function D(t){return R(t)&&Number.isInteger(t)}function R(t){return"number"==typeof t||t instanceof Number}function M(t){return L()&&t instanceof Blob}function L(){return"undefined"!=typeof Blob}var F=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),j=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=F.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=F.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=F.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw g("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),S(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return S(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw g("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw g("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw g("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){S(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){S(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),V=function(){function t(){}return t.prototype.createXhrIo=function(){return new j},t}();function U(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=U();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(L())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var B=function(){function t(t,e){var n=0,r="";M(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(M(this.data_)){var r=(o=e,l=n,(i=this.data_).webkitSlice?i.webkitSlice(o,l):i.mozSlice?i.mozSlice(o,l):i.slice?i.slice(o,l):null);return null===r?null:new t(r)}var i,o,l;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(L()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(q.apply(null,r))}var i=e.map((function(t){return A(t)?b(m.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var l=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)l[a++]=t[e]})),new t(l,!0)},t.prototype.uploadData=function(){return this.data_},t}(),z=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new a("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),l=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<l.length;s++){var u=l[s],c=u.regex.exec(e);if(c){var h=c[u.indices.path];h||(h=""),n=new t(c[u.indices.bucket],h),u.postModify(n);break}}if(null==n)throw function(t){return new a("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function H(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return P(n=e)&&!Array.isArray(n)?e:null}function W(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function G(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function K(t){return"https://firebasestorage.googleapis.com/v0"+t}function Q(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function $(t,e){return e}var Y=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||$},X=null;function J(t,e,n){var r=H(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var l=n[o];r[l.local]=l.xform(r,e[l.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new z(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Z(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function tt(t){if(!P(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!P(n))throw"Expected object for 'customMetadata' mapping."}else if(N(n))throw"Mapping for '"+e+"' cannot be an object."}}function et(t){if(!P(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!D(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!A(t.pageToken))throw"Expected pageToken to be string."}}var nt=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function rt(t){if(!t)throw u()}function it(t,e){return function(n,r){var i=J(t,r,e);return rt(null!==i),i}}function ot(t){return function(e,n){var r;return(r=401===e.getStatus()?new a("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new a("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new a("unauthorized","User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function lt(t){var e=ot(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new a("object-not-found","Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function at(t,e,n){var r=K(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new nt(r,"GET",it(t,n),i);return o.errorHandler=lt(e),o}function st(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var l=K(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime(),s=new nt(l,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=H(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var l=o[i].replace(/\/$/,""),a=t.makeStorageReference(new z(e,l));r.prefixes.push(a)}if(n.items)for(var s=0,u=n.items;s<u.length;s++)a=t.makeStorageReference(new z(e,u[s].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return rt(null!==i),i}}(t,e.bucket),a);return s.urlParams=o,s.errorHandler=ot(e),s}function ut(t,e,n){var r=K(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new nt(r,"GET",function(t,e){return function(n,r){var i=J(t,r,e);return rt(null!==i),function(t,e){var n=H(e);if(null===n)return null;if(!A(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return K("/b/"+i(t.bucket)+"/o/"+i(n))+Q({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=lt(e),o}function ct(t,e,n,r){var i=K(e.fullServerUrl()),o=Z(n,r),l=t.maxOperationRetryTime(),a=new nt(i,"PATCH",it(t,r),l);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=lt(e),a}function ht(t,e){var n=K(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new nt(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=lt(e),i}function ft(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var dt=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function pt(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){rt(!1)}return rt(!!n&&-1!==(e||["active"]).indexOf(n)),n}var vt=function(t,e,n){if(O(t)||S(e)||S(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},gt=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function mt(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var l,s,u,c;if(!(r<=n.length&&n.length<=i))throw(l=r)===(s=i)?(u=l,c=1===l?"argument":"arguments"):(u="between "+l+" and "+s,c="arguments"),new a("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+u+" "+c+", received "+n.length+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(h){throw h instanceof Error?d(o,t,h.message):d(o,t,h)}}var yt=function(t,e){var n=this;this.validator=function(e){n.optional&&!x(e)||t(e)},this.optional=!!e};function _t(t,e){function n(t){if(!A(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new yt(r,e)}function bt(){return new yt((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||L()&&t instanceof Blob))throw"Expected Blob or File."}))}function wt(t){return new yt(tt,t)}function Ct(t){return new yt(et,t)}function kt(){return new yt((function(t){if(!(R(t)&&t>=0))throw"Expected a number 0 or greater."}))}function Et(t,e){return new yt((function(e){if(!(null===e||S(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function Tt(t){return new yt((function(t){if(null!==t&&!O(t))throw"Expected a Function."}),t)}function It(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var St=function(){function t(t,e,n,r,i,o){var l=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(t){l.request_=null,l.chunkMultiplier_=1,t.codeEquals("canceled")?(l.needToFetchStatus_=!0,l.completeTransitions_()):(l.error_=t,l.transition_("error"))},this.metadataErrorHandler_=function(t){l.request_=null,t.codeEquals("canceled")?l.completeTransitions_():(l.error_=t,l.transition_("error"))},this.promise_=new Promise((function(t,e){l.resolve_=t,l.reject_=e,l.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case"running":t(n);break;case"canceling":e.transition_("canceled");break;case"pausing":e.transition_("paused")}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),l=ft(e,r,i),a={name:l.fullPath},s=K(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},c=Z(l,n),h=t.maxUploadRetryTime(),f=new nt(s,"POST",(function(t){var e;pt(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){rt(!1)}return rt(A(e)),e}),h);return f.urlParams=a,f.headers=u,f.body=c,f.errorHandler=ot(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new nt(n,"POST",(function(t){var e=pt(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){rt(!1)}n||rt(!1);var i=Number(n);return rt(!isNaN(i)),new dt(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=ot(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new dt(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,l,s){var u=new dt(0,0);if(l?(u.current=l.current,u.total=l.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new a("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,f=c;i>0&&(f=Math.min(f,i));var d=u.current,p={"X-Goog-Upload-Command":f===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},v=r.slice(d,d+f);if(null===v)throw h();var g=e.maxUploadRetryTime(),m=new nt(n,"POST",(function(t,n){var i,l=pt(t,["active","final"]),a=u.current+f,s=r.size();return i="final"===l?it(e,o)(t,n):null,new dt(a,s,"final"===l,i)}),g);return m.headers=p,m.body=v.uploadData(),m.progressCallback=s||null,m.errorHandler=ot(t),m}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(s){return t.error_=s,void t.transition_("error")}var l=t.authWrapper_.makeRequest(o,i);t.request_=l,l.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_("success")):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=at(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_("success")}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();l["Content-Type"]="multipart/related; boundary="+a;var s=ft(e,r,i),u=Z(s,n),c=B.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===c)throw h();var f={name:s.fullPath},d=K(o),p=t.maxUploadRetryTime(),v=new nt(d,"POST",it(t,n),p);return v.urlParams=f,v.headers=l,v.body=c.uploadData(),v.errorHandler=ot(e),v}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_("success")}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var e="paused"===this.state_;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=c(),this.state_=t,this.notifyObservers_();break;case"error":case"success":this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=I(this.state_);return new gt(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==E.STATE_CHANGED)throw"Expected one of the event types: ["+E.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",l=Tt(!0).validator,a=Et(null,!0).validator;function s(t){try{return void l(t)}catch(e){}try{if(a(t),!(x(t.next)||x(t.error)||x(t.complete)))throw"";return}catch(e){throw o}}var u=[_t(i),Et(s,!0),Tt(!0),Tt(!0)];mt("on",u,arguments);var c=this;function h(t){return function(e,n,i){null!==t&&mt("on",t,arguments);var o=new vt(e,n,r);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function f(t){if(null===t)throw o;s(t)}var d=[Et(f),Tt(!0),Tt(!0)],p=!(x(e)||x(n)||x(r));return p?h(d):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(I(this.state_)){case T.SUCCESS:It(this.resolve_.bind(null,this.snapshot))();break;case T.CANCELED:case T.ERROR:It(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(I(this.state_)){case T.RUNNING:case T.PAUSED:t.next&&It(t.next.bind(t,this.snapshot))();break;case T.SUCCESS:t.complete&&It(t.complete.bind(t))();break;case T.CANCELED:case T.ERROR:t.error&&It(t.error.bind(t,this.error_))();break;default:t.error&&It(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){mt("resume",[],arguments);var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},t.prototype.pause=function(){mt("pause",[],arguments);var t="running"===this.state_;return t&&this.transition_("pausing"),t},t.prototype.cancel=function(){mt("cancel",[],arguments);var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},t}(),xt=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof z?e:z.makeFromUrl(e)}return t.prototype.toString=function(){return mt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(X)return X;var t=[];t.push(new Y("bucket")),t.push(new Y("generation")),t.push(new Y("metageneration")),t.push(new Y("name","fullPath",!0));var e=new Y("name");e.xform=function(t,e){return function(t){return!A(t)||t.length<2?t:G(t)}(e)},t.push(e);var n=new Y("size");return n.xform=function(t,e){return S(e)?Number(e):e},t.push(n),t.push(new Y("timeCreated")),t.push(new Y("updated")),t.push(new Y("md5Hash",null,!0)),t.push(new Y("cacheControl",null,!0)),t.push(new Y("contentDisposition",null,!0)),t.push(new Y("contentEncoding",null,!0)),t.push(new Y("contentLanguage",null,!0)),t.push(new Y("contentType",null,!0)),t.push(new Y("metadata","customMetadata",!0)),X=t}()},t.prototype.child=function(t){mt("child",[_t()],arguments);var e=W(this.location.path,t),n=new z(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new z(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new z(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return G(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),mt("put",[bt(),wt(!0)],arguments),this.throwIfRoot_("put"),new St(this,this.authWrapper,this.location,this.mappings(),new B(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=m.RAW),mt("putString",[_t(),_t(y,!0),wt(!0)],arguments),this.throwIfRoot_("putString");var r=b(e,t),i=Object.assign({},n);return!S(i.contentType)&&S(r.contentType)&&(i.contentType=r.contentType),new St(this,this.authWrapper,this.location,this.mappings(),new B(r.data,!0),i)},t.prototype.delete=function(){var t=this;return mt("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=ht(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){mt("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return n=this,i=function(){var n,r,i;return function(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(t,e){function o(t){try{a(i.next(t))}catch(n){e(n)}}function l(t){try{a(i.throw(t))}catch(n){e(n)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(o,l)}a((i=i.apply(n,[])).next())}));var n,r,i},t.prototype.list=function(t){mt("list",[Ct(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=st(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return mt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=at(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return mt("updateMetadata",[wt()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=ct(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return mt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=ut(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw f();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new a("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Ot=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Pt=function(){function t(){this.map=new Map,this.id=-9007199254740991}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),Nt=function(){function t(e,n,r,i,o,l){var a;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var s=this.app_.options;S(s)&&(this.bucket_=t.extractBucket_(s),this.appId_=null!==(a=s.appId)&&void 0!==a?a:null)}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=l,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new Pt}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:z.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw p();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Ot(p());var n=this.requestMaker_(t,this.appId_,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),At=function(){function t(t,e,n,r,i,o,l,a,s,u,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=l,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=s,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,l=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(l,l.getResponseText());x(s)?i(s):i()}catch(h){o(h)}else null!==l?((r=u()).setServerResponseProp(l.getResponseText()),o(t.errorCallback_?t.errorCallback_(l,r):r)):o(r=n.canceled?t.appDelete_?p():c():new a("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Dt(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,l=null,a=!1,s=0;function u(){return 2===s}var c=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function f(e){l=setTimeout((function(){l=null,function(e,n){if(n)e(!1,new Dt(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===F.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var l=-1!==t.successCodes_.indexOf(o);e(!0,new Dt(l,n))}else{var a=n.getErrorCode()===F.ABORT;e(!1,new Dt(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)h.call.apply(h,o([null,t],e));else{var r,l=u()||a;l?h.call.apply(h,o([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),f(r))}}var p=!1;function v(t){p||(p=!0,c||(null!==l?(t||(s=2),clearTimeout(l),f(0)):t||(s=1)))}return f(0),setTimeout((function(){a=!0,v(!0)}),r),v}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Dt=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function Rt(t,e,n,r){var o=Q(t.urlParams),l=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==i.a?i.a.SDK_VERSION:"AppManager")}(a),new At(l,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}var Mt=function(){function t(t,e,n,r){if(this.bucket_=null,this.authWrapper_=new Nt(t,e,(function(t,e){return new xt(t,e)}),Rt,this,n),this.app_=t,null!=r)this.bucket_=z.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new z(i,""))}this.internals_=new Lt(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(mt("ref",[_t(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new xt(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{z.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return mt("refFromURL",[_t(e,!1)],arguments),new xt(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){mt("setMaxUploadRetryTime",[kt()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){mt("setMaxOperationRetryTime",[kt()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Lt=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();function Ft(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Mt(n,r,new V,e)}function jt(t){var e={TaskState:T,TaskEvent:E,StringFormat:m,Storage:Mt,Reference:xt};t.INTERNAL.registerComponent(new l.Component("storage",Ft,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.35")}jt(i.a)},NEb6:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return s})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return k})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(l=(o<3?i(l):o>3?i(e,n,l):i(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function s(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function l(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}s((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return l}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,a=o.length;l<a;l++,i++)r[i]=o[l];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(s,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function s(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,l=n("mAIw"),a=n("zVF4"),s=n("q/0M"),u=n("S+S0"),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),a.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:a.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return a.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),f=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),v=new s.Logger("@firebase/database"),g=(i=1,function(){return i++}),m=function(t){var e=a.stringToByteArray(t),n=new a.Sha1;n.update(e);var r=n.digest();return a.base64.encodeByteArray(r)},y=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=t.apply(null,o):r+="object"==typeof o?a.stringify(o):o,r+=" "}return r},_=null,b=!0,w=function(t,e){a.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(v.logLevel=s.LogLevel.VERBOSE,_=v.log.bind(v),e&&p.set("logging_enabled",!0)):"function"==typeof t?_=t:(_=null,p.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===_&&!0===p.get("logging_enabled")&&w(!0)),_){var n=y.apply(null,t);_(n)}},k=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,l.__spread([t],e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,l.__spread(t));v.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,l.__spread(t));throw v.error(n),new Error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,l.__spread(t));v.warn(n)},S=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",O="[MAX_NAME]",P=function(t,e){if(t===e)return 0;if(t===x||e===O)return-1;if(e===x||t===O)return 1;var n=Q(t),r=Q(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+a.stringify(e))},D=function t(e){if("object"!=typeof e||null===e)return a.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=a.stringify(n[o]),i+=":",i+=t(e[n[o]]);return i+"}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L,F,j,V,U,q,B,z,H,W,G=function(t){var e,n,r,i,o;a.assert(!S(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var l=[];for(o=52;o;o-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(e?1:0),l.reverse();var s=l.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(s.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},K=new RegExp("^-?(0*)\\d{1,10}$"),Q=function(t){if(K.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},$=function(t){try{t()}catch(e){setTimeout((function(){throw I("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},Y=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),J=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=a.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=a.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),Z=function(){function t(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=d.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&d.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(a.assert("string"==typeof t,"typeof type must == string"),a.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return M(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),tt=function(t){var e=et(t),n=e.namespace;return"firebase.com"===e.domain&&T(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Z(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,"",n!==e.subdomain),path:new X(e.pathString)}},et=function(t){var e="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(s=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=l.__values(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):I("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(c=e.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(e.substring(c+1),10)):c=e.length;var p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},nt=/[\[\].#$\/\u0000-\u001F\u007F]/,rt=/[\[\].#$\u0000-\u001F\u007F]/,it=function(t){return"string"==typeof t&&0!==t.length&&!nt.test(t)},ot=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},lt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S(t)||t&&"object"==typeof t&&a.contains(t,".sv")},at=function(t,e,n,r,i){i&&void 0===n||st(a.errorPrefix(t,e,i),n,r)},st=function t(e,n,r){var i=r instanceof X?new J(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(S(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>10485760/3&&a.stringLength(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,l=!1;if(M(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(l=!0,!it(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),o&&l)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ut=function(t,e,n,r,i){if(!i||void 0!==n){var o=a.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var l=[];M(n,(function(t,e){var n=new X(t);if(st(o,e,r.child(n)),".priority"===n.getBack()&&!lt(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!it(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X.comparePaths);var l=null;for(n=0;n<e.length;n++){if(r=e[n],null!==l&&l.contains(r))throw new Error(t+"contains a path "+l.toString()+" that is ancestor of another path "+r.toString());l=r}}(o,l)}},ct=function(t,e,n,r){if(!r||void 0!==n){if(S(n))throw new Error(a.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lt(n))throw new Error(a.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ht=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ft=function(t,e,n,r){if(!(r&&void 0===n||it(n)))throw new Error(a.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dt=function(t,e,n,r){if(!(r&&void 0===n||ot(n)))throw new Error(a.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dt(t,e,n,r)},vt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},gt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!it(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ot(t)}(r))throw new Error(a.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},mt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(t,e,r)+"must be a boolean.")},yt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),vt("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),vt("OnDisconnect.set",this.path_),at("OnDisconnect.set",1,t,this.path_,!1),a.validateCallback("OnDisconnect.set",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),vt("OnDisconnect.setWithPriority",this.path_),at("OnDisconnect.setWithPriority",1,t,this.path_,!1),ct("OnDisconnect.setWithPriority",2,e,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),vt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ut("OnDisconnect.update",1,t,this.path_,!1),a.validateCallback("OnDisconnect.update",2,e,!0);var i=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),_t=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),bt=(L="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",F=0,j=[],function(t){var e,n=t===F;F=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=L.charAt(t%64),t=Math.floor(t/64);a.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===j[e];e--)j[e]=0;j[e]++}else for(e=0;e<12;e++)j[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=L.charAt(j[e]);return a.assert(20===i.length,"nextPushId: Length should be 20."),i}),wt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Ct=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new wt(x,t),r=new wt(x,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return wt.MIN},t}(),kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return V},set:function(t){V=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return P(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return new wt(O,V)},e.prototype.makePost=function(t,e){return a.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new wt(t,V)},e.prototype.toString=function(){return".key"},e}(Ct),Et=new kt,Tt=function(t){return"number"==typeof t?"number:"+G(t):"string:"+t},It=function(t){if(t.isLeafNode()){var e=t.val();a.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&a.contains(e,".sv"),"Priority must be a string or number.")}else a.assert(t===U||t.isEmpty(),"priority of unexpected type.");a.assert(t===U||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},St=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,a.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),It(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return q},set:function(t){q=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(a.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Tt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?G(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(a.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return a.assert(i>=0,"Unknown leaf type: "+n),a.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),xt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?P(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return new wt(O,new St("[PRIORITY-POST]",z))},e.prototype.makePost=function(t,e){var n=B(t);return new wt(e,new St("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Ct)),Ot=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Pt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:At.EMPTY_NODE,this.right=null!=o?o:At.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return At.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return At.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Nt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Pt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),At=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ot(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ot(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Nt,t}(),Dt=Math.log(2),Rt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Dt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Mt=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,l=function(e,r){var i=o-e,l=o;o-=e;var s=function e(r,i){var o,l,a=i-r;if(0===a)return null;if(1===a)return o=t[r],l=n?n(o):o,new Pt(l,o.node,Pt.BLACK,null,null);var s=parseInt(a/2,10)+r,u=e(r,s),c=e(s+1,i);return o=t[s],l=n?n(o):o,new Pt(l,o.node,Pt.BLACK,u,c)}(i+1,l),u=t[i],c=n?n(u):u;a(new Pt(c,u.node,r,null,s))},a=function(t){r?(r.left=t,r=t):(i=t,r=t)},s=0;s<e.count;++s){var u=e.nextBitIsOne(),c=Math.pow(2,e.count-(s+1));u?l(c,Pt.BLACK):(l(c,Pt.BLACK),l(c,Pt.RED))}return i}(new Rt(t.length));return new At(r||e,i)},Lt={},Ft=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return a.assert(Lt&&xt,"ChildrenNode.ts has not been loaded"),H=H||new t({".priority":Lt},{".priority":xt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=a.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof At?e:null},t.prototype.hasIndex=function(t){return a.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){a.assert(e!==Et,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,s=n.getIterator(wt.Wrap),u=s.getNext();u;)o=o||e.isDefinedOn(u.node),i.push(u),u=s.getNext();r=o?Mt(i,e.getCompare()):Lt;var c=e.toString(),h=l.__assign({},this.indexSet_);h[c]=e;var f=l.__assign({},this.indexes_);return f[c]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(a.map(this.indexes_,(function(t,i){var o=a.safeGet(r.indexSet_,i);if(a.assert(o,"Missing index implementation for "+i),t===Lt){if(o.isDefinedOn(e.node)){for(var l=[],s=n.getIterator(wt.Wrap),u=s.getNext();u;)u.name!==e.name&&l.push(u),u=s.getNext();return l.push(e),Mt(l,o.getCompare())}return Lt}var c=n.get(e.name),h=t;return c&&(h=h.remove(new wt(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(a.map(this.indexes_,(function(t){if(t===Lt)return t;var r=n.get(e.name);return r?t.remove(new wt(e.name,r)):t})),this.indexSet_)},t}();function jt(t,e){return P(t.name,e.name)}function Vt(t,e){return P(t,e)}var Ut=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&It(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return W||(W=new t(new At(Vt),null,Ft.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||W},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?W:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new wt(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var l=i.isEmpty()?W:this.priorityNode_;return new t(i,l,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;a.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(xt,(function(l,a){n[l]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):o=!1})),!e&&o&&i<2*r){var l=[];for(var a in n)l[a]=n[a];return l}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Tt(this.getPriority().val())+":"),this.forEachChild(xt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new wt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new wt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new wt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,wt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,wt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===qt?-1:0},t.prototype.withIndex=function(e){if(e===Et||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Et||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(xt),r=e.getIterator(xt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Et?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),qt=new(function(t){function e(){return t.call(this,new At(Vt),Ut.EMPTY_NODE,Ft.Default)||this}return l.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ut.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ut));function Bt(t,e){if(void 0===e&&(e=null),null===t)return Ut.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),a.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new St(t,Bt(e));if(t instanceof Array){var n=Ut.EMPTY_NODE;return M(t,(function(e,r){if(a.contains(t,e)&&"."!==e.substring(0,1)){var i=Bt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Bt(e))}var r=[],i=!1;if(M(t,(function(t,e){if("."!==t.substring(0,1)){var n=Bt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new wt(t,n)))}})),0===r.length)return Ut.EMPTY_NODE;var o=Mt(r,jt,(function(t){return t.name}),Vt);if(i){var l=Mt(r,xt.getCompare());return new Ut(o,Bt(e),new Ft({".priority":l},{".priority":xt}))}return new Ut(o,Bt(e),Ft.Default)}Object.defineProperties(wt,{MIN:{value:new wt(x,Ut.EMPTY_NODE)},MAX:{value:new wt(O,qt)}}),kt.__EMPTY_NODE=Ut.EMPTY_NODE,St.__childrenNodeConstructor=Ut,U=qt,z=qt,function(t){B=t}(Bt);var zt,Ht=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?P(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return wt.MAX},e.prototype.makePost=function(t,e){var n=Bt(t);return new wt(e,n)},e.prototype.toString=function(){return".value"},e}(Ct)),Wt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,a.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return l.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?P(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Bt(t),r=Ut.EMPTY_NODE.updateChild(this.indexPath_,n);return new wt(e,r)},e.prototype.maxPost=function(){var t=Ut.EMPTY_NODE.updateChild(this.indexPath_,qt);return new wt(O,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Ct),Gt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),dt("DataSnapshot.child",1,e,!1);var n=new X(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,xt)},t.prototype.hasChild=function(t){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),dt("DataSnapshot.hasChild",1,t,!1);var e=new X(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),xt))}))},t.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Kt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},t}(),Qt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),$t=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Kt("value",this,new Gt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Qt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Yt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return a.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Qt(this,t,e):null},t.prototype.createEvent=function(t,e){a.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Kt(t.type,this,new Gt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var l=r[0],a=i[0];return!(a!==l||e.callbacks_[l]&&this.callbacks_[a]&&e.callbacks_[l]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Xt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(zt,"Reference.ts has not been loaded"),zt},set:function(t){zt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Et){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==x)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==O)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===xt){if(null!=e&&!lt(e)||null!=n&&!lt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(t.getIndex()instanceof Wt||t.getIndex()===Ht,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){a.validateArgCount("Query.on",2,4,arguments.length),ht("Query.on",1,e,!1),a.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var l={};l[e]=n,this.onChildEvent(l,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new $t(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Yt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){a.validateArgCount("Query.off",0,3,arguments.length),ht("Query.off",1,t,!0),a.validateCallback("Query.off",2,e,!0),a.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new $t(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Yt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;a.validateArgCount("Query.once",1,4,arguments.length),ht("Query.once",1,e,!1),a.validateCallback("Query.once",2,n,!0);var l=t.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new a.Deferred;u.promise.catch((function(){}));var c=function t(r){s&&(s=!1,o.off(e,t),n&&n.bind(l.context)(r),u.resolve(r))};return this.on(e,c,(function(t){o.off(e,c),l.cancel&&l.cancel.bind(l.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');dt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Wt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Et);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(xt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Ht);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.startAt",0,2,arguments.length),at("Query.startAt",1,e,this.path,!0),ft("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.endAt",0,2,arguments.length),at("Query.endAt",1,e,this.path,!0),ft("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),at("Query.equalTo",1,t,this.path,!1),ft("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=D(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,a.validateCallback(t,3,r.cancel,!0),r.context=n,a.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(a.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Jt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Zt=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),te=function(t,e,n){return t&&"object"==typeof t?(a.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ee(t[".sv"],e,n):"object"==typeof t[".sv"]?ne(t[".sv"],e):void a.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ee=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:a.assert(!1,"Unexpected server value: "+t)}},ne=function(t,e,n){t.hasOwnProperty("increment")||a.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&a.assert(!1,"Unexpected increment value: "+r);var i=e.node();if(a.assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},re=function(t,e,n,r){return oe(e,new Zt(n,t),r)},ie=function(t,e,n){return oe(t,new Jt(e),n)};function oe(t,e,n){var r,i=t.getPriority().val(),o=te(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var l=t,a=te(l.getValue(),e,n);return a!==l.getValue()||o!==l.getPriority().val()?new St(a,Bt(o)):t}var s=t;return r=s,o!==s.getPriority().val()&&(r=r.updatePriority(new St(o))),s.forEachChild(xt,(function(t,i){var o=oe(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var le,ae,se=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(xt,(function(t,e){n.remember(new X(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new X(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),ue=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),ce=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,a.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),he=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ue.ACK_USER_WRITE,this.source=ce.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(e));return new t(X.Empty,n,this.revert)}return a.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),fe=function(){function t(t,e){void 0===e&&(le||(le=new At(N)),e=le),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return M(e,(function(t,e){n=n.set(new X(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:X.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new X(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(X.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,X.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,X.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(X.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),de=function(){function t(t,e){this.source=t,this.path=e,this.type=ue.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty):new t(this.source,this.path.popFront())},t}(),pe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ue.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ve=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ue.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new pe(this.source,X.Empty,n.value):new t(this.source,X.Empty,n)}return a.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ge=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),me=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ge(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ge(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ge(Ut.EMPTY_NODE,!1,!1),new ge(Ut.EMPTY_NODE,!1,!1)),t}(),ye=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),_e=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){a.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(e);return l.getChild(r).equals(n.getChild(r))&&l.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ye.childRemovedChange(e,l)):a.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ye.childAddedChange(e,n)):o.trackChildChange(ye.childChangedChange(e,n,l))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(xt,(function(t,r){e.hasChild(t)||n.trackChildChange(ye.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(xt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ye.childChangedChange(e,r,i))}else n.trackChildChange(ye.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ut.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),be=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;a.assert(e===ye.CHILD_ADDED||e===ye.CHILD_CHANGED||e===ye.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===ye.CHILD_ADDED&&i===ye.CHILD_REMOVED)this.changeMap.set(n,ye.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===ye.CHILD_REMOVED&&i===ye.CHILD_ADDED)this.changeMap.delete(n);else if(e===ye.CHILD_REMOVED&&i===ye.CHILD_CHANGED)this.changeMap.set(n,ye.childRemovedChange(n,r.oldSnap));else if(e===ye.CHILD_CHANGED&&i===ye.CHILD_ADDED)this.changeMap.set(n,ye.childAddedChange(n,t.snapshotNode));else{if(e!==ye.CHILD_CHANGED||i!==ye.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ye.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),we=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ce=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ge(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),ke=function(t,e){this.viewCache=t,this.changes=e},Ee=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){a.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,l,s=new be;if(n.type===ue.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,s):(a.assert(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,l,s))}else if(n.type===ue.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,s):(a.assert(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,l,s))}else if(n.type===ue.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,r,i,s):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,s)}else{if(n.type!==ue.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,s)}var f=s.getChanges();return t.maybeAddValueEvent_(e,o,f),new ke(o,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ye.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var l=void 0,s=void 0;if(e.isEmpty())if(a.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=n.calcCompleteEventChildren(u instanceof Ut?u:Ut.EMPTY_NODE);l=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());l=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"===f){a.assert(1===e.getLength(),"Can't have a priority with additional path components");var d=o.getNode();s=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,d,s);l=null!=p?this.filter_.updatePriority(d,p):o.getNode()}else{var v=e.popFront(),g=void 0;if(o.isCompleteForChild(f)){s=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),s);g=null!=m?o.getNode().getImmediateChild(f).updateChild(v,m):o.getNode().getImmediateChild(f)}else g=n.calcCompleteChild(f,t.getServerCache());l=null!=g?this.filter_.updateChild(o.getNode(),f,g,v,r,i):o.getNode()}}return t.updateEventSnap(l,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,l){var a,s=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=u.updateFullNode(s.getNode(),n,null);else if(u.filtersNodes()&&!s.isFiltered()){var c=s.getNode().updateChild(e,n);a=u.updateFullNode(s.getNode(),c,null)}else{var h=e.getFront();if(!s.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),d=s.getNode().getImmediateChild(h).updateChild(f,n);a=".priority"===h?u.updatePriority(s.getNode(),d):u.updateChild(s.getNode(),h,d,f,we,null)}var p=t.updateServerSnap(a,s.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),v=new Ce(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,v,l)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var l,a,s=t.getEventCache(),u=new Ce(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),l=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),l=t.updateEventSnap(a,s.isFullyInitialized(),s.isFiltered());else{var h=e.popFront(),f=s.getNode().getImmediateChild(c),d=void 0;if(h.isEmpty())d=n;else{var p=u.getCompleteChild(c);d=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):Ut.EMPTY_NODE}if(f.equals(d))l=t;else{var v=this.filter_.updateChild(s.getNode(),c,d,h,u,o);l=t.updateEventSnap(v,s.isFullyInitialized(),this.filter_.filtersNodes())}}}return l},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,l){var a=this,s=e;return r.foreach((function(r,u){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(s=a.applyUserOverwrite_(s,c,u,i,o,l))})),r.foreach((function(r,u){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(s=a.applyUserOverwrite_(s,c,u,i,o,l))})),s},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,l){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var s,u=t;s=e.isEmpty()?n:fe.Empty.setTree(e,n);var c=t.getServerCache().getNode();return s.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var s=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(s,n);u=a.applyServerOverwrite_(u,new X(e),h,r,i,o,l)}})),s.children.inorderTraversal((function(e,n){var s=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!s){var h=t.getServerCache().getNode().getImmediateChild(e),f=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new X(e),f,r,i,o,l)}})),u},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var l=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,l,o);if(e.isEmpty()){var s=fe.Empty;return a.getNode().forEachChild(Et,(function(t,e){s=s.set(new X(t),e)})),this.applyServerMerge_(t,e,s,r,i,l,o)}return t}var u=fe.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(u=u.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,u,r,i,l,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,we,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var l=new Ce(n,t,r),s=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();a.assert(h instanceof Ut,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}u=this.filter_.updateFullNode(s,c=c,i)}else{var f=e.getFront(),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=s.getImmediateChild(f)),(u=null!=d?this.filter_.updateChild(s,f,d,e.popFront(),l,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(s,f,Ut.EMPTY_NODE,e.popFront(),l,i):s).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),Te=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===ye.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ye.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,ye.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,ye.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,ye.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,ye.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,ye.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,l=n.filter((function(t){return t.type===e}));l.sort(this.compareChanges_.bind(this)),l.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw a.assertionError("Should only compare child_ events.");var n=new wt(t.childName,t.snapshotNode),r=new wt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ie=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new _e(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ee(i);var o=e.getServerCache(),l=e.getEventCache(),a=r.updateFullNode(Ut.EMPTY_NODE,o.getNode(),null),s=i.updateFullNode(Ut.EMPTY_NODE,l.getNode(),null),u=new ge(a,o.isFullyInitialized(),r.filtersNodes()),c=new ge(s,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=new me(c,u),this.eventGenerator_=new Te(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){a.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var l=this.eventRegistrations_[o];if(l.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(l)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ue.MERGE&&null!==t.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),a.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(xt,(function(t,e){n.push(ye.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(ye.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Se=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(ae,"Reference.ts has not been loaded"),ae},set:function(t){a.assert(!ae,"__referenceConstructor has already been defined"),ae=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var s=this.views.get(o);return a.assert(null!=s,"SyncTree gave us an op for an invalid query."),s.applyOperation(t,e,n)}var u=[];try{for(var c=l.__values(this.views.values()),h=c.next();!h.done;h=c.next())u=u.concat((s=h.value).applyOperation(t,e,n))}catch(f){r={error:f}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return u},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),l=this.views.get(o);if(!l){var a=n.calcCompleteEventCache(i?r:null),s=!1;a?s=!0:r instanceof Ut?(a=n.calcCompleteEventChildren(r),s=!1):(a=Ut.EMPTY_NODE,s=!1);var u=new me(new ge(a,s,!1),new ge(r,i,!1));l=new Ie(t,u),this.views.set(o,l)}return l.addEventRegistration(e),l.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,a=e.queryIdentifier(),s=[],u=[],c=this.hasCompleteView();if("default"===a)try{for(var h=l.__values(this.views.entries()),f=h.next();!f.done;f=h.next()){var d,p=l.__read(f.value,2),v=p[0];u=u.concat((d=p[1]).removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(v),d.getQuery().getQueryParams().loadsAllData()||s.push(d.getQuery()))}}catch(g){i={error:g}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(d=this.views.get(a))&&(u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(a),d.getQuery().getQueryParams().loadsAllData()||s.push(d.getQuery())));return c&&!this.hasCompleteView()&&s.push(new t.__referenceConstructor(e.repo,e.path)),{removed:s,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=l.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=l.__values(this.views.values()),o=i.next();!o.done;o=i.next())r=r||o.value.getCompleteServerCache(t)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=l.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),xe=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new fe(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,l=X.relativePath(i,e);return o=o.updateChild(l,n),new t(this.writeTree_.set(i,o))}var a=new fe(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return M(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,fe.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(X.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(xt,(function(e,n){t.push(new wt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new wt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new fe(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(a.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(X.Empty,this.writeTree_,t)},t.Empty=new t(new fe(null)),t}(),Oe=function(){function t(){this.visibleWrites_=xe.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Pe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));a.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,l=this.allWrites_.length-1;i&&l>=0;){var s=this.allWrites_[l];s.visible&&(l>=n&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),l--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):M(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(X.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||Ut.EMPTY_NODE):null}var l=this.visibleWrites_.getCompleteNode(e);if(null!=l)return l;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(X.Empty)?a.apply(n||Ut.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ut.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(xt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(xt,(function(t,e){var r=i.childCompoundWrite(new X(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){a.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var l,a=this.visibleWrites_.childCompoundWrite(t),s=a.getCompleteNode(X.Empty);if(null!=s)l=s;else{if(null==e)return[];l=a.apply(e)}if((l=l.withIndex(o)).isEmpty()||l.isLeafNode())return[];for(var u=[],c=o.getCompare(),h=i?l.getReverseIteratorFrom(n,o):l.getIteratorFrom(n,o),f=h.getNext();f&&u.length<r;)0!==c(f,n)&&u.push(f),f=h.getNext();return u},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=xe.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var l=o.path,s=void 0;if(o.snap)n.contains(l)?(s=X.relativePath(n,l),r=r.addWrite(s,o.snap)):l.contains(n)&&(s=X.relativePath(l,n),r=r.addWrite(X.Empty,o.snap.getChild(s)));else{if(!o.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(l))s=X.relativePath(n,l),r=r.addWrites(s,o.children);else if(l.contains(n))if((s=X.relativePath(l,n)).isEmpty())r=r.addWrites(X.Empty,o.children);else{var u=a.safeGet(o.children,s.getFront());if(u){var c=u.getChild(s.popFront());r=r.addWrite(X.Empty,c)}}}}}return r},t}(),Pe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ne=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=fe.Empty,this.pendingWriteTree_=new Oe,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new pe(ce.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=fe.fromObject(e);return this.applyOperationToSyncPoints_(new ve(ce.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=fe.Empty;return null!=n.snap?r=r.set(X.Empty,!0):M(n.children,(function(t,e){r=r.set(new X(t),e)})),this.applyOperationToSyncPoints_(new he(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new pe(ce.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=fe.fromObject(e);return this.applyOperationToSyncPoints_(new ve(ce.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new de(ce.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),l=o.path,a=o.queryId,s=X.relativePath(l,e),u=new pe(ce.forServerTaggedQuery(a),s,n);return this.applyTaggedOperation_(l,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),l=o.path,a=o.queryId,s=X.relativePath(l,e),u=fe.fromObject(n),c=new ve(ce.forServerTaggedQuery(a),s,u);return this.applyTaggedOperation_(l,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,l=i.queryId,a=X.relativePath(o,e),s=new de(ce.forServerTaggedQuery(l),a);return this.applyTaggedOperation_(o,s)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=X.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var l,s=this.syncPointTree_.get(r);s?(o=o||s.hasCompleteView(),i=i||s.getCompleteServerCache(X.Empty)):(s=new Se,this.syncPointTree_=this.syncPointTree_.set(r,s)),null!=i?l=!0:(l=!1,i=Ut.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(X.Empty);n&&(i=i.updateImmediateChild(t,n))})));var u=s.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);a.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var f=this.pendingWriteTree_.childWrites(r),d=s.addEventRegistration(e,n,f,i,l);if(!u&&!o){var p=s.viewForQuery(e);d=d.concat(this.setupListener_(e,p))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,l=this.syncPointTree_.get(o),a=[];if(l&&("default"===e.queryIdentifier()||l.viewExistsForQuery(e))){var s=l.removeEventRegistration(e,n,r);l.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(c&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var v=d[p],g=v.getQuery(),m=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),m.hashFn,m.onComplete)}}!h&&u.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):u.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(u)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=X.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),M(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),l=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),s=this.syncPointTree_.subtree(r);if(i)a.assert(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),M(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var h=u[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return l},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ut.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return a.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);a.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(X.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(X.Empty));var o=[],l=t.path.getFront(),a=t.operationForChild(l),s=e.children.get(l);if(s&&a){var u=n?n.getImmediateChild(l):null,c=r.child(l);o=o.concat(this.applyOperationHelper_(a,s,u,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(X.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(X.Empty));var l=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,s=r.child(e),u=t.operationForChild(e);u&&(l=l.concat(i.applyOperationDescendantsHelper_(u,o,a,s)))})),o&&(l=l.concat(o.applyOperation(t,r,n))),l},t.nextQueryTag_=1,t}(),Ae=function(){function t(){this.rootNode_=Ut.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),De=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';I(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Re=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),a.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return a.deepCopy(this.counters_)},t}(),Me=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Re),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Le=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=l.__assign({},t);return this.last_&&M(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Fe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Le(t);var n=1e4+2e4*Math.random();Y(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;M(e,(function(e,i){i>0&&a.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Y(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),je=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ve(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ve=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();_&&C("event: "+e.toString()),$(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ue=function(){function t(t){this.allowedEvents_=t,this.listeners_={},a.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=l.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){a.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),qe=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return l.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Ue),Be=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return l.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ue),ze=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&$((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),He=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=k(t),this.stats_=Me.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ze(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(a.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new We((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=l.__read(t,5),i=r[0],o=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=l.__read(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(a.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=a.base64Encode(e),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=a.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),We=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(s){C("frame writing exception"),s.stack&&C(s.stack),C(s)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;a.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ge="",Ke=null;"undefined"!=typeof MozWebSocket?Ke=MozWebSocket:"undefined"!=typeof WebSocket&&(Ke=WebSocket);var Qe=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=k(this.connId),this.stats_=Me.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Ge+"/"+process.platform+"/"+(a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new Ke(this.connURL,[],r)}else this.mySock=new Ke(this.connURL)}catch(s){this.log_("Error instantiating WebSocket.");var l=s.message||s.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ke&&!t.forceDisallow_},t.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=a.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(a.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),$e=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[He,Qe]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Qe&&Qe.isAvailable(),o=i&&!Qe.previouslyFailed();if(e.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Qe];else{var a=this.transports_=[];try{for(var s=l.__values(t.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ye=function(){function t(t,e,n,r,i,o,l){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=k("c:"+this.id+":"),this.transportManager_=new $e(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Y((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Y((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Y((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Xe=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Je=function(t){function e(n,r,i,o,l,s){var u=t.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=l,u.authOverride_=s,u.id=e.nextPersistentConnectionId_++,u.log_=k("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=1e3,u.maxReconnectDelay_=3e5,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),qe.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&Be.getInstance().on("online",u.onOnline_,u),u}return l.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(a.stringify(i)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var l={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var l={p:i};t.tag&&(l.q=r.queryObject(),l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,(function(l){var a=l.d,s=l.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",l),"ok"!==s&&n.removeListen_(i,o),t.onComplete&&t.onComplete(s,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&a.contains(t,"w")){var n=a.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||a.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=a.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+a.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+a.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,l=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())};this.realtime_={close:c,sendRequest:function(t){a.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){s?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new Ye(i,o.repoInfo_,t,n,r,(function(t){I(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),l))})).then(null,(function(t){o.log_("Failed to get token: "+t),s||(a.CONSTANTS.NODE_ADMIN&&I(t),c())}))}},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return D(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new X(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=l.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,l.__values(a.values())),u=s.next();!u.done;u=s.next())this.sendListen_(u.value)}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";a.CONSTANTS.NODE_ADMIN?e="admin_node":a.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+Ge.replace(/\./g,"-")]=1,a.isMobileCordova()?t["framework.cordova"]=1:a.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Be.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Xe),Ze=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=k("p:rest:"),i.listens_={},i}return l.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(a.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,l=t.path.toString();this.log_("Listen called for "+l+" "+t.queryIdentifier());var s=e.getListenId_(t,r),u={};this.listens_[s]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(l+".json",c,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(l,n,!1,r),a.safeGet(o.listens_,s)===u&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+a.querystring(e);r.log_("Sending REST request for "+l);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+l+" received. status:",s.status,"response:",s.responseText);var t=null;if(s.status>=200&&s.status<300){try{t=a.jsonEval(s.responseText)}catch(e){I("Failed to parse JSON response for "+l+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&I("Got unsuccessful REST response for "+l+" Status: "+s.status),n(s.status);n=null}},s.open("GET",l,!0),s.send()}))},e}(Xe),tn=function(){function t(t,e,n,r){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new je,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new se,this.persistentConnection_=null;var o=new De(n,r);if(this.stats_=Me.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Ze(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var l=n.options.databaseAuthVariableOverride;if(null!=l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(l)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}this.persistentConnection_=new Je(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,l),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Me.getOrCreateReporter(t,(function(){return new Fe(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Ae,this.infoSyncTree_=new Ne({startListening:function(t,e,n,r){var o=[],l=i.infoData_.getNode(t.path);return l.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,l),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ne({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new X(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var l=a.map(e,(function(t){return Bt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,l,r)}else{var s=Bt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var u=a.map(e,(function(t){return Bt(t)}));o=this.serverSyncTree_.applyServerMerge(i,u)}else{var c=Bt(e);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;M(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new X("/.info/"+t),r=Bt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),l=Bt(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),s=ie(l,a,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),l.val(!0),(function(e,n){var o="ok"===e;o||I("set at "+t+" failed: "+e);var l=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,l),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),l={};if(M(e,(function(e,n){i=!1,l[e]=re(t.child(e),Bt(n),r.serverSyncTree_,o)})),i)C("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),s=this.serverSyncTree_.applyUserMerge(t,l,a);this.eventQueue_.queueEvents(s),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||I("update at "+t+" failed: "+e);var l=r.serverSyncTree_.ackUserWrite(a,!o),s=l.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(s,l),r.callOnCompleteCallback(n,e,i)})),M(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new se;this.onDisconnect_.forEachTree(X.Empty,(function(r,i){var o=re(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(X.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new se,this.eventQueue_.raiseEventsForChangedPath(X.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Bt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Bt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(a.isEmpty(e))return C("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&M(e,(function(e,n){var i=Bt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Le(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);M(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),C.apply(void 0,l.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&$((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new hn(this))},enumerable:!0,configurable:!0}),t}(),en=function(){function t(e){this.indexedFilter_=new _e(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new wt(e,n))||(n=Ut.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ut.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Ut.EMPTY_NODE);var i=this;return e.forEachChild(xt,(function(t,e){i.matches(new wt(t,e))||(r=r.updateImmediateChild(t,Ut.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),nn=function(){function t(t){this.rangedFilter_=new en(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new wt(e,n))||(n=Ut.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Ut.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var l=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:this.index_.compare(l,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(l.name,l.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Ut.EMPTY_NODE);var a=void 0,s=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)l=i.getNext(),!h&&u(a,l)<=0&&(h=!0),h&&o<this.limit_&&u(l,s)<=0?o++:r=r.updateImmediateChild(l.name,Ut.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var l=this.index_.getCompare();o=function(t,e){return l(e,t)}}else o=this.index_.getCompare();var s=t;a.assert(s.numChildren()===this.limit_,"");var u=new wt(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var f=s.getImmediateChild(e),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name===e||s.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:o(d,u);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ye.childChangedChange(e,n,f)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ye.childRemovedChange(e,f));var v=s.updateImmediateChild(e,Ut.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(ye.childAddedChange(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:h&&o(c,u)>=0?(null!=i&&(i.trackChildChange(ye.childRemovedChange(c.name,c.node)),i.trackChildChange(ye.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,Ut.EMPTY_NODE)):t},t}(),rn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==xt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===xt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new _e(this.getIndex()):this.hasLimit()?new nn(this):new en(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===xt?e=n.PRIORITY_INDEX:this.index_===Ht?e=n.VALUE_INDEX:this.index_===Et?e=n.KEY_INDEX:(a.assert(this.index_ instanceof Wt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=a.stringify(e),this.startSet_&&(r[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),on=function(t){function e(e,n){if(!(e instanceof tn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,rn.DEFAULT,!1)||this}return l.__extends(e,t),e.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof X||(null===this.path.getFront()?pt("Reference.child",1,t,!1):dt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){a.validateArgCount("Reference.set",1,2,arguments.length),vt("Reference.set",this.path),at("Reference.set",1,t,this.path,!1),a.validateCallback("Reference.set",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(a.validateArgCount("Reference.update",1,2,arguments.length),vt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ut("Reference.update",1,t,this.path,!1),a.validateCallback("Reference.update",2,e,!0);var i=new a.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),vt("Reference.setWithPriority",this.path),at("Reference.setWithPriority",1,t,this.path,!1),ct("Reference.setWithPriority",2,e,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new a.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return a.validateArgCount("Reference.remove",0,1,arguments.length),vt("Reference.remove",this.path),a.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),vt("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,t,!1),a.validateCallback("Reference.transaction",2,e,!0),mt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new a.Deferred;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new _t(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){a.validateArgCount("Reference.setPriority",1,2,arguments.length),vt("Reference.setPriority",this.path),ct("Reference.setPriority",1,t,!1),a.validateCallback("Reference.setPriority",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){a.validateArgCount("Reference.push",0,2,arguments.length),vt("Reference.push",this.path),at("Reference.push",1,t,this.path,!0),a.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=bt(r),o=this.child(i),l=this.child(i);return n=null!=t?o.set(t,e).then((function(){return l})):Promise.resolve(l),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return vt("Reference.onDisconnect",this.path),new yt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Xt);Xt.__referenceConstructor=on,Se.__referenceConstructor=on;var ln=function(){this.children={},this.childCount=0,this.value=null},an=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new ln),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof X?e:new X(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,a.safeGet(r.node_.children,i)||new ln),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){a.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;M(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=a.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),sn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});tn.MAX_TRANSACTION_RETRIES_=25,tn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new an},tn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new on(this,t);o.on("value",i);var l={path:t,update:e,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(t);l.currentInputSnapshot=s;var u=l.update(s.val());if(void 0===u){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var c=new Gt(l.currentInputSnapshot,new on(this,l.path),xt);l.onComplete(null,!1,c)}}else{st("transaction failed: Data returned ",u,l.path),l.status=sn.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(l),h.setValue(f);var d=void 0;"object"==typeof u&&null!==u&&a.contains(u,".priority")?(d=a.safeGet(u,".priority"),a.assert(lt(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(t)||Ut.EMPTY_NODE).getPriority().val(),d=d;var p=this.generateServerValues(),v=Bt(u,d),m=ie(v,s,p);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=m,l.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(t,m,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,y),this.sendReadyTransactions_()}},tn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ut.EMPTY_NODE},tn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);a.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===sn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},tn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,l=i.hash(),s=0;s<e.length;s++){var u=e[s];a.assert(u.status===sn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=sn.SENT,u.retryCount++;var c=X.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var h=o.val(!0),f=t;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],l=0;l<e.length;l++){if(e[l].status=sn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[l].currentWriteId)),e[l].onComplete){var a=e[l].currentOutputSnapshotResolved,s=new on(n,e[l].path),u=new Gt(a,s,xt);o.push(e[l].onComplete.bind(null,null,!0,u))}e[l].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),l=0;l<o.length;l++)$(o[l])}else{if("datastale"===r)for(l=0;l<e.length;l++)e[l].status=e[l].status===sn.SENT_NEEDS_ABORT?sn.NEEDS_ABORT:sn.RUN;else for(I("transaction at "+f.toString()+" failed: "+r),l=0;l<e.length;l++)e[l].status=sn.NEEDS_ABORT,e[l].abortReason=r;n.rerunTransactions_(t)}}),l)},tn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},tn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===sn.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var l=t[o],s=X.relativePath(e,l.path),u=!1,c=void 0;if(a.assert(null!==s,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===sn.NEEDS_ABORT)u=!0,c=l.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===sn.RUN)if(l.retryCount>=tn.MAX_TRANSACTION_RETRIES_)u=!0,c="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var h=this.getLatestState_(l.path,i);l.currentInputSnapshot=h;var f=t[o].update(h.val());if(void 0!==f){st("transaction failed: Data returned ",f,l.path);var d=Bt(f);"object"==typeof f&&null!=f&&a.contains(f,".priority")||(d=d.updatePriority(h.getPriority()));var p=l.currentWriteId,v=this.generateServerValues(),g=ie(d,h,v);l.currentOutputSnapshotRaw=d,l.currentOutputSnapshotResolved=g,l.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(l.path,g,l.currentWriteId,l.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else u=!0,c="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],u&&(t[o].status=sn.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===c){var m=new on(this,t[o].path),y=new Gt(t[o].currentInputSnapshot,m,xt);n.push(t[o].onComplete.bind(null,null,!1,y))}else n.push(t[o].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)$(n[o]);this.sendReadyTransactions_()}},tn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},tn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},tn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},tn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==sn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},tn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},tn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===sn.SENT_NEEDS_ABORT||(e[o].status===sn.SENT?(a.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=sn.SENT_NEEDS_ABORT,e[o].abortReason="set"):(a.assert(e[o].status===sn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)$(n[o])}};var un,cn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return un||(un=new t),un},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=l.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,l.__values(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next())this.repos_[a][u.value].interrupt()}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=l.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,l.__values(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next())this.repos_[a][u.value].resume()}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var r=n||t.options.databaseURL;void 0===r&&T("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=tt(r),o=i.repoInfo,l=void 0;return"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l&&(o=(i=tt(r="http://"+l+"?ns="+o.namespace)).repoInfo),gt("Invalid Firebase Database URL",1,i),i.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t,e).database},t.prototype.deleteRepo=function(t){var e=a.safeGet(this.repos_,t.app.name);e&&a.safeGet(e,t.repoInfo_.toURLString())===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=a.safeGet(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=a.safeGet(r,t.toURLString());return i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new tn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),hn=function(){function t(t){this.repo_=t,t instanceof tn||T("Don't call new Database() directly - please use firebase.database()."),this.root_=new on(t,X.Empty),this.INTERNAL=new fn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),t instanceof on?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),a.validateArgCount(e,1,1,arguments.length);var n=tt(t);gt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&T(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&T("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),fn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){return this.database.checkDeleted_("delete"),cn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),dn=Object.freeze({__proto__:null,forceLongPolling:function(){Qe.forceDisallow(),He.forceAllow()},forceWebSockets:function(){He.forceDisallow()},isWebSocketsAvailable:function(){return Qe.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),pn=Je;Je.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Je.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var vn=Object.freeze({__proto__:null,DataConnection:pn,RealTimeConnection:Ye,hijackHash:function(t){var e=Je.prototype.put;return Je.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Je.prototype.put=e}},ConnectionTarget:Z,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){cn.getInstance().forceRestClient(t)}}),gn=hn.ServerValue;function mn(e){Ge=e.SDK_VERSION;var n=e.INTERNAL.registerComponent(new u.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return cn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:on,Query:Xt,Database:hn,DataSnapshot:Gt,enableLogging:w,INTERNAL:dn,ServerValue:gn,TEST_ACCESS:vn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.6.4"),a.isNodeSdk()&&(t.exports=n)}mn(o),e.DataSnapshot=Gt,e.Database=hn,e.OnDisconnect=yt,e.Query=Xt,e.Reference=on,e.ServerValue=gn,e.enableLogging=w,e.registerDatabase=mn},O1kn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;n("fSjL");var o,l=n("NEb6"),a=n("zVF4"),s=n("q/0M"),u=n("S+S0"),c=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o;return l.__generator(this,(function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=l.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=l.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return l.sent(),[2,i]}}))}))},t}(),h=((o={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",o["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",o["registration-api-key"]="Undefined API key. Check Firebase app initialization.",o["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",o["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",o["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",o["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",o["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",o["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",o["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',o["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',o["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",o["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",o),f=new a.ErrorFactory("remoteconfig","Remote Config",h),d=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,h,d,p,v,g,m,y;return l.__generator(this,(function(l){switch(l.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=l.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},a=fetch(r,o),s=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),l.label=2;case 2:return l.trys.push([2,5,,6]),[4,Promise.race([a,s])];case 3:return l.sent(),[4,a];case 4:return u=l.sent(),[3,6];case 5:throw c=l.sent(),h="fetch-client-network","AbortError"===c.name&&(h="fetch-timeout"),f.create(h,{originalErrorMessage:c.message});case 6:if(d=u.status,p=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];m=void 0,l.label=7;case 7:return l.trys.push([7,9,,10]),[4,u.json()];case 8:return m=l.sent(),[3,10];case 9:throw y=l.sent(),f.create("fetch-client-parse",{originalErrorMessage:y.message});case 10:v=m.entries,g=m.state,l.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?d=500:"NO_CHANGE"===g?d=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(v={}),304!==d&&200!==d)throw f.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:p,config:v}]}var _}))}))},t}(),p=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),v=["1","true","t","yes","y","on"],g=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&v.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),m=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=s.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=s.LogLevel.SILENT;break;default:this._logger.logLevel=s.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!0,configurable:!0}),t.prototype.activate=function(){return l.__awaiter(this,void 0,void 0,(function(){var t,e,n;return l.__generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return l.__awaiter(this,void 0,void 0,(function(){var t,e,n,r=this;return l.__generator(this,(function(i){switch(i.label){case 0:t=new p,setTimeout((function(){return l.__awaiter(r,void 0,void 0,(function(){return l.__generator(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=(o=e)instanceof a.FirebaseError&&-1!==o.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o}))}))},t.prototype.fetchAndActivate=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(l.__assign(l.__assign({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new g("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new g("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new g("static"))},t}();function y(t,e){var n=t.target.error||void 0;return f.create(e,{originalErrorMessage:n&&n.message})}var _=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(y(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,n=this;return l.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),l=n.createCompositeKey(t);try{var a=o.get(l);a.onerror=function(t){i(y(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(s){i(f.create("storage-get",{originalErrorMessage:s&&s.message}))}}))]}}))}))},t.prototype.set=function(t,e){return l.__awaiter(this,void 0,void 0,(function(){var n,r=this;return l.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var l=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=r.createCompositeKey(t);try{var s=l.put({compositeKey:a,value:e});s.onerror=function(t){o(y(t,"storage-set"))},s.onsuccess=function(){i()}}catch(u){o(f.create("storage-set",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.delete=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,n=this;return l.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),l=n.createCompositeKey(t);try{var a=o.delete(l);a.onerror=function(t){i(y(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(s){i(f.create("storage-delete",{originalErrorMessage:s&&s.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),b=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return l.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,o;return l.__generator(this,(function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=l.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=l.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=l.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function w(t){var e=1e3*Math.pow(2,t),n=Math.round(.5*e*(Math.random()-.5)*2);return Math.min(144e5,e+n)}function C(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(f.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var k=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e;return l.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return l.__awaiter(this,void 0,void 0,(function(){var e,i,o;return l.__generator(this,(function(l){switch(l.label){case 0:return[4,C(t.signal,n)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof a.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(i=l.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+w(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return l.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),E="@firebase/remote-config";function T(t){t.INTERNAL.registerComponent(new u.Component("remoteConfig",(function(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw f.create("registration-window");var o=r.options,l=o.projectId,a=o.apiKey,u=o.appId;if(!l)throw f.create("registration-project-id");if(!a)throw f.create("registration-api-key");if(!u)throw f.create("registration-app-id");var h=new _(u,r.name,n=n||"firebase"),p=new b(h),v=new s.Logger(E);v.logLevel=s.LogLevel.ERROR;var g=new d(i,t.SDK_VERSION,n,l,a,u),y=new k(g,h),w=new c(y,h,p,v),C=new m(r,w,p,h,v);return C.ensureInitialized(),C}),"PUBLIC").setMultipleInstances(!0)),t.registerVersion(E,"0.1.22")}T(i),e.registerRemoteConfig=T},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("UBlB"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),l=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(l){if(n)return null;throw l}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var l=r.__read(o.value,2),a=l[1],s=this.normalizeInstanceIdentifier(l[0]);try{var u=this.getOrInitializeService(s);a.resolve(u)}catch(c){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new l(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=l},UBlB:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return s})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return k})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(l=(o<3?i(l):o>3?i(e,n,l):i(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function s(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function l(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}s((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return l}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,a=o.length;l<a;l++,i++)r[i]=o[l];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(s,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function s(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.15.0","app"),t.exports=i},bQlE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;n("fSjL");var o,l,a,s,u=n("3TSf"),c=n("zVF4"),h=n("q/0M"),f=n("S+S0"),d=((o={})["trace started"]="Trace {$traceName} was started before.",o["trace stopped"]="Trace {$traceName} is not running.",o["no window"]="Window is not available.",o["no app id"]="App id is not available.",o["no project id"]="Project id is not available.",o["no api key"]="Api key is not available.",o["invalid cc log"]="Attempted to queue invalid cc event",o["FB not default"]="Performance can only start when Firebase app instance is the default one.",o["RC response not ok"]="RC response is not ok",o["invalid attribute name"]="Attribute name {$attributeName} is invalid.",o["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",o["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",o["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",o),p=new c.ErrorFactory("performance","Performance",d),v=function(){function t(t){if(this.window=t,!t)throw p.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===l&&(l=new t(a)),l},t}();function g(t,e){var n=t.length-e.length;if(n<0||n>1)throw p.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var m,y=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=g("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=g("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw p.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw p.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw p.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===s&&(s=new t),s},t}();function _(){return m}var b=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),w=["firebase_","google_","ga_"],C=new RegExp("^[a-zA-Z]\\w*$");function k(){var t=v.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function E(){switch(v.getInstance().document.visibilityState){case"visible":return b.VISIBLE;case"hidden":return b.HIDDEN;default:return b.UNKNOWN}}function T(){var t=v.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var I=new h.Logger("Performance");function S(t){if(!t)return t;var e=y.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=x(e.tracesSamplingRate),e.logNetworkAfterSampling=x(e.networkRequestsSamplingRate),t}function x(t){return Math.random()<=t}I.logLevel=h.LogLevel.INFO;var O,P=1;function N(){return P=2,O=O||function(){var t=v.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){t.addEventListener("readystatechange",(function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())}))}else e()}))}().then((function(){return(t=y.getInstance().installationsService.getId()).then((function(t){m=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=v.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(o){return}}}}();return e?(S(e),Promise.resolve()):function(t){return(e=y.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+y.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+y.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:y.getInstance().getAppId(),app_version:"0.3.6",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw p.create("RC response not ok")}))})).catch((function(){I.info("Could not fetch config, will use default configs")}));var e}(t).then(S).then((function(t){return function(t){var e=v.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*y.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return A()}),(function(){return A()}))}function A(){P=3}var D,R=3,M=[],L=!1;function F(t){if(!t.eventTime||!t.message)throw p.create("invalid cc log");M=u.__spreadArrays(M,[t])}function j(t,e){D||(D=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);F({message:r,eventTime:Date.now()})}}(q)),D(t,e)}function V(t){var e=y.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&v.getInstance().requiredApisAvailable()&&(t.isAuto&&E()!==b.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===P?U(t):N().then((function(){return U(t)}),(function(){return U(t)}))))}function U(t){_()&&setTimeout((function(){return j(t,1)}),0)}function q(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:B(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:B(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function B(){return{google_app_id:y.getInstance().getAppId(),app_instance_id:_(),web_app_info:{sdk_version:"0.3.6",page_url:v.getInstance().getUrl(),service_worker_status:k(),visibility_state:E(),effective_connection_type:T()},application_process_state:0}}var z=["_fp","_fcp","_fid"],H=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=v.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw p.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw p.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),V(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=u.__assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}V(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]&&this.putMetric(t,0),this.counters[t]+=e},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&z.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw p.create("invalid custom metric name",{customMetricName:t});this.counters[t]=e},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40||w.some((function(e){return t.startsWith(e)}))||!t.match(C))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw p.create("invalid attribute name",{attributeName:t});if(!r)throw p.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return u.__assign({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=v.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),l=Math.floor(1e3*v.getInstance().getTimeOrigin());if(o.setStartTime(l),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var s=n.find((function(t){return"first-contentful-paint"===t.name}));s&&s.startTime&&o.putMetric("_fcp",Math.floor(1e3*s.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}V(o)}},t.createUserTimingTrace=function(e){V(new t(e,!1,e))},t}();function W(t){var e=t;if(e&&void 0!==e.responseStart){var n=v.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=y.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return j(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function G(){_()&&(setTimeout((function(){return function(){var t=v.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){H.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),H.createOobTrace(e,n,t))}))}else H.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=v.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)W(n[e]);t.setupObserver("resource",W)}()}),0),setTimeout((function(){return function(){for(var t=v.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)K(n[e]);t.setupObserver("measure",K)}()}),0))}function K(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&H.createUserTimingTrace(e)}var Q=function(){function t(t){this.app=t,v.getInstance().requiredApisAvailable()?(L||(function t(e){setTimeout((function(){if(0!==R)return M.length?void function(){var e=u.__spreadArrays(M);M=[];var n=e.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(e,n){return function(t){var e=y.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(e).then((function(t){return t.ok||I.info("Call to Firebase backend failed."),t.json()})).then((function(e){var r=Number(e.nextRequestWaitMillis),i=1e4;isNaN(r)||(i=Math.max(r,i));var o=e.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(M=u.__spreadArrays(n,M),I.info("Retry transport request later.")),R=3,t(i)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:y.getInstance().logSource,log_event:n},e).catch((function(){M=u.__spreadArrays(e,M),R--,I.info("Tries left: "+R+"."),t(1e4)}))}():t(1e4)}),e)}(5500),L=!0),N().then(G,G)):I.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return t.prototype.trace=function(t){return new H(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return y.getInstance().instrumentationEnabled},set:function(t){y.getInstance().instrumentationEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return y.getInstance().dataCollectionEnabled},set:function(t){y.getInstance().dataCollectionEnabled=t},enumerable:!0,configurable:!0}),t}();function $(t){t.INTERNAL.registerComponent(new f.Component("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw p.create("FB not default");if("undefined"==typeof window)throw p.create("no window");return function(t){a=t}(window),y.getInstance().firebaseAppInstance=t,y.getInstance().installationsService=e,new Q(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion("@firebase/performance","0.3.6")}$(i),e.registerPerformance=$},fSjL:function(t,e,n){"use strict";n.r(e);var r=n("wj3C"),i=n.n(r),o=n("S+S0"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function l(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}s((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return l}var h=n("zVF4"),f=n("nbvr");n.d(e,"registerInstallations",(function(){return X}));var d,p=((d={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',d["not-registered"]="Firebase Installation is not registered.",d["installation-not-found"]="Firebase Installation not found.",d["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',d["app-offline"]="Could not process request. Application offline.",d["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",d),v=new h.ErrorFactory("installations","Installations",p);function g(t){return t instanceof h.FirebaseError&&t.code.includes("request-failed")}function m(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function y(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function _(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,v.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function b(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function w(t,e){var n=e.refreshToken,r=b(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function C(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function k(t,e){var n=e.fid;return a(this,void 0,void 0,(function(){var e,r,i,o,l;return s(this,(function(a){switch(a.label){case 0:return e=m(t),r=b(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.11"})},[4,C((function(){return fetch(e,i)}))];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(l=a.sent()).fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:y(l.authToken)}];case 3:return[4,_("Create Installation",o)];case 4:throw a.sent()}}))}))}function E(t){return new Promise((function(e){setTimeout(e,t)}))}var T=/^[cdef][\w-]{21}$/;function I(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return T.test(e)?e:""}catch(n){return""}}function S(t){return t.appName+"!"+t.appId}var x=new Map;function O(t,e){var n=S(t);P(n,e),function(t,e){var n=A();n&&n.postMessage({key:t,fid:e}),D()}(n,e)}function P(t,e){var n,r,i=x.get(t);if(i)try{for(var o=u(i),l=o.next();!l.done;l=o.next())(0,l.value)(e)}catch(a){n={error:a}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var N=null;function A(){return!N&&"BroadcastChannel"in self&&((N=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){P(t.data.key,t.data.fid)}),N}function D(){0===x.size&&N&&(N.close(),N=null)}var R="firebase-installations-store",M=null;function L(){return M||(M=Object(f.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(R)}}))),M}function F(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,l;return s(this,(function(a){switch(a.label){case 0:return n=S(t),[4,L()];case 1:return r=a.sent(),i=r.transaction(R,"readwrite"),[4,(o=i.objectStore(R)).get(n)];case 2:return l=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),l&&l.fid===e.fid||O(t,e.fid),[2,e]}}))}))}function j(t){return a(this,void 0,void 0,(function(){var e,n,r;return s(this,(function(i){switch(i.label){case 0:return e=S(t),[4,L()];case 1:return n=i.sent(),[4,(r=n.transaction(R,"readwrite")).objectStore(R).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function V(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,l,a;return s(this,(function(s){switch(s.label){case 0:return n=S(t),[4,L()];case 1:return r=s.sent(),i=r.transaction(R,"readwrite"),[4,(o=i.objectStore(R)).get(n)];case 2:return l=s.sent(),void 0!==(a=e(l))?[3,4]:[4,o.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:s.sent(),s.label=6;case 6:return[4,i.complete];case 7:return s.sent(),!a||l&&l.fid===a.fid||O(t,a.fid),[2,a]}}))}))}function U(t){return a(this,void 0,void 0,(function(){var e,n,r;return s(this,(function(i){switch(i.label){case 0:return[4,V(t,(function(n){var r=function(t){return z(t||{fid:I(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(v.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,k(t,e)];case 1:return n=i.sent(),[2,F(t,n)];case 2:return g(r=i.sent())&&409===r.serverCode?[4,j(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,F(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:q(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function q(t){return a(this,void 0,void 0,(function(){var e,n,r,i;return s(this,(function(o){switch(o.label){case 0:return[4,B(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,E(100)];case 3:return o.sent(),[4,B(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,U(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function B(t){return V(t,(function(t){if(!t)throw v.create("installation-not-found");return z(t)}))}function z(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function H(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return a(this,void 0,void 0,(function(){var t,i,o,l,a;return s(this,(function(s){switch(s.label){case 0:return t=function(t,e){var n=e.fid;return m(t)+"/"+n+"/authTokens:generate"}(n,e),i=w(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),l={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.11"}})},[4,C((function(){return fetch(t,l)}))];case 1:return(a=s.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,y(s.sent())];case 3:return[4,_("Generate Auth Token",a)];case 4:throw s.sent()}}))}))}function W(t,e){return void 0===e&&(e=!1),a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return[4,V(t.appConfig,(function(r){if(!K(r))throw v.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return[4,G(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,E(100)];case 3:return i.sent(),[4,G(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,W(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw v.create("app-offline");var u=function(t){var e={requestStatus:1,requestTime:Date.now()};return l(l({},t),{authToken:e})}(r);return n=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,H(t,e)];case 1:return n=o.sent(),i=l(l({},e),{authToken:n}),[4,F(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!g(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,j(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=l(l({},e),{authToken:{requestStatus:0}}),[4,F(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,u),u}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function G(t){return V(t,(function(t){if(!K(t))throw v.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?l(l({},t),{authToken:{requestStatus:0}}):t}))}function K(t){return void 0!==t&&2===t.registrationStatus}function Q(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return[4,U(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function $(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(l){switch(l.label){case 0:return n=function(t,e){var n=e.fid;return m(t)+"/"+n}(t,e),r=w(t,e),i={method:"DELETE",headers:r},[4,C((function(){return fetch(n,i)}))];case 1:return(o=l.sent()).ok?[3,3]:[4,_("Delete Installation",o)];case 2:throw l.sent();case 3:return[2]}}))}))}function Y(t){return v.create("missing-app-config-values",{valueName:t})}function X(t){t.INTERNAL.registerComponent(new o.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Y("App Configuration");if(!t.name)throw Y("App Name");try{for(var r=u(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Y(o)}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return a(this,void 0,void 0,(function(){var e,n,r;return s(this,(function(i){switch(i.label){case 0:return[4,U(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):W(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,Q(t.appConfig)];case 1:return n.sent(),[4,W(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,V(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw v.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw v.create("app-offline");case 3:return[4,$(e,n)];case 4:return r.sent(),[4,j(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){A();var n=S(t),r=x.get(n);r||(r=new Set,x.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=S(t),r=x.get(n);r&&(r.delete(e),0===r.size&&x.delete(n),D())}(n,e)}}(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.11")}X(i.a)},gHGA:function(t,e,n){"use strict";n.r(e);var r=n("wj3C"),i=n.n(r),o=(n("fSjL"),n("S+S0")),l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function l(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}s((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return l}var h,f=n("zVF4"),d=n("nbvr"),p=((h={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',h["only-available-in-window"]="This method is available in a Window context.",h["only-available-in-sw"]="This method is available in a service worker context.",h["permission-default"]="The notification permission was not granted and dismissed instead.",h["permission-blocked"]="The notification permission was not granted and blocked instead.",h["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",h["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",h["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",h["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",h["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",h["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",h["token-update-no-token"]="FCM returned no token when updating the user to push.",h["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",h["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",h["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",h["invalid-vapid-key"]="The public VAPID key must be a string.",h["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",h),v=new f.ErrorFactory("messaging","Messaging",p);function g(t){return v.create("missing-app-config-values",{valueName:t})}function m(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function y(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function _(t){return a(this,void 0,void 0,(function(){var e,n=this;return s(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return e=null,[4,Object(d.openDb)("fcm_token_details_db",5,(function(r){return a(n,void 0,void 0,(function(){var n,i,o,l;return s(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(l=o.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:m(o.vapidKey)}}}else 3===r.oldVersion?e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:m(o.auth),p256dh:m(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:m(o.vapidKey)}}:4===r.oldVersion&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:m(o.auth),p256dh:m(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:m(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(d.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,Object(d.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(d.deleteDb)("undefined")];case 6:return r.sent(),[2,b(e)?e:null]}}))}))}function b(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var w="firebase-messaging-store",C=null;function k(){return C||(C=Object(d.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(w)}}))),C}function E(t){return a(this,void 0,void 0,(function(){var e,n,r;return s(this,(function(i){switch(i.label){case 0:return e=S(t),[4,k()];case 1:return[4,i.sent().transaction(w).objectStore(w).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,_(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,T(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function T(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return n=S(t),[4,k()];case 1:return r=o.sent(),[4,(i=r.transaction(w,"readwrite")).objectStore(w).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function I(t){return a(this,void 0,void 0,(function(){var e,n,r;return s(this,(function(i){switch(i.label){case 0:return e=S(t),[4,k()];case 1:return n=i.sent(),[4,(r=n.transaction(w,"readwrite")).objectStore(w).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function S(t){return t.appConfig.appId}var x="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function O(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,l;return s(this,(function(a){switch(a.label){case 0:return[4,D(t)];case 1:n=a.sent(),r=R(e),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(A(t.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw l=a.sent(),v.create("token-subscribe-failed",{errorInfo:l});case 6:if(o.error)throw v.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw v.create("token-subscribe-no-token");return[2,o.token]}}))}))}function P(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,l;return s(this,(function(a){switch(a.label){case 0:return[4,D(t)];case 1:n=a.sent(),r=R(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(A(t.appConfig)+"/"+e.token,i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw l=a.sent(),v.create("token-update-failed",{errorInfo:l});case 6:if(o.error)throw v.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw v.create("token-update-no-token");return[2,o.token]}}))}))}function N(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(l){switch(l.label){case 0:return[4,D(t)];case 1:n=l.sent(),r={method:"DELETE",headers:n},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(A(t.appConfig)+"/"+e,r)];case 3:return[4,l.sent().json()];case 4:if((i=l.sent()).error)throw v.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=l.sent(),v.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function A(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function D(t){var e=t.appConfig,n=t.installations;return a(this,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function R(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==x&&(n.web.applicationPubKey=e),n}function M(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,l;return s(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw v.create("permission-blocked");return[4,V(e,n)];case 1:return r=a.sent(),[4,E(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:m(r.getKey("auth")),p256dh:m(r.getKey("p256dh"))},i?[3,3]:[2,j(t,o)];case 3:if(c=(u=o).endpoint===(s=i.subscriptionOptions).endpoint,u.vapidKey===s.vapidKey&&c&&u.auth===s.auth&&u.p256dh===s.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,N(t,i.token)];case 5:return a.sent(),[3,7];case 6:return l=a.sent(),console.warn(l),[3,7];case 7:return[2,j(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,F({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var s,u,c}))}))}function L(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return[4,E(t)];case 1:return(n=i.sent())?[4,N(t,n.token)]:[3,4];case 2:return i.sent(),[4,I(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function F(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o;return s(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,P(e,t)];case 1:return r=a.sent(),i=l({token:r,createTime:Date.now()},t),[4,T(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,L(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function j(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return[4,O(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,T(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function V(t,e){return a(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:y(e)})]}}))}))}var U=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function q(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}var B=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),t.prototype.getToken=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return this.vapidKey||(this.vapidKey=x),[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),"default"!==Notification.permission?[3,3]:[4,Notification.requestPermission()];case 2:e.sent(),e.label=3;case 3:if("granted"!==Notification.permission)throw v.create("permission-blocked");return[2,M(this.firebaseDependencies,t,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),[2,L(this.firebaseDependencies,t)]}}))}))},t.prototype.requestPermission=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw v.create("denied"===t?"permission-blocked":"permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw v.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw v.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw v.create("invalid-sw-registration");if(this.swRegistration)throw v.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback="function"==typeof t?t:t.next,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw v.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.getServiceWorkerRegistration=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:if(this.swRegistration)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 2:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,4];case 3:throw e=n.sent(),v.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 4:return[2,this.swRegistration]}}))}))},t.prototype.messageEventListener=function(t){var e;return a(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(l){switch(l.label){case 0:return(null===(e=t.data)||void 0===e?void 0:e.firebaseMessaging)?(r=(n=t.data.firebaseMessaging).type,i=n.payload,this.onMessageCallback&&r===U.PUSH_RECEIVED&&this.onMessageCallback(i),q(o=i.data)&&"1"===o["google.c.a.e"]?[4,this.logEvent(r,o)]:[3,2]):[2];case 1:l.sent(),l.label=2;case 2:return[2]}}))}))},t.prototype.logEvent=function(t,e){return a(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case U.NOTIFICATION_CLICKED:return"notification_open";case U.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}(),z=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw v.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.getToken=function(){var t,e;return a(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,E(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:x,r.label=2;case 2:return[2,M(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return L(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw v.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw v.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw v.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw v.create("only-available-in-window")},t.prototype.onMessage=function(){throw v.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw v.create("only-available-in-window")},t.prototype.onPush=function(t){return a(this,void 0,void 0,(function(){var e,n,r;return s(this,(function(i){switch(i.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,G()]:[2];case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=i.sent())?[2,W(n,e)]:(r=function(t){var e;if(t&&"object"==typeof t.notification){var n=l({},t.notification);return n.data=l(l({},t.notification.data),((e={}).FCM_MSG=t,e)),n}}(e))?[4,Q(r)]:[3,3];case 2:return i.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return a(this,void 0,void 0,(function(){var r;return s(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,L(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,E(this.firebaseDependencies)];case 3:return r=i.sent(),[4,L(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,M(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:x)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return a(this,void 0,void 0,(function(){var r,i,o,l;return s(this,(function(a){switch(a.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(q(t.data)?self.location.origin:null)}(r))?[4,H(i)]:[2]):[2];case 1:return(o=a.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return o=a.sent(),[4,new Promise((function(t){setTimeout(t,3e3)}))];case 3:return a.sent(),[3,6];case 4:return[4,o.focus()];case 5:o=a.sent(),a.label=6;case 6:return o?(l=K(U.NOTIFICATION_CLICKED,r),[2,o.postMessage(l)]):[2]}}))}))},t}();function H(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o,l,a;return s(this,(function(s){switch(s.label){case 0:return e=new URL(t,self.location.href),[4,G()];case 1:n=s.sent();try{for(r=u(n),i=r.next();!i.done;i=r.next())if(o=i.value,new URL(o.url,self.location.href).host===e.host)return[2,o]}catch(c){l={error:c}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(l)throw l.error}}return[2,null]}}))}))}function W(t,e){var n,r,i=K(U.PUSH_RECEIVED,e);try{for(var o=u(t),l=o.next();!l.done;l=o.next())l.value.postMessage(i)}catch(a){n={error:a}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function G(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function K(t,e){return{firebaseMessaging:{type:t,payload:e}}}function Q(t){var e,n=null!==(e=t.title)&&void 0!==e?e:"",r=t.actions,i=Notification.maxActions;return r&&i&&r.length>i&&console.warn("This browser only supports "+i+" actions. The remaining actions will not be displayed."),self.registration.showNotification(n,t)}var $={isSupported:Y};function Y(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}i.a.INTERNAL.registerComponent(new o.Component("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw g("App Configuration Object");if(!t.name)throw g("App Name");var r=t.options;try{for(var i=u(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var l=o.value;if(!r[l])throw g(l)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!Y())throw v.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new z(n):new B(n)}),"PUBLIC").setServiceProps($))},iqUP:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;n("t6oF"),n("NSPt"),n("6Joi"),n("ABqa"),n("gHGA"),n("LmZi"),n("bQlE"),n("3Kre"),n("O1kn"),i.registerVersion("firebase","7.15.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),i.registerVersion("firebase","7.15.0"),t.exports=i},mAIw:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return s})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return k})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(l=(o<3?i(l):o>3?i(e,n,l):i(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function s(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function l(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}s((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return l}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,a=o.length;l<a;l++,i++)r[i]=o[l];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(s,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function s(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,l){n(i=t[e].apply(t,r)).then(o,l)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new c(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function l(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function u(t){this._index=t}function c(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function p(t){this._db=t}o(u,"_index",["name","keyPath","multiEntry","unique"]),l(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),s(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),l(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new c(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),l(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),s(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),a(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,u].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return s})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return k})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(l=(o<3?i(l):o>3?i(e,n,l):i(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function s(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function l(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}s((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return l}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,a=o.length;l<a;l++,i++)r[i]=o[l];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(s,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function s(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,a=o.length;l<a;l++,i++)r[i]=o[l];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return l})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var o=[],l=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},s=l.INFO,u=((i={})[l.DEBUG]="log",i[l.VERBOSE]="log",i[l.INFO]="info",i[l.WARN]="warn",i[l.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),l=u[e];if(!l)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[l].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in l))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!0,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,l.DEBUG],t)),this._logHandler.apply(this,r([this,l.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,l.VERBOSE],t)),this._logHandler.apply(this,r([this,l.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,l.INFO],t)),this._logHandler.apply(this,r([this,l.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,l.WARN],t)),this._logHandler.apply(this,r([this,l.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,l.ERROR],t)),this._logHandler.apply(this,r([this,l.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:l[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},t6oF:function(t,e,n){"use strict";n.r(e);var r=n("wj3C"),i=n.n(r);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var l=t[o];l in i||(i[l]={}),i=i[l]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var l=n.setTimeout;r.prototype.c=function(t){l(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,l=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),l},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),l=r.next();!l.done;l=r.next())i(l.value).Oa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){l[e]=n,0==--a&&t(l)}}var l=[],a=0;do{l.push(void 0),a++,i(r.value).Oa(o(l.length-1),e),r=n.next()}while(!r.done)}))},e}));var l=l||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function v(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++m)}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:_).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now||function(){return+new Date};function k(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=S+t,this.message=e||x[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new E(e.substring(S.length),t.message,t.serverResponse):null}k(E,Error),E.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.v()};var I,S="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function A(t){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");A.call(this,n+t[r])}function R(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}I=P("__EID__")?"__EID__":void 0,k(A,Error),A.prototype.name="CustomError",k(D,A),D.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new M((function(){return new U}),(function(t){t.reset()}));function V(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,l=0;l<n;l++)if(l in o){var a=o[l];e.call(void 0,a,l,t)&&(r[i++]=a)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=q(t,e)}function K(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function $(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,tt=/</g,et=/>/g,nt=/"/g,rt=/'/g,it=/\x00/g,ot=/[\x00&<>"']/;function lt(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=a.navigator;if(st){var ut=st.userAgent;if(ut){X=ut;break t}}X=""}function ct(t){return lt(X,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ft(t){for(var e in t)return!1;return!0}function dt(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(l){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(l){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===bt&&e||"",this.b=_t}function yt(t){return t instanceof mt&&t.constructor===mt&&t.b===_t?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.ra=!0,mt.prototype.qa=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t={},bt={},wt=new mt(bt,"");function Ct(t,e){this.a=t===xt&&e||"",this.b=St}function kt(t){return t instanceof Ct&&t.constructor===Ct&&t.b===St?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=yt(t);if(!It.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Tt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?yt(t):encodeURIComponent(String(t))})),new Ct(xt,t)}Ct.prototype.ra=!0,Ct.prototype.qa=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,St={},xt={};function Ot(t,e){this.a=t===Rt&&e||"",this.b=Dt}function Pt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Dt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Ot.prototype.ra=!0,Ot.prototype.qa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function At(t){return t instanceof Ot?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new Ot(Rt,t))}var Dt={},Rt={};function Mt(){this.a="",this.b=Ft}function Lt(t){return t instanceof Mt&&t.constructor===Mt&&t.b===Ft?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}Mt.prototype.ra=!0,Mt.prototype.qa=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function jt(t){var e=new Mt;return e.a=t,e}jt("<!DOCTYPE html>");var Vt=jt("");function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qt(t){return ot.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(tt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(et,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(nt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(rt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(it,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}jt("<br>"),Bt[" "]=c;var zt,Ht,Wt=ct("Opera"),Gt=ct("Trident")||ct("MSIE"),Kt=ct("Edge"),Qt=Kt||Gt,$t=ct("Gecko")&&!(lt(X.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Yt=lt(X.toLowerCase(),"webkit")&&!ct("Edge");function Xt(){var t=a.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(Ht=X,$t?/rv:([^\);]+)(\)|;)/.exec(Ht):Kt?/Edge\/([\d\.]+)/.exec(Ht):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Yt?/WebKit\/(\S+)/.exec(Ht):Wt?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),Gt){var te=Xt();if(null!=te&&te>parseFloat(Jt)){zt=String(te);break t}}zt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=J(String(zt)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var l=n[o]||"",a=r[o]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==l[0].length&&0==a[0].length)break;e=at(0==l[1].length?0:parseInt(l[1],10),0==a[1].length?0:parseInt(a[1],10))||at(0==l[2].length,0==a[2].length)||at(l[2],a[2]),l=l[3],a=a[3]}while(0==e)}return 0<=e}))}ee=a.document&&Gt?Xt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ht){}var ie=!Gt||9<=Number(ee);function oe(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function le(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ue.hasOwnProperty(n)?t.setAttribute(ue[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ae,se,ue={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ce(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!f(o)||p(o)&&0<o.nodeType?r(o):B(fe(o)?Y(o):o,r)}}function he(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function fe(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(d(t))return"function"==typeof t.item}return!1}function de(t){a.setTimeout((function(){throw t}),0)}function pe(t,e){se||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);se=function(){t.then(me)}}else se=function(){var t=me;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!ct("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ae||(ae=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=he(document,"IFRAME");t.style.display="none",function(t){var e=new Ct(xt,yt(wt));gt(t,"HTMLIFrameElement"),t.src=kt(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Lt(Vt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ae(t)):a.setImmediate(t)}}(),ve||(se(),ve=!0),ge.add(t,e)}var ve=!1,ge=new F;function me(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){de(e)}L(j,t)}ve=!1}function ye(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){Ne(n,be,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,we,t)}))}catch(r){Ne(this,we,r)}}var _e=0,be=2,we=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new M((function(){return new Ce}),(function(t){t.reset()}));function Ee(t,e,n){var r=ke.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof ye)return t;var e=new ye(c);return Ne(e,be,t),e}function Ie(t){return new ye((function(e,n){n(t)}))}function Se(t,e,n){Ae(t,e,n,null)||pe(w(e,t))}function xe(t){return new ye((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Se(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Oe(t,e){t.b||t.a!=be&&t.a!=we||De(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Ee(null,null,null);return i.a=new ye((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(l){o(l)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(l){o(l)}}:o})),i.a.c=t,Oe(t,i),i.a}function Ne(t,e,n){t.a==_e&&(t===n&&(e=we,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ae(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,De(t),e!=we||n instanceof je||function(t,e){t.g=!0,pe((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Ae(t,e,n,r){if(t instanceof ye)return Oe(t,Ee(e||c,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){l||(l=!0,r.call(i,t))}var l=!1;try{e.call(t,(function(t){l||(l=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function De(t){t.h||(t.h=!0,pe(t.ec,t))}function Re(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Me(t,e,n,r){if(n==we&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Le(e,n,r);else try{e.c?e.g.call(e.f):Le(e,n,r)}catch(i){Fe.call(null,i)}L(ke,e)}function Le(t,e,n){e==be?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Pe(this,d(t)?t:null,d(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).ma=function(t,e){return(t=Ee(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new je(t);pe((function(){!function t(e,n){if(e.a==_e)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,l=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(l=a);o&&(r.a==_e&&1==i?t(r,n):(l?((i=l).next==r.f&&(r.f=i),i.next=i.next.next):Re(r),Me(r,o,we,n)))}e.c=null}else Ne(e,we,n)}(this,e)}),this)}},t.Yc=function(t){this.a=_e,Ne(this,be,t)},t.Zc=function(t){this.a=_e,Ne(this,we,t)},t.ec=function(){for(var t;t=Re(this);)Me(this,t,this.a,this.i);this.h=!1};var Fe=de;function je(t){A.call(this,t)}function Ve(){0!=Ue&&(qe[v(this)]=this),this.wa=this.wa,this.na=this.na}k(je,A),je.prototype.name="cancel";var Ue=0,qe={};function Be(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Ue)){var e=v(t);if(0!=Ue&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete qe[e]}}Ve.prototype.wa=!1,Ve.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var ze=Object.freeze||function(t){return t},He=!Gt||9<=Number(ee),We=Gt&&!re("9"),Ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(n){}return t}();function Ke(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(Ke.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if($t){t:{try{Bt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$e[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ke.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Qe,Ke);var $e=ze({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,We)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.f=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Xe,this.ua=this.Na=!1}function Ze(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(Ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}tn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var l=nn(t,e,r,i);return-1<l?(e=t[l],n||(e.Na=!1)):((e=new Je(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),on={};function ln(t,e,n,r,i){if(r&&r.once)sn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=mn(n),t&&t[Ye]?_n(t,e,n,p(r)?!!r.capture:!!r,i):an(t,e,n,!1,r,i)}function an(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var l=p(i)?!!i.capture:!!i,a=vn(t);if(a||(t[rn]=a=new tn(t)),!(n=a.add(e,n,r,l,o)).proxy)if(r=function(){var t=pn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ge||(i=l),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function sn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=mn(n),t&&t[Ye]?bn(t,e,n,p(r)?!!r.capture:!!r,i):an(t,e,n,!0,r,i)}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=mn(n),t&&t[Ye]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=nn(o=t.a[e],n,r,i))&&(Ze(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,r,i)),(n=-1<t?e[t]:null)&&cn(n))}function cn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ye])en(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Ze(t)}}}function hn(t){return t in on?on[t]:on[t]="on"+t}function fn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&cn(t),n.call(r,e)}function pn(t,e){if(t.ua)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(l){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=fn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=fn(r[i],t,!1,e),n=n&&o}return n}return dn(t,new Qe(e,this))}function vn(t){return(t=t[rn])instanceof tn?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return d(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function yn(){Ve.call(this),this.u=new tn(this),this.Yb=this,this.eb=null}function _n(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function bn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function wn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.ua&&l.capture==n){var a=l.listener,s=l.Ta||l.src;l.Na&&en(t.u,l),i=!1!==a.call(s,r)&&i}}return i&&!r.defaultPrevented}function Cn(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function kn(t){var e=null;return new ye((function(n,r){-1==(e=Cn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function En(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function In(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof In)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Sn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}k(yn,Ve),yn.prototype[Ye]=!0,yn.prototype.addEventListener=function(t,e,n,r){ln(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){un(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new Ke(t,n);else if(t instanceof Ke)t.target=t.target||n;else{var i=t;vt(t=new Ke(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var l=t.b=e[o];i=wn(l,r,!0,t)&&i}if(i=wn(l=t.b=n,r,!0,t)&&i,i=wn(l,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=wn(l=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Ba=function(){if(yn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ze(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=In.prototype).V=function(){Sn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return Sn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return xn(this.b,t)?this.b[t]:e},t.set=function(t,e){xn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Pn?(this.h=void 0!==e?e:t.h,Nn(this,t.f),this.i=t.i,this.b=t.b,An(this,t.l),this.c=t.c,Dn(this,Jn(t.a)),this.g=t.g):t&&(n=String(t).match(On))?(this.h=!!e,Nn(this,n[1]||"",!0),this.i=jn(n[2]||""),this.b=jn(n[3]||"",!0),An(this,n[4]),this.c=jn(n[5]||"",!0),Dn(this,n[6]||"",!0),this.g=jn(n[7]||"")):(this.h=!!e,this.a=new Gn(null,this.h))}function Nn(t,e,n){t.f=n?jn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function An(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Dn(t,e,n){e instanceof Gn?(t.a=e,function(t,e){e&&!t.f&&(Kn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($n(this,e),Xn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Vn(e,Hn)),t.a=new Gn(e,t.h))}function Rn(t,e,n){t.a.set(e,n)}function Mn(t,e){return t.a.get(e)}function Ln(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Fn(t,e){var n=new Pn(null,void 0);return Nn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Vn(e,qn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Vn(e,qn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vn(n,"/"==n.charAt(0)?zn:Bn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Vn(n,Wn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.f;n?Nn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)An(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(lt(i,"./")||lt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],l=0;l<i.length;){var a=i[l++];"."==a?r&&l==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&l==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Dn(e,Jn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var qn=/[#\/\?@]/g,Bn=/[#\?:]/g,zn=/[#\?]/g,Hn=/[#\?@]/g,Wn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Kn(t){t.a||(t.a=new In,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Xn(n,i,o):n.add(i,o)}return n}function $n(t,e){Kn(t),e=Zn(t,e),xn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Sn(t)))}function Yn(t,e){return Kn(t),e=Zn(t,e),xn(t.a.b,e)}function Xn(t,e,n){$n(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),Y(n)),t.b+=n.length)}function Jn(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new In(t.a),e.b=t.b),e}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",l=0;l<n;l++)r.push(o),t(e,i[l],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(l=n[i])&&(r.push(o),ir(i,r),r.push(":"),t(e,l,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ir(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new er,t,e),e.join("")}function er(){}(t=Gn.prototype).add=function(t,e){Kn(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Kn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Kn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Kn(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=$(e,this.a.get(Zn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return Kn(this),this.c=null,Yn(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var l=i;""!==r[o]&&(l+="="+encodeURIComponent(String(r[o]))),t.push(l)}}return this.c=t.join("&")};var nr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},rr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ir(t,e){e.push('"',t.replace(rr,(function(t){var e=nr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),nr[t]=e),e})),'"')}function or(){var t=kr();return Gt&&!!ee&&11==ee||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ar(t,e){e=e||a.window;var n="about:blank";t&&(n=Pt(At(t))),e.location.href=n}function sr(t){return!!((t=(t||kr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ur(t){t=t||a.window;try{t.close()}catch(e){}}function cr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(l in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=kr().toLowerCase(),r&&(e.target=r,lt(n,"crios/")&&(e.target="_blank")),br(kr())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:At(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(l){case"width":case"height":case"top":case"left":i.push(l+"="+t[l]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(l+"="+(t[l]?1:0))}var l=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(gt(l=he(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==typeof e&&e.ra?e.qa():String(e),Nt.test(e)||(e="about:invalid#zClosurez"),e=new Ot(Rt,e)),l.href=Pt(e),l.setAttribute("target",n),t.noreferrer&&l.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),l.dispatchEvent(t),l={}):t.noreferrer?(l=r.open("",n,l),t=Pt(e),l&&(Qt&&lt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),l.opener=null,t=jt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qt(t)+'">'),r=l.document)&&(r.write(Lt(t)),r.close())):(l=r.open(Pt(e),n,l))&&t.noopener&&(l.opener=null),l)try{l.focus()}catch(a){}return l}var hr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fr=/^[^@]+@[^@]+$/;function dr(){var t=null;return new ye((function(e){"complete"==a.document.readyState?e():(t=function(){e()},sn(window,"load",t))})).o((function(e){throw un(window,"load",t),e}))}function pr(t){return t=t||kr(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function vr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function gr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function mr(){return i.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.a.INTERNAL.hasOwnProperty("node")?"Node":gr()?"Worker":"Browser"}function yr(){var t=mr();return"ReactNative"===t||"Node"===t}var _r="Firefox";function br(t){var e=t.toLowerCase();return lt(e,"opera/")||lt(e,"opr/")||lt(e,"opios/")?"Opera":lt(e,"iemobile")?"IEMobile":lt(e,"msie")||lt(e,"trident/")?"IE":lt(e,"edge/")?"Edge":lt(e,"firefox/")?_r:lt(e,"silk/")?"Silk":lt(e,"blackberry")?"Blackberry":lt(e,"webos")?"Webos":!lt(e,"safari/")||lt(e,"chrome/")||lt(e,"crios/")||lt(e,"android")?!lt(e,"chrome/")&&!lt(e,"crios/")||lt(e,"edge/")?lt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var wr={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Cr(t,e){e=e||[];var n,r=[],i={};for(n in wr)i[wr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=mr())?r=br(i=kr()):"Worker"===r&&(r=br(i=kr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function kr(){return a.navigator&&a.navigator.userAgent||""}function Er(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Tr(){try{var t=a.localStorage,e=Dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!or()||!!a.indexedDB}catch(n){return gr()&&!!a.indexedDB}return!1}function Ir(){return(Sr()||"chrome-extension:"===xr()||pr())&&!yr()&&Tr()&&!gr()}function Sr(){return"http:"===xr()||"https:"===xr()}function xr(){return a.location&&a.location.protocol||null}function Or(t){return!sr(t=t||kr())&&br(t)!=_r}function Pr(t){return void 0===t?null:tr(t)}function Nr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Ar(t){if(null!==t)return JSON.parse(t)}function Dr(t){return t||Math.floor(1e9*Math.random()).toString()}function Rr(t){return"Safari"!=br(t=t||kr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Mr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Lr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=kr(),e=mr(),this.b=sr(t)||"ReactNative"===e}function Fr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function jr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Vr(){return!(!Er("fireauth.oauthhelper",a)&&!Er("fireauth.iframe",a))}Lr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Sr()&&"chrome-extension:"!==xr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ur,qr={};function Br(t){qr[t]||(qr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var zr={};Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:2}),Ur=2==zr.abcd}catch(Ht){Ur=!1}function Hr(t,e,n){Ur?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Wr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Hr(t,n,e[n])}function Gr(t){var e={};return Wr(e,t),e}function Kr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Hr(e,n,Kr(t[n]));return e}function Qr(t){var e=t&&(t[Zr]?"phone":null);if(!(e&&t&&t[Jr]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Hr(this,"uid",t[Jr]),Hr(this,"displayName",t[Yr]||null);var n=null;t[Xr]&&(n=new Date(t[Xr]).toUTCString()),Hr(this,"enrollmentTime",n),Hr(this,"factorId",e)}function $r(t){try{var e=new ti(t)}catch(n){e=null}return e}Qr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Yr="displayName",Xr="enrolledAt",Jr="mfaEnrollmentId",Zr="phoneInfo";function ti(t){Qr.call(this,t),Hr(this,"phoneNumber",t[Zr])}function ei(t){var e={},n=t[oi],r=t[ai],i=t[si];if(t=$r(t[li]),!i||i!=ri&&i!=ii&&!n||i==ii&&!r||i==ni&&!t)throw Error("Invalid checkActionCode response!");i==ii?(e[ci]=n||null,e[fi]=n||null,e[ui]=r):(e[ci]=r||null,e[fi]=r||null,e[ui]=n||null),e[hi]=t||null,Hr(this,pi,i),Hr(this,di,Kr(e))}k(ti,Qr),ti.prototype.v=function(){var t=ti.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ni="REVERT_SECOND_FACTOR_ADDITION",ri="EMAIL_SIGNIN",ii="VERIFY_AND_CHANGE_EMAIL",oi="email",li="mfaInfo",ai="newEmail",si="requestType",ui="email",ci="fromEmail",hi="multiFactorInfo",fi="previousEmail",di="data",pi="operation";function vi(t){var e=Mn(t=Ln(t),gi)||null,n=Mn(t,mi)||null,r=Mn(t,bi)||null;if(r=r&&Ci[r]||null,!e||!n||!r)throw new E("argument-error",gi+", "+mi+"and "+bi+" are required in a valid action code URL.");Wr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,yi)||null,languageCode:Mn(t,_i)||null,tenantId:Mn(t,wi)||null})}var gi="apiKey",mi="oobCode",yi="continueUrl",_i="languageCode",bi="mode",wi="tenantId",Ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ni,signIn:ri,verifyAndChangeEmail:ii,verifyEmail:"VERIFY_EMAIL"};function ki(t){try{return new vi(t)}catch(e){return null}}function Ei(t){var e=t[Oi];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ti];if(n&&"object"==typeof n){e=n[Ai];var r=n[Pi];if(n=n[Ni],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Ni+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Ai+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Ti+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"==typeof e){if("string"==typeof(e=e[Di])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Di+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(e=t[Si])&&"boolean"!=typeof e)throw new E("argument-error",Si+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ii])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Ii+" property must be a non empty string when specified.");this.i=t||null}var Ti="android",Ii="dynamicLinkDomain",Si="handleCodeInApp",xi="iOS",Oi="url",Pi="installApp",Ni="minimumVersion",Ai="packageName",Di="bundleId";function Ri(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Mi=null;function Li(t){var e=ji(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,C(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Fi(t){try{return new Li(t)}catch(e){return null}}function ji(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Mi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Mi){Mi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Mi[o]&&(Mi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),l=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=l&&(e(o<<4&240|l>>2),64!=a&&e(l<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Li.prototype.S=function(){return this.f},Li.prototype.i=function(){return this.b},Li.prototype.toString=function(){return this.g};var Vi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ui=["client_id","response_type","scope","redirect_uri","state"],qi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Ui},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Ui},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Ui},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Vi},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Bi(t){for(var e in qi)if(qi[e].ea==t)return qi[e];return null}function zi(t){var e={};e["facebook.com"]=Qi,e["google.com"]=Yi,e["github.com"]=$i,e["twitter.com"]=Xi;var n=t&&t[Wi];try{if(n)return e[n]?new e[n](t):new Ki(t);if(void 0!==t[Hi])return new Gi(t)}catch(r){}return null}var Hi="idToken",Wi="providerId";function Gi(t){var e=t[Wi];if(!e&&t[Hi]){var n=Fi(t[Hi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Hr(this,"providerId",e),Hr(this,"isNewUser",n)}function Ki(t){Gi.call(this,t),Hr(this,"profile",Kr((t=Ar(t.rawUserInfo||"{}"))||{}))}function Qi(t){if(Ki.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function $i(t){if(Ki.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Hr(this,"username",this.profile&&this.profile.login||null)}function Yi(t){if(Ki.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(t){if(Ki.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Hr(this,"username",t.screenName||null)}function Ji(t){var e=Ln(t),n=Mn(e,"link"),r=Mn(Ln(n),"link");return e=Mn(e,"deep_link_id"),Mn(Ln(e),"link")||e||r||n||t}function Zi(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?to:eo}k(Ki,Gi),k(Qi,Ki),k($i,Ki),k(Yi,Ki),k(Xi,Ki);var to="enroll",eo="signin";function no(){}function ro(t,e){return t.then((function(t){if(t[zl]){var n=Fi(t[zl]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==S+"user-not-found"?new E("user-mismatch"):t}))}function io(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Hr(this,"providerId",t),Hr(this,"signInMethod",t)}function oo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new io(t.providerId,t.pendingToken)}catch(e){}return null}function ao(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Hr(this,"idToken",e.idToken),e.accessToken&&Hr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Hr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Hr(this,"accessToken",e.oauthToken),Hr(this,"secret",e.oauthTokenSecret)}Hr(this,"providerId",t),Hr(this,"signInMethod",n)}function so(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function uo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ao(t.providerId,e,t.signInMethod)}catch(n){}}return null}function co(t,e){this.Oc=e||[],Wr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Bi(t)||{}).Ha||null,this.kb=null}function ho(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');co.call(this,t,[])}function fo(t){co.call(this,t,Ui),this.a=[]}function po(){fo.call(this,"facebook.com")}function vo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new po).credential({accessToken:e})}function go(){fo.call(this,"github.com")}function mo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function yo(){fo.call(this,"google.com"),this.Aa("profile")}function _o(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new yo).credential({idToken:n,accessToken:e})}function bo(){co.call(this,"twitter.com",Vi)}function wo(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ao("twitter.com",n,"twitter.com")}function Co(t,e,n){this.a=t,this.f=e,Hr(this,"providerId","password"),Hr(this,"signInMethod",n===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new Co(t.email,t.password,t.signInMethod):null}function Eo(){Wr(this,{providerId:"password",isOAuthProvider:!1})}function To(t,e){if(!(e=Io(e)))throw new E("argument-error","Invalid email link!");return new Co(t,e.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function Io(t){return(t=ki(t=Ji(t)))&&t.operation===ri?t:null}function So(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new E("internal-error");this.a=t,Hr(this,"providerId","phone"),this.ea="phone",Hr(this,"signInMethod","phone")}function xo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new So(e)}return null}function Oo(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Po(t){try{this.a=t||i.a.auth()}catch(e){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Wr(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new So({bb:t,ab:e})}function Ao(t){if(t.temporaryProof&&t.phoneNumber)return new So({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,l=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return vo(n);case"github.com":return mo(n);case"twitter.com":return wo(n,r);default:return n||r||o||l?l?0==e.indexOf("saml.")?new io(e,l):new ao(e,{pendingToken:l,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new fo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Do(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Ro(t,e,n,r,i,o,l){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=l||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Mo(t){return(t=t||{}).type?new Ro(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Lo(){this.b=null,this.a=[]}Zi.prototype.Fa=function(){return Te(this.a?this.a:this.b)},Zi.prototype.v=function(){return this.type==to?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},no.prototype.ia=function(){},no.prototype.b=function(){},no.prototype.c=function(){},no.prototype.v=function(){},io.prototype.ia=function(t){return sa(t,oo(this))},io.prototype.b=function(t,e){var n=oo(this);return n.idToken=e,ua(t,n)},io.prototype.c=function(t,e){return ro(ca(t,oo(this)),e)},io.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ao.prototype.ia=function(t){return sa(t,so(this))},ao.prototype.b=function(t,e){var n=so(this);return n.idToken=e,ua(t,n)},ao.prototype.c=function(t,e){return ro(ca(t,so(this)),e)},ao.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},co.prototype.Ia=function(t){return this.Fb=dt(t),this},k(ho,co),k(fo,co),fo.prototype.Aa=function(t){return G(this.a,t)||this.a.push(t),this},fo.prototype.Nb=function(){return Y(this.a)},fo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new ao(this.providerId,n,this.providerId)},k(po,fo),Hr(po,"PROVIDER_ID","facebook.com"),Hr(po,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(go,fo),Hr(go,"PROVIDER_ID","github.com"),Hr(go,"GITHUB_SIGN_IN_METHOD","github.com"),k(yo,fo),Hr(yo,"PROVIDER_ID","google.com"),Hr(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),k(bo,co),Hr(bo,"PROVIDER_ID","twitter.com"),Hr(bo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ia=function(t){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Wa(t,ya,{email:this.a,oobCode:this.f}):Wa(t,Ua,{email:this.a,password:this.f})},Co.prototype.b=function(t,e){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Wa(t,_a,{idToken:e,email:this.a,oobCode:this.f}):Wa(t,Aa,{idToken:e,email:this.a,password:this.f})},Co.prototype.c=function(t,e){return ro(this.ia(t),e)},Co.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Wr(Eo,{PROVIDER_ID:"password"}),Wr(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Wr(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),So.prototype.ia=function(t){return t.cb(Oo(this))},So.prototype.b=function(t,e){var n=Oo(this);return n.idToken=e,Wa(t,Ba,n)},So.prototype.c=function(t,e){var n=Oo(this);return n.operation="REAUTH",ro(t=Wa(t,za,n),e)},So.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Po.prototype.cb=function(t,e){var n=this.a.b;return Te(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==to?i.Fa().then((function(t){return function(t,e){return Wa(t,Ra,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==eo?i.Fa().then((function(e){return function(t,e){return Wa(t,Ma,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Wa(t,Pa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Wr(Po,{PROVIDER_ID:"phone"}),Wr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Ro.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Ro.prototype.S=function(){return this.h},Ro.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Fo,jo=null;function Vo(t){var e="unauthorized-domain",n=void 0,r=Ln(t);t=r.b,"chrome-extension"==(r=r.f)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Uo(t,e,n){E.call(this,t,n),(t=e||{}).Gb&&Hr(this,"email",t.Gb),t.da&&Hr(this,"phoneNumber",t.da),t.credential&&Hr(this,"credential",t.credential),t.Wb&&Hr(this,"tenantId",t.Wb)}function qo(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:Ao(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Uo(e,n,t.message)}return null}function Bo(){}function zo(){}function Ho(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Wo(){}function Go(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.oc,this),this.a.onerror=b(this.Pb,this),this.a.onprogress=b(this.pc,this),this.a.ontimeout=b(this.tc,this)}function Ko(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Qo(t,e,n){this.reset(t,e,n,void 0,void 0)}function $o(t){this.f=t,this.b=this.c=this.a=null}function Yo(t,e){this.name=t,this.value=e}k(Vo,E),k(Uo,E),Uo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&vt(t,e),t},Uo.prototype.toJSON=function(){return this.v()},Bo.prototype.c=null,k(zo,Bo),zo.prototype.a=function(){var t=Ho(this);return t?new ActiveXObject(t):new XMLHttpRequest},zo.prototype.b=function(){var t={};return Ho(this)&&(t[0]=!0,t[1]=!0),t},Fo=new zo,k(Wo,Bo),Wo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Go;throw Error("Unsupported browser")},Wo.prototype.b=function(){return{}},(t=Go.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ko(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Ko(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Ko(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Qo.prototype.a=null,Qo.prototype.reset=function(t,e,n,r,i){r||C(),delete this.a},Yo.prototype.toString=function(){return this.name};var Xo=new Yo("SEVERE",1e3),Jo=new Yo("WARNING",900),Zo=new Yo("CONFIG",700),tl=new Yo("FINE",500);$o.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(R("Root logger has no level set."),null)}(this).value)for(d(e)&&(e=e()),t=new Qo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var el={},nl=null;function rl(t){var e;if(nl||(nl=new $o(""),el[""]=nl,nl.c=Zo),!(e=el[t])){e=new $o(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=rl(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,el[t]=e}return e}function il(t,e){t&&t.log(tl,e,void 0)}function ol(t){this.f=t}function ll(t){yn.call(this),this.s=t,this.readyState=al,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=rl("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}k(ol,Bo),ol.prototype.a=function(){return new ll(this.f)},ol.prototype.b=function(t){return function(){return t}}({}),k(ll,yn);var al=0;function sl(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ul(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,cl(t)}function cl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function hl(t){yn.call(this),this.headers=new In,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=fl,this.w=this.R=!1}(t=ll.prototype).open=function(t,e){if(this.readyState!=al)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,cl(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ul(this,!1)),this.readyState=al},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,cl(this)),this.a&&(this.readyState=3,cl(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,sl(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ul(this,!0):cl(this),3==this.readyState&&sl(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,ul(this,!0))},t.qc=function(t){this.a&&(this.response=t,ul(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Jo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ul(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Jo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Jo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},k(hl,yn);var fl="";hl.prototype.b=rl("goog.net.XhrIo");var dl=/^https?$/i,pl=["POST","PUT"];function vl(t){return"content-type"==t.toLowerCase()}function gl(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ml(t),_l(t)}function ml(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function yl(t){if(t.c&&void 0!==l)if(t.B[1]&&4==wl(t)&&2==Cl(t))il(t.b,kl(t,"Local request error detected and ignored"));else if(t.i&&4==wl(t))Cn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==wl(t)){il(t.b,kl(t,"Request complete")),t.c=!1;try{var e,n=Cl(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(On)[1]||null;if(!o&&a.self&&a.self.location){var s=a.self.location.protocol;o=s.substr(0,s.length-1)}i=!dl.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<wl(t)?t.a.statusText:""}catch(c){il(t.b,"Can not get status: "+c.message),u=""}t.h=u+" ["+Cl(t)+"]",ml(t)}}finally{_l(t)}}}function _l(t,e){if(t.a){bl(t);var n=t.a,r=t.B[0]?c:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Xo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function bl(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function wl(t){return t.a?t.a.readyState:0}function Cl(t){try{return 2<wl(t)?t.a.status:-1}catch(e){return-1}}function kl(t,e){return e+" ["+t.P+" "+t.l+" "+Cl(t)+"]"}function El(t){var e=Ml;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Tl(t,e,n){t.a=!0,t.c=n,t.f=!e,Ol(t)}function Il(t){if(t.a){if(!t.u)throw new Pl(t);t.u=!1}}function Sl(t,e,n,r){t.g.push([e,n,r]),t.a&&Ol(t)}function xl(t){return W(t.g,(function(t){return d(t[1])}))}function Ol(t){if(t.h&&t.a&&xl(t)){var e=t.h,n=Dl[e];n&&(a.clearTimeout(n.a),delete Dl[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],l=i[1];if(i=i[2],o=t.f?l:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(N(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,xl(t)||(n=!0)}}t.c=e,r&&(s=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof El?(Sl(e,s,r),e.B=!0):e.then(s,r)),n&&(e=new Al(e),Dl[e.a]=e,t.h=e.a)}function Pl(){A.call(this)}function Nl(){A.call(this)}function Al(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=hl.prototype).Ka=function(){void 0!==l&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",il(this.b,kl(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(il(this.b,kl(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_l(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_l(this,!0)),hl.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?yl(this):this.Hc())},t.Hc=function(){yl(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fl:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Xo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return il(this.b,"Can not get response: "+e.message),null}},El.prototype.cancel=function(t){if(this.a)this.c instanceof El&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Nl(this),Il(this),Tl(this,!1,t))}},El.prototype.m=function(t,e){this.i=!1,Tl(this,t,e)},El.prototype.then=function(t,e,n){var r,i,o=new ye((function(t,e){r=t,i=e}));return Sl(this,r,(function(t){t instanceof Nl?o.cancel():i(t)})),o.then(t,e,n)},El.prototype.$goog_Thenable=!0,k(Pl,A),Pl.prototype.message="Deferred has already fired",Pl.prototype.name="AlreadyCalledError",k(Nl,A),Nl.prototype.message="Deferred was canceled",Nl.prototype.name="CanceledError",Al.prototype.c=function(){throw delete Dl[this.a],this.b};var Dl={};function Rl(t){var e={},n=e.document||document,r=kt(t).toString(),i=he(document,"SCRIPT"),o={Tb:i,Ka:void 0},l=new El(o),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout((function(){Ll(i,!0);var t=new Vl(jl,"Timeout reached for loading script "+r);Il(l),Tl(l,!1,t)}),h),o.Ka=c),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ll(i,e.ud||!1,c),Il(l),Tl(l,!0,null))},i.onerror=function(){Ll(i,!0,c);var t=new Vl(Fl,"Error while loading script "+r);Il(l),Tl(l,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),le(i,o),function(t,e){gt(t,"HTMLScriptElement"),t.src=kt(e),null===u&&(u=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),l}function Ml(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Ll(t,!0,this.Ka)}}function Ll(t,e,n){null!=n&&a.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Fl=0,jl=1;function Vl(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),A.call(this,n),this.code=t}function Ul(t){this.f=t}function ql(t,e,n){if(this.c=t,this.u=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Hl,this.g=dt(t.secureTokenHeaders||Wl),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Gl,this.a=dt(t.firebaseHeaders||Kl),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==mr(),!(n=a.XMLHttpRequest||n&&i.a.INTERNAL.node&&i.a.INTERNAL.node.XMLHttpRequest)&&!gr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=gr()?new ol(self):yr()?new Ul(n):new Wo,this.b=null}k(Vl,A),k(Ul,Bo),Ul.prototype.a=function(){return new this.f},Ul.prototype.b=function(){return{}};var Bl,zl="idToken",Hl=new Lr(3e4,6e4),Wl={"Content-Type":"application/x-www-form-urlencoded"},Gl=new Lr(3e4,6e4),Kl={"Content-Type":"application/json"};function Ql(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function $l(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Yl(t,e,n,r,i,o,l){(function(){var t=kr();return!((t="Chrome"!=br(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&ee&&!(9<ee))})()||gr()?t=b(t.w,t):(Bl||(Bl=new ye((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[Jl]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Sl(t,null,e,void 0)}(Rl(Et(Xl,{onload:Jl})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,l)}ql.prototype.S=function(){return this.b},ql.prototype.w=function(t,e,n,r,i,o){if(gr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var l=new hl(this.f);if(o){l.g=Math.max(0,o);var s=setTimeout((function(){l.dispatchEvent("timeout")}),o)}_n(l,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return il(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),bn(l,"ready",(function(){s&&clearTimeout(s),Be(this)})),bn(l,"timeout",(function(){s&&clearTimeout(s),Be(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Fo.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Fo),t.a.onreadystatechange=b(t.Sb,t);try{il(t.b,kl(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(l){return il(t.b,kl(t,"Error opening Xhr: "+l.message)),void gl(t,l)}e=r||"";var o=new In(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)B(t,e,void 0);else for(var n=Tn(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=vl,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=a.FormData&&e instanceof a.FormData,!G(pl,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{bl(t),0<t.g&&(t.w=function(t){return Gt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),il(t.b,kl(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ka,t)):t.s=Cn(t.Ka,t.g,t)),il(t.b,kl(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(l){il(t.b,kl(t,"Send error: "+l.message)),gl(t,l)}}(l,t,n,r,i)};var Xl=new mt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),Jl="__fcb"+Math.floor(1e6*Math.random()).toString();function Zl(t){if("string"!=typeof(t=t.email)||!fr.test(t))throw new E("invalid-email")}function ta(t){"email"in t&&Zl(t)}function ea(t){if(!t[zl]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,dt(t));throw new E("internal-error")}}function na(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}ql.prototype.s=function(t,e,n,r,i){var o=this;Bl.then((function(){window.gapi.client.setApiKey(o.c);var l=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(l),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},ql.prototype.vb=function(){return Wa(this,Da,{})},ql.prototype.xb=function(t,e){return Wa(this,Na,{idToken:t,email:e})},ql.prototype.yb=function(t,e){return Wa(this,Aa,{idToken:t,password:e})};var ra={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ia(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function oa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function la(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Yn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function aa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=qo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=qo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=qo(t)):t.errorMessage&&(e=Ga(t.errorMessage)),e)throw e;ea(t)}function sa(t,e){return e.returnIdpCredential=!0,Wa(t,La,e)}function ua(t,e){return e.returnIdpCredential=!0,Wa(t,ja,e)}function ca(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Wa(t,Fa,e)}function ha(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=ql.prototype).zb=function(t,e){var n={idToken:t},r=[];return ht(ra,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Wa(this,Na,n)},t.rb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),Wa(this,Ia,t)},t.sb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),Wa(this,ka,t)},t.qb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Wa(this,Ea,t)},t.Ab=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Wa(this,Ta,t)},t.cb=function(t){return Wa(this,qa,t)},t.jb=function(t,e){return Wa(this,Oa,{oobCode:t,newPassword:e})},t.Pa=function(t){return Wa(this,da,{oobCode:t})},t.fb=function(t){return Wa(this,fa,{oobCode:t})};var fa={endpoint:"setAccountInfo",A:ha,Y:"email",C:!0},da={endpoint:"resetPassword",A:ha,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},pa={endpoint:"signupNewUser",A:function(t){if(Zl(t),!t.password)throw new E("weak-password")},G:ea,U:!0,C:!0},va={endpoint:"createAuthUri",C:!0},ga={endpoint:"deleteAccount",M:["idToken"]},ma={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=h(t.deleteProvider))throw new E("internal-error")}},ya={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Zl,G:ea,U:!0,C:!0},_a={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Zl,G:ea,U:!0},ba={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ia,G:ea,C:!0,La:!0},wa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ia,G:ea,C:!0,La:!0},Ca={endpoint:"getAccountInfo"},ka={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");Zl(t)},Y:"email",C:!0},Ea={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},Ta={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},Ia={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");Zl(t)},Y:"email",C:!0},Sa={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},xa={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Oa={endpoint:"resetPassword",A:ha,Y:"email",C:!0},Pa={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Na={endpoint:"setAccountInfo",M:["idToken"],A:ta,U:!0},Aa={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(ta(t),!t.password)throw new E("weak-password")},G:ea,U:!0},Da={endpoint:"signupNewUser",G:ea,U:!0,C:!0},Ra={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Ma={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},La={endpoint:"verifyAssertion",A:oa,Wa:la,G:aa,U:!0,C:!0},Fa={endpoint:"verifyAssertion",A:oa,Wa:la,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw Ga(t.errorMessage);ea(t)},U:!0,C:!0},ja={endpoint:"verifyAssertion",A:function(t){if(oa(t),!t.idToken)throw new E("internal-error")},Wa:la,G:aa,U:!0},Va={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:ea,U:!0,C:!0},Ua={endpoint:"verifyPassword",A:function(t){if(Zl(t),!t.password)throw new E("wrong-password")},G:ea,U:!0,C:!0},qa={endpoint:"verifyPhoneNumber",A:na,G:ea,C:!0},Ba={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");na(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",qo(t);ea(t)}},za={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:na,G:ea,C:!0},Ha={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[zl]^!!t.refreshToken)throw new E("internal-error")},C:!0,La:!0};function Wa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ie(new E("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Te(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,l){var a=Ln(e+n);Rn(a,"key",t.c),l&&Rn(a,"cb",C().toString());var s="GET"==r;if(s)for(var u in i)i.hasOwnProperty(u)&&Rn(a,u,i[u]);return new ye((function(e,n){Yl(t,a.toString(),(function(t){t?t.error?n(Ka(t,o||{})):e(t):n(new E("network-request-failed"))}),r,s?void 0:tr(Nr(i)),t.a,t.i.get())}))}(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new E("internal-error");return r[e.Y]}))}function Ga(t){return Ka({error:{errors:[{message:t}],code:400,message:t}})}function Ka(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=Pr(t)),new E("internal-error",e)}function Qa(t){this.b=t,this.a=null,this.nb=function(t){return(Ja||(Ja=new ye((function(t,e){function n(){Mr(),Er("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Mr(),e(Error("Network Error"))},timeout:Ya.get()})}if(Er("gapi.iframes.Iframe"))t();else if(Er("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Er("gapi.load")?n():e(Error("Network Error"))},Te(Rl(r=Et($a,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw Ja=null,t})))).then((function(){return new ye((function(e,n){Er("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Xa.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var $a=new mt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ya=new Lr(3e4,6e4),Xa=new Lr(5e3,15e3),Ja=null;function Za(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Fn(this.i,"/__/auth/iframe"),Rn(this.a,"apiKey",this.g),Rn(this.a,"appName",this.h),this.b=null,this.c=[]}function ts(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function es(t){try{return i.a.app(t).auth().Ea()}catch(e){return[]}}function ns(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function rs(t){var e=lr();return function(t){return Wa(t,Sa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Ln(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],l=n,a=r;if(0==o.indexOf("chrome-extension://")?l=Ln(o).b==l&&"chrome-extension"==a:"http"!=a&&"https"!=a?l=!1:hr.test(o)?l=l==o:(o=o.split(".").join("\\."),l=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)),l){t=!0;break t}}t=!1}if(!t)throw new Vo(lr())}))}function is(t){return t.l?t.l:(t.l=dr().then((function(){if(!t.s){var e=t.c,n=t.h,r=es(t.b),i=new Za(t.u,t.f,t.b);i.f=e,i.b=n,i.c=Y(r||[]),t.s=i.toString()}t.i=new Qa(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Mo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)}))}(t)})),t.l)}function os(t){return t.m||(t.w=t.c?Cr(t.c,es(t.b)):null,t.m=new ql(t.f,P(t.h),t.w)),t.m}function ls(t,e,n,r,i,o,l,a,s,u,c){return(t=new ts(t,e,n,r,i)).l=o,t.g=l,t.i=a,t.b=dt(s||null),t.f=u,t.ub(c).toString()}function as(t){if(this.a=t||i.a.INTERNAL.reactNative&&i.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ss(t){this.b=t,this.a={},this.f=b(this.c,this)}Za.prototype.toString=function(){return this.f?Rn(this.a,"v",this.f):$n(this.a.a,"v"),this.b?Rn(this.a,"eid",this.b):$n(this.a.a,"eid"),this.c.length?Rn(this.a,"fw",this.c.join(",")):$n(this.a.a,"fw"),this.a.toString()},ts.prototype.ub=function(t){return this.h=t,this},ts.prototype.toString=function(){var t=Fn(this.s,"/__/auth/handler");if(Rn(t,"apiKey",this.m),Rn(t,"appName",this.c),Rn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=i.a.app(this.c).auth().ja()}catch(s){n=null}for(var r in e.kb=n,Rn(t,"providerId",this.a.providerId),n=Nr((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=dt(n);for(var o=0;o<r.length;o++){var l=r[o];l in n&&delete n[l]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),ft(n)||Rn(t,"customParameters",Pr(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb()).length&&Rn(t,"scopes",e.join(",")),this.l?Rn(t,"redirectUrl",this.l):$n(t.a,"redirectUrl"),this.g?Rn(t,"eventId",this.g):$n(t.a,"eventId"),this.i?Rn(t,"v",this.i):$n(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(t,a)&&Rn(t,a,this.b[a]);return this.h?Rn(t,"tid",this.h):$n(t.a,"tid"),this.f?Rn(t,"eid",this.f):$n(t.a,"eid"),(a=es(this.c)).length&&Rn(t,"fw",a.join(",")),t.toString()},(t=ns.prototype).Lb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,l=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return is(t).then((function(){return function(t,e){return t.nb.then((function(){return new ye((function(n){t.a.send(e.type,e,n,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&ur(t),e(i),l=!0)}))})).o((function(){})).then((function(){if(!l)return function(t){return new ye((function(e){return function n(){kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!l)return kn(n).then((function(){e(r)}))}))},t.Ub=function(){var t=kr();return!Or(t)&&!Rr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,l,a){if(!t)return Ie(new E("popup-blocked"));if(l&&!Or())return this.ka().o((function(e){ur(t),i(e)})),r(),Te();this.a||(this.a=rs(os(this)));var s=this;return this.a.then((function(){var e=s.ka().o((function(e){throw ur(t),i(e),e}));return r(),e})).then((function(){Do(n),l||ar(ls(s.u,s.f,s.b,e,n,null,o,s.c,void 0,s.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=rs(os(this)));var i=this;return this.a.then((function(){Do(e),ar(ls(i.u,i.f,i.b,t,e,lr(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return is(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new E("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){Q(this.g,(function(e){return e==t}))},(t=as.prototype).get=function(t){return Te(this.a.getItem(t)).then((function(t){return t&&Ar(t)}))},t.set=function(t,e){return Te(this.a.setItem(t,Pr(e)))},t.T=function(t){return Te(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var us,cs=[];function hs(t,e,n){ft(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function fs(t){this.a=t}function ds(t){this.c=t,this.b=!1,this.a=[]}function ps(t,e,n,r){var i,o,l,a,s=n||{},u=null;if(t.b)return Ie(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),l=setTimeout((function(){r(Error("unsupported_event"))}),c),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(l),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(l),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:s},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return vs(t,u),e})).o((function(e){throw vs(t,u),e}))}function vs(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,(function(t){return t==e}))}}function gs(){if(!ys())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;gr()&&self?(this.l=function(){var t=gr()?self:null;if(B(cs,(function(n){n.b==t&&(e=n)})),!e){var e=new ss(t);cs.push(e)}return e}(),hs(this.l,"keyChanged",(function(e,n){return ks(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:G(e,n.key)}}))})),hs(this.l,"ping",(function(){return Te(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Te().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Te(null)}().then((function(e){(t.h=e)&&(t.g=new ds(new fs(e)),ps(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function ms(t){return t.m||(t.m=function t(e){return new ye((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new ye((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.m}function ys(){try{return!!a.indexedDB}catch(Ht){return!1}}function _s(t){return t.objectStore("firebaseLocalStorage")}function bs(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ws(t){return new ye((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Cs(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ps(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Te()}function ks(t){return ms(t).then((function(t){var e=_s(bs(t,!1));return e.getAll?ws(e.getAll()):new ye((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Es(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ts(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then((function(){if(ys()){var t=Dr(),r="__sak"+t;return us||(us=new gs),(n=us).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){B(e.a,(function(e){e(t)}))})),t}))}function Is(){this.a={},this.type="inMemory"}function Ss(){if(!function(){var t="Node"==mr();if(!(t=xs()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==mr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=xs()||i.a.INTERNAL.node.localStorage,this.type="localStorage"}function xs(){try{var t=a.localStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Os(){this.type="nullStorage"}function Ps(){if(!function(){var t="Node"==mr();if(!(t=Ns()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==mr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Ns()||i.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ns(){try{var t=a.sessionStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function As(){var t={};t.Browser=Ms,t.Node=Ls,t.ReactNative=Fs,t.Worker=js,this.a=t[mr()]}ss.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(Te().then((function(){return e(t.origin,t.data.data)})))})),xe(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},fs.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},ds.prototype.close=function(){for(;0<this.a.length;)vs(this,this.a[0]);this.b=!0},(t=gs.prototype).set=function(t,e){var n,r=!1,i=this;return ms(this).then((function(e){return ws((e=_s(bs(n=e,!0))).get(t))})).then((function(o){var l=_s(bs(n,!0));return o?(o.value=e,ws(l.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,ws(l.add(o)))})).then((function(){return i.c[t]=e,Cs(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return ms(this).then((function(e){return ws(_s(bs(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return ms(this).then((function(r){return e=!0,n.b++,ws(_s(bs(r,!0)).delete(t))})).then((function(){return delete n.c[t],Cs(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){Es(t),function e(){t.f=setTimeout((function(){t.i=ks(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){Q(this.a,(function(e){return e==t})),0==this.a.length&&Es(this)},(t=Ts.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){Q(this.a,(function(e){return e==t}))},(t=Is.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.T=function(t){return delete this.a[t],Te()},t.ba=function(){},t.ha=function(){},(t=Ss.prototype).get=function(t){var e=this;return Te().then((function(){return Ar(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Pr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ba=function(t){a.window&&ln(a.window,"storage",t)},t.ha=function(t){a.window&&un(a.window,"storage",t)},(t=Os.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.T=function(){return Te()},t.ba=function(){},t.ha=function(){},(t=Ps.prototype).get=function(t){var e=this;return Te().then((function(){return Ar(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Pr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Ds,Rs,Ms={F:Ss,$a:Ps},Ls={F:Ss,$a:Ps},Fs={F:as,$a:Os},js={F:Ss,$a:Os},Vs={od:"local",NONE:"none",qd:"session"};function Us(){var t=!(Rr(kr())||!vr()),e=Or(),n=Tr();this.m=t,this.h=e,this.l=n,this.a={},Ds||(Ds=new As),t=Ds;try{this.g=!or()&&Vr()||!a.indexedDB?new t.a.F:new Ts(gr()?new Is:new t.a.F)}catch(r){this.g=new Is,this.h=!0}try{this.i=new t.a.$a}catch(r){this.i=new Is}this.u=new Is,this.f=b(this.Vb,this),this.b={}}function qs(){return Rs||(Rs=new Us),Rs}function Bs(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function zs(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Hs(t,e,n){return n=zs(e,n),"local"==e.F&&(t.b[n]=null),Bs(t,e.F).T(n)}function Ws(t){t.c&&(clearInterval(t.c),t.c=null)}function Gs(t){this.a=t,this.b=qs()}(t=Us.prototype).get=function(t,e){return Bs(this,t.F).get(zs(t,e))},t.set=function(t,e,n){var r=zs(t,n),i=this,o=Bs(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=zs(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ft(this.a)&&(Bs(this,"local").ba(this.f),this.h||(or()||!Vr())&&a.indexedDB||!this.l||function(t){Ws(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=zs(t,e),this.a[t]&&(Q(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ft(this.a)&&(Bs(this,"local").ha(this.f),Ws(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Bs(this,"local").ha(this.f):Ws(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.ib(e))},Gt&&ee&&10==ee&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,b(this.ib,this))},t.ib=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var Ks,Qs={name:"authEvent",F:"local"};function $s(){this.a=qs()}function Ys(t,e){this.b=Xs,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Ks&&(Ks=a.Int32Array?new Int32Array(iu):iu),this.reset()}k(Ys,(function(){this.b=-1}));for(var Xs=64,Js=Xs-1,Zs=[],tu=0;tu<Js;tu++)Zs[tu]=0;var eu=$(128,Zs);function nu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,l=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+l|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],s=0|t.a[3],u=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;l=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((l=(l=u&c^~u&h)+(0|Ks[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=u,u=s+l|0,s=a,a=i,i=r,r=l+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+s|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function ru(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(nu(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(nu(t),i=0)}}t.c=i,t.g+=n}Ys.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Y(this.h)};var iu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ou(){Ys.call(this,8,lu)}k(ou,Ys);var lu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function au(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new $s,this.g=new Gs(this.h),this.f=null,this.b=[],this.a=this.c=null}function su(t){return new E("invalid-cordova-configuration",t)}function uu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function cu(t){return t.f||(t.f=t.ka().then((function(){return new ye((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),hu(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Ji(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ar(Mn(o=Ln(i),"firebaseError")||null))?T(o):null)?new Ro(r.c,r.b,null,null,o,null,r.S()):new Ro(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}uu(t,i)}))}var n=new Ro("unknown",null,null,null,new E("no-auth-event")),r=!1,i=kn(500).then((function(){return hu(t).then((function(){r||uu(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Er("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},jo||(jo=new Lo),function(t){var e=jo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Er("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function hu(t){var e=null;return function(t){return t.b.get(Qs,t.a).then((function(t){return Mo(t)}))}(t.g).then((function(n){return e=n,Hs((n=t.g).b,Qs,n.a)})).then((function(){return e}))}function fu(t){this.a=t,this.b=qs()}(t=au.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(pr(void 0)?dr().then((function(){return new ye((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ie(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Er("universalLinks.subscribe",a))throw su("cordova-universal-links-plugin-fix is not installed");if(void 0===Er("BuildInfo.packageName",a))throw su("cordova-plugin-buildinfo is not installed");if("function"!=typeof Er("cordova.plugins.browsertab.openUrl",a))throw su("cordova-plugin-browsertab is not installed");if("function"!=typeof Er("cordova.InAppBrowser.open",a))throw su("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Lb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Te()},t.Jb=function(){return Ie(new E("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Ie(new E("redirect-operation-pending"));var i=this,o=a.document,l=null,s=null,u=null,c=null;return this.c=Te().then((function(){return Do(e),cu(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),l=new Ro(e,r,null,o,new E("no-auth-event"),null,i),s=Er("BuildInfo.packageName",a);if("string"!=typeof s)throw new E("invalid-cordova-configuration");var u=Er("BuildInfo.displayName",a),c={};if(kr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!kr().toLowerCase().match(/android/))return Ie(new E("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=function(t){var e=new ou;ru(e,t),t=[];var n=8*e.g;ru(e,eu,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(nu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),c.sessionId=o;var h=ls(t.u,t.i,t.l,e,n,null,r,t.m,c,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(Qs,l.v(),e)})).then((function(){var e=Er("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Er("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Er("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");e=kr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ye((function(t,e){s=function(){var e=Er("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(s),c=function(){Fr()&&u()},o.addEventListener("resume",u=function(){l||(l=kn(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},!1),kr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return hu(i).then((function(){throw t}))}))})).ma((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),l&&l.cancel(),s&&i.Qa(s),i.c=null}))},t.Ca=function(t){this.b.push(t),cu(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ro("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Qa=function(t){Q(this.b,(function(e){return e==t}))};var du={name:"pendingRedirect",F:"session"};function pu(t){return Hs(t.b,du,t.a)}function vu(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Ou,this.B=new Ru,this.g=new fu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=gu(this.D,this.u,this.m,I)}function gu(t,e,n,r){var o=i.a.SDK_VERSION||null;return pr()?new au(t,e,n,o,r):new ns(t,e,n,o,r)}function mu(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function yu(t){t.a.Ub()&&mu(t).o((function(e){var n=new Ro("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Eu(e)&&t.s(n)})),t.a.Qb()||Pu(t.b)}function _u(t,e){G(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(du,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?pu(t.g).then((function(){mu(t).o((function(e){var n=new Ro("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Eu(e)&&t.s(n)}))})):yu(t)})).o((function(){yu(t)}))}function bu(t,e){Q(t.h,(function(t){return t==e}))}vu.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=gu(this.D,this.u,this.m),this.i={}},vu.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=C()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=C())),e=!0;break}}return Pu(this.b),e};var wu=new Lr(2e3,1e4),Cu=new Lr(3e4,6e4);function ku(t,e,n,r,i,o,l){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,l)}function Eu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Tu(t,e,n,r,i){var o;return function(t){return t.b.set(du,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Eu(e))throw new E("operation-not-supported-in-this-environment");return o=e,pu(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new ye((function(){})):pu(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Iu(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),wu.get())}vu.prototype.pa=function(){return this.b.pa()};var Su={};function xu(t,e,n){var r=e+":"+n;return Su[r]||(Su[r]=new vu(t,e,n)),Su[r]}function Ou(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Pu(t){t.g||(t.g=!0,Du(t,!1,null,null))}function Nu(t){t.g&&!t.i&&Du(t,!1,null,null)}function Au(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Du(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ie(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Au(t,n):Au(t,{user:null}),t.f=[],t.c=[]}function Ru(){}function Mu(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Lu(t,e){this.a=e,Hr(this,"verificationId",t)}function Fu(t,e,n,r){return new Po(t).cb(e,n).then((function(t){return new Lu(t,r)}))}function ju(t){var e=ji(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Wr(this,{token:t,expirationTime:jr(1e3*e.exp),authTime:jr(1e3*e.auth_time),issuedAtTime:jr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Vu(t,e,n){var r=e&&e[qu];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=dt(e),this.g=n,this.c=new Zi(null,r),this.b=[];var i=this;B(e[Uu]||[],(function(t){(t=$r(t))&&i.b.push(t)})),Hr(this,"auth",this.a),Hr(this,"session",this.c),Hr(this,"hints",this.b)}Ou.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ou.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Du(this,!0,null,t.a),Te()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,l=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,l,o).then((function(e){Du(t,a,e,null)})).o((function(e){Du(t,a,null,e)}))}(this,t,e):Ie(new E("invalid-auth-event")):(Du(this,!1,null,null),Te())}else Ie(new E("invalid-auth-event"))},Ou.prototype.pa=function(){var t=this;return new ye((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=kn(Cu.get()).then((function(){t.b||(t.g=!0,Du(t,!0,null,e))}))}(t))}))},Ru.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Te()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Ie(new E("invalid-auth-event"))}else Ie(new E("invalid-auth-event"))},Lu.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Uu="mfaInfo",qu="mfaPendingCredential";function Bu(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Vu(t,e,n),Hr(this,"resolver",this.b)}function zu(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Bu(e,t.serverResponse,n,t.message)}catch(r){}return null}function Hu(){}function Wu(t){Hr(this,"factorId",t.ea),this.a=t}function Gu(t){if(Wu.call(this,t),this.a.ea!=Po.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Ku(t,e){for(var n in Ke.call(this,t),e)this[n]=e[n]}function Qu(t,e){this.a=t,this.b=[],this.c=b(this.wc,this),ln(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Jr]=t.uid),t.displayName&&(r[Yr]=t.displayName),t.enrollmentTime&&(r[Xr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Zr]=t.phoneNumber);try{e=new ti(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),$u(this,n)}function $u(t,e){t.b=e,Hr(t,"enrolledFactors",e)}function Yu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Xu(t){this.c=t,this.b=this.a=null}function Ju(t){return t.b&&1e3*t.b.c||0}function Zu(t,e){var n=e.refreshToken;t.b=Fi(e[zl]||""),t.a=n}function tc(t,e){this.a=t||null,this.b=e||null,Wr(this,{lastSignInTime:jr(e||null),creationTime:jr(t||null)})}function ec(t,e,n,r,i,o){Wr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function nc(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=i.a.SDK_VERSION?Cr(i.a.SDK_VERSION):null,this.a=new ql(this.l,P(I),t),this.b=new Xu(this.a),uc(this,e[zl]),Zu(this.b,e),Hr(this,"refreshToken",this.b.a),fc(this,n||{}),yn.call(this),this.P=!1,this.s&&Ir()&&(this.i=xu(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new Yu((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=Ju(t.b)-C()-3e5;return 0<e?e:0}))}(this),this.Z=b(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){ic(r,t.c)},this.$=null,this.O=new Qu(this,n),Hr(this,"multiFactor",this.O)}function rc(t,e){t.aa&&un(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&ln(e,"languageCodeChanged",t.za)}function ic(t,e){t.W=e,$l(t.a,i.a.SDK_VERSION?Cr(i.a.SDK_VERSION,t.W):null)}function oc(t,e){t.$&&un(t.$,"frameworkChanged",t.ya),(t.$=e)&&ln(e,"frameworkChanged",t.ya)}function lc(t){try{return i.a.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function ac(t){t.D||t.B.b||(t.B.start(),un(t,"tokenChanged",t.Z),ln(t,"tokenChanged",t.Z))}function sc(t){un(t,"tokenChanged",t.Z),t.B.stop()}function uc(t,e){t.xa=e,Hr(t,"_lat",e)}function cc(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return xe(e).then((function(){return t}))}function hc(t){t.i&&!t.P&&(t.P=!0,_u(t.i,t))}function fc(t,e){Wr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new tc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function dc(){}function pc(t){return Te().then((function(){if(t.D)throw new E("app-deleted")}))}function vc(t){return H(t.providerData,(function(t){return t.providerId}))}function gc(t,e){e&&(mc(t,e.providerId),t.providerData.push(e))}function mc(t,e){Q(t.providerData,(function(t){return t.providerId==e}))}function yc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Hr(t,e,n)}function _c(t,e){t!=e&&(Wr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Hr(t,"metadata",e.metadata?function(t){return new tc(t.a,t.b)}(e.metadata):new tc),B(e.providerData,(function(e){gc(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Hr(t,"refreshToken",t.b.a),$u(t.O,e.O.b))}function bc(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Wa(t.a,Ca,{idToken:e}).then(b(t.Ic,t))}(t,e).then((function(){return n||yc(t,"isAnonymous",!1),e}))}))}function wc(t,e){e[zl]&&t.xa!=e[zl]&&(Zu(t.b,e),t.dispatchEvent(new Ku("tokenChanged")),uc(t,e[zl]),yc(t,"refreshToken",t.b.a))}function Cc(t,e){return bc(t).then((function(){if(G(vc(t),e))return cc(t).then((function(){throw new E("provider-already-linked")}))}))}function kc(t,e,n){return Gr({user:t,credential:Ao(e),additionalUserInfo:e=zi(e),operationType:n})}function Ec(t,e){return wc(t,e),t.reload().then((function(){return t}))}function Tc(t,e,n,r,o){if(!Ir())return Ie(new E("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ie(t.h);var l=Bi(n.providerId),a=Dr(t.uid+":::"),s=null;(!Or()||vr())&&t.s&&n.isOAuthProvider&&(s=ls(t.s,t.l,t.m,e,n,null,a,i.a.SDK_VERSION||null,null,null,t.tenantId));var u=cr(s,l&&l.ta,l&&l.sa);return r=r().then((function(){if(Sc(t),!o)return t.I().then((function(){}))})).then((function(){return ku(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new ye((function(n,r){t.la(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=a,t.c=Iu(t.i,t,e,u,a)}))})).then((function(t){return u&&ur(u),t?Gr(t):null})).o((function(t){throw u&&ur(u),t})),xc(t,r,o)}function Ic(t,e,n,r,i){if(!Ir())return Ie(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ie(t.h);var o=null,l=Dr(t.uid+":::");return r=r().then((function(){if(Sc(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=l,cc(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Nc,t.v(),e.a)),e})).then((function(){return Tu(t.i,e,n,l,t.tenantId)})).o((function(e){if(o=e,t.ga)return Ac(t.ga);throw o})).then((function(){if(o)throw o})),xc(t,r,i)}function Sc(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function xc(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ie(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Ku("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){K(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=zu(e.v(),lc(t),b(t.hc,t))),n||e}))}function Oc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[zl]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new nc(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&gc(r,Gr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Pc(t){this.a=t,this.b=qs()}Vu.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=dt(e.f);return delete n[Uu],delete n[qu],vt(n,t),e.g(n)}))},k(Bu,E),Hu.prototype.ob=function(t,e,n){return e.type==to?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Oo(t.a)}),Wa(e,ba,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Oo(t.a)}),Wa(e,wa,n)}))}(this,t,e)},k(Wu,Hu),k(Gu,Wu),k(Ku,Ke),(t=Qu.prototype).wc=function(t){$u(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=$r(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Zi(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return wc(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Wa(r,Ha,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=z(e.b,(function(t){return t.uid!=n}));return $u(e,r),wc(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.v()}))}}},Yu.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Fr()||!t?Te():new ye((function(n){e=function(){Fr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Yu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Xu.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Ju(this)}},Xu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ie(new E("user-token-expired")):t||!this.b||C()>Ju(this)-3e4?this.a?function(t,e){return function(t,e){return new ye((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Yl(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ka(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new E("internal-error"))}))}(t.c,e).then((function(e){return t.b=Fi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},tc.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(nc,yn),nc.prototype.va=function(t){this.oa=t,Ql(this.a,t)},nc.prototype.ja=function(){return this.oa},nc.prototype.Ea=function(){return Y(this.W)},nc.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Hr(nc.prototype,"providerId","firebase"),(t=nc.prototype).reload=function(){var t=this;return xc(this,pc(this).then((function(){return bc(t).then((function(){return cc(t)})).then(dc)})))},t.mc=function(t){return this.I(t).then((function(t){return new ju(t)}))},t.I=function(t){var e=this;return xc(this,pc(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.xa&&(uc(e,t.accessToken),e.dispatchEvent(new Ku("tokenChanged"))),yc(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");fc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new ec(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)gc(this,e[n]);yc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Ku("userReloaded",{ed:t}))},t.Jc=function(t){return Br("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return xc(this,t.c(this.a,this.uid).then((function(t){return wc(e,t),n=kc(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return Br("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return xc(this,Cc(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=kc(e,t,"link"),Ec(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return xc(this,Cc(this,"phone").then((function(){return Fu(lc(n),t,e,b(n.mb,n))})))},t.Kc=function(t,e){var n=this;return xc(this,Te().then((function(){return Fu(lc(n),t,e,b(n.pb,n))})),!0)},t.xb=function(t){var e=this;return xc(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return wc(e,t),e.reload()})))},t.cd=function(t){var e=this;return xc(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return wc(e,t),e.reload()})))},t.yb=function(t){var e=this;return xc(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return wc(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return pc(this);var e=this;return xc(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return wc(e,t),yc(e,"displayName",t.displayName||null),yc(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(Hr(t,"displayName",e.displayName),Hr(t,"photoURL",e.photoURL))})),cc(e)})).then(dc))},t.ad=function(t){var e=this;return xc(this,bc(this).then((function(n){return G(vc(e),t)?function(t,e,n){return Wa(t,ma,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(vc(e),(function(t){n[t]||mc(e,t)})),n[Po.PROVIDER_ID]||Hr(e,"phoneNumber",null),cc(e)})):cc(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return xc(this,this.I().then((function(e){return Wa(t.a,ga,{idToken:e})})).then((function(){t.dispatchEvent(new Ku("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");rc(t,null),oc(t,null),t.N=[],t.D=!0,sc(t),Hr(t,"refreshToken",null),t.i&&bu(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?b(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?b(this.Ib,this):null},t.Cc=function(t){var e=this;return Tc(this,"linkViaPopup",t,(function(){return Cc(e,t.providerId).then((function(){return cc(e)}))}),!1)},t.Lc=function(t){return Tc(this,"reauthViaPopup",t,(function(){return Te()}),!0)},t.Dc=function(t){var e=this;return Ic(this,"linkViaRedirect",t,(function(){return Cc(e,t.providerId)}),!1)},t.Mc=function(t){return Ic(this,"reauthViaRedirect",t,(function(){return Te()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return xc(this,this.I().then((function(n){return ua(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=kc(i,t,"link"),Ec(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return xc(this,Te().then((function(){return ro(ca(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=kc(i,t,"reauthenticate"),wc(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return xc(this,this.I().then((function(e){return n=e,void 0===t||ft(t)?{}:Ri(new Ei(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return xc(this,this.I().then((function(t){return r=t,void 0===e||ft(e)?{}:Ri(new Ei(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return xc(this,t=ro(Te(t),n.uid).then((function(t){return e=kc(n,t,"reauthenticate"),wc(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&vt(t,this.metadata.v()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.O.v()),t};var Nc={name:"redirectUser",F:"session"};function Ac(t){return Hs(t.b,Nc,t.a)}function Dc(t){this.a=t,this.b=qs(),this.c=null,this.f=function(t){var e=Lc("local"),n=Lc("session"),r=Lc("none");return function(t,e,n){var r=zs(e,n),i=Bs(t,e.F);return t.get(e,n).then((function(o){var l=null;try{l=Ar(a.localStorage.getItem(r))}catch(s){}if(l&&!o)return a.localStorage.removeItem(r),t.set(e,l,n);l&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Mc,t.a).then((function(t){return t?Lc(t):e}))}))}))})).then((function(e){return t.c=e,Rc(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Lc("local"),this.a,b(this.g,this))}function Rc(t,e){var n,r=[];for(n in Vs)Vs[n]!==e&&r.push(Hs(t.b,Lc(Vs[n]),t.a));return r.push(Hs(t.b,Mc,t.a)),function(t){return new ye((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},l=function(t){n(t)},a=0;a<t.length;a++)Se(t[a],w(o,a),l);else e(i)}))}(r)}Dc.prototype.g=function(){var t=this,e=Lc("local");Uc(this,(function(){return Te().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Rc(t,"local").then((function(){t.c=e}))}))}))};var Mc={name:"persistence",F:"session"};function Lc(t){return{name:"authUser",F:t}}function Fc(t,e){return Uc(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function jc(t){return Uc(t,(function(){return Hs(t.b,t.c,t.a)}))}function Vc(t,e){return Uc(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Oc(t||{})}))}))}function Uc(t,e){return t.f=t.f.then(e,e),t.f}function qc(t){if(this.l=!1,Hr(this,"settings",new Mu),Hr(this,"app",t),!Qc(this).options||!Qc(this).options.apiKey)throw new E("invalid-api-key");t=i.a.SDK_VERSION?Cr(i.a.SDK_VERSION):null,this.b=new ql(Qc(this).options&&Qc(this).options.apiKey,P(I),t),this.P=[],this.m=[],this.O=[],this.$b=i.a.INTERNAL.createSubscribe(b(this.xc,this)),this.W=void 0,this.ac=i.a.INTERNAL.createSubscribe(b(this.yc,this)),Gc(this,null),this.i=new Dc(Qc(this).options.apiKey+":"+Qc(this).name),this.B=new Pc(Qc(this).options.apiKey+":"+Qc(this).name),this.Z=Jc(this,function(t){var e=Qc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Nc,t.a).then((function(t){return t&&e&&(t.authDomain=e),Oc(t||{})}))}(t.B,Qc(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Ac(t.B)}));return Jc(t,e)}(t).then((function(){return Vc(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Fc(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:jc(t.i)}))):null})).then((function(e){Gc(t,e||null)}));return Jc(t,n)}(this)),this.h=Jc(this,function(t){return t.Z.then((function(){return Wc(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Lc("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=b(this.Xc,this),this.Ma=b(this.ca,this),this.xa=b(this.jc,this),this.ya=b(this.uc,this),this.za=b(this.vc,this),this.a=null,function(t){var e=Qc(t).options.authDomain,n=Qc(t).options.apiKey;e&&Ir()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=xu(e,n,Qc(t).name),_u(t.a,t),$c(t)&&hc($c(t)),t.D){hc(t.D);var r=t.D;r.va(t.ja()),rc(r,t),ic(r=t.D,t.N),oc(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Ec,this),this.s=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Bc(t){Ke.call(this,"languageCodeChanged"),this.g=t}function zc(t){Ke.call(this,"frameworkChanged"),this.c=t}function Hc(t){return t.Zb||Ie(new E("auth-domain-config-required"))}function Wc(t){if(!Ir())return Ie(new E("operation-not-supported-in-this-environment"));var e=Hc(t).then((function(){return t.a.pa()})).then((function(t){return t?Gr(t):null}));return Jc(t,e)}function Gc(t,e){$c(t)&&(function(t,e){Q(t.R,(function(t){return t==e}))}($c(t),t.Ma),un($c(t),"tokenChanged",t.xa),un($c(t),"userDeleted",t.ya),un($c(t),"userInvalidated",t.za),sc($c(t))),e&&(e.R.push(t.Ma),ln(e,"tokenChanged",t.xa),ln(e,"userDeleted",t.ya),ln(e,"userInvalidated",t.za),0<t.s&&ac(e)),Hr(t,"currentUser",e),e&&(e.va(t.ja()),rc(e,t),ic(e,t.N),oc(e,t))}function Kc(t,e){var n=null,r=null;return Jc(t,e.then((function(e){return n=Ao(e),r=zi(e),function(t,e){var n={};return n.apiKey=Qc(t).options.apiKey,n.authDomain=Qc(t).options.authDomain,n.appName=Qc(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new nc(t,e);return n&&(i.ga=n),r&&ic(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return $c(t)&&e.uid==$c(t).uid?(_c($c(t),e),t.ca(e)):(Gc(t,e),hc(e),t.ca(e))})).then((function(){Xc(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=zu(e.v(),t,b(t.ic,t))),n||e})).then((function(){return Gr({user:$c(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Qc(t){return t.app}function $c(t){return t.currentUser}function Yc(t){return $c(t)&&$c(t)._lat||null}function Xc(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Yc(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Yc(t))}}function Jc(t,e){return t.P.push(e),e.ma((function(){K(t.P,e)})),e}function Zc(){}function th(){this.a={},this.b=1e12}Dc.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Vs)if(Vs[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(mr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!ys()&&"none"!==t)throw n;break;default:if(!Tr()&&"none"!==t)throw n}}(t),Uc(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Rc(n,t)})).then((function(){if(n.c=Lc(t),e)return n.b.set(n.c,e,n.a)})):Te()}))},k(qc,yn),k(Bc,Ke),k(zc,Ke),(t=qc.prototype).tb=function(t){return Jc(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Ql(this.b,this.$),this.dispatchEvent(new Bc(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=a.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),$l(this.b,i.a.SDK_VERSION?Cr(i.a.SDK_VERSION,this.N):null),this.dispatchEvent(new zc(this.N))},t.Ea=function(){return Y(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:Qc(this).options.apiKey,authDomain:Qc(this).options.authDomain,appName:Qc(this).name,currentUser:$c(this)&&$c(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return Kc(i,sa(i.b,o))}))},t.Vc=function(t){if(!Ir())return Ie(new E("operation-not-supported-in-this-environment"));var e=this,n=Bi(t.providerId),r=Dr(),o=null;(!Or()||vr())&&Qc(this).options.authDomain&&t.isOAuthProvider&&(o=ls(Qc(this).options.authDomain,Qc(this).options.apiKey,Qc(this).name,"signInViaPopup",t,null,r,i.a.SDK_VERSION||null,null,null,this.S()));var l=cr(o,n&&n.ta,n&&n.sa);return Jc(this,n=Hc(this).then((function(n){return ku(n,l,"signInViaPopup",t,r,!!o,e.S())})).then((function(){return new ye((function(t,n){e.la("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Iu(e.a,e,"signInViaPopup",l,r)}))})).then((function(t){return l&&ur(l),t?Gr(t):null})).o((function(t){throw l&&ur(l),t})))},t.Wc=function(t){if(!Ir())return Ie(new E("operation-not-supported-in-this-environment"));var e=this;return Jc(this,Hc(this).then((function(){return function(t){return Uc(t,(function(){return t.b.set(Mc,t.c.F,t.a)}))}(e.i)})).then((function(){return Tu(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return Wc(this).then((function(e){return t.a&&Nu(t.a.b),e})).o((function(e){throw t.a&&Nu(t.a.b),e}))},t.bd=function(t){if(!t)return Ie(new E("null-user"));if(this.R!=t.tenantId)return Ie(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=Qc(this).options.apiKey,n.authDomain=Qc(this).options.authDomain,n.appName=Qc(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[zl]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new nc(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&ic(e,r),_c(e,t),e}(t,n,e.B,e.Ea());return Jc(this,this.h.then((function(){if(Qc(e).options.apiKey!=t.l)return r.reload()})).then((function(){return $c(e)&&t.uid==$c(e).uid?(_c($c(e),t),e.ca(t)):(Gc(e,r),hc(r),e.ca(r))})).then((function(){Xc(e)})))},t.wb=function(){var t=this;return Jc(this,this.h.then((function(){return t.a&&Nu(t.a.b),$c(t)?(Gc(t,null),jc(t.i).then((function(){Xc(t)}))):Te()})))},t.Xc=function(){var t=this;return Vc(this.i,Qc(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=$c(t)&&e){n=$c(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return _c($c(t),e),$c(t).I();($c(t)||e)&&(Gc(t,e),e&&(hc(e),e.ga=t.B),t.a&&_u(t.a,t),Xc(t))}}))},t.ca=function(t){return Fc(this.i,t)},t.jc=function(){Xc(this),this.ca($c(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return Kc(e,Te(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next($c(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),Jc(t,t.h.then((function(){!t.l&&G(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Yc(t)))})))}(this,(function(){t.next($c(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){d(t)?t($c(r)):d(t.next)&&t.next($c(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),d(t)?t($c(r)):d(t.next)&&t.next($c(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return Jc(this,this.h.then((function(){return $c(e)?$c(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return Kc(e,Wa(e.b,Va,{token:t}))})).then((function(t){var n=t.user;return yc(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return Kc(n,Wa(n.b,Ua,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return Kc(n,Wa(n.b,pa,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return Kc(e,t.ia(e.b))}))},t.Qc=function(t){return Br("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=$c(t);if(e&&e.isAnonymous){var n=Gr({providerId:null,isNewUser:!1});return Gr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Kc(t,t.b.vb()).then((function(e){var n=e.user;return yc(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return $c(this)&&$c(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&$c(this)&&ac($c(this))},t.Nc=function(t){var e=this;B(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&$c(this)&&sc($c(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Jc(this,this.h.then((function(){e.l||G(e.m,t)&&t(Yc(e))})))},t.removeAuthTokenListener=function(t){Q(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Lc("local"),t.a,this.oa),this.a&&(bu(this.a,this),Nu(this.a.b)),Promise.resolve()},t.fc=function(t){return Jc(this,function(t,e){return Wa(t,va,{identifier:e,continueUri:Sr()?lr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!Io(t)},t.sb=function(t,e){var n=this;return Jc(this,Te().then((function(){var t=new Ei(e);if(!t.c)throw new E("argument-error",Si+" must be true when sending sign in link to email");return Ri(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return Jc(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return Jc(this,this.b.Pa(t).then((function(t){return new ei(t)})))},t.fb=function(t){return Jc(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return Jc(this,Te().then((function(){return void 0===e||ft(e)?{}:Ri(new Ei(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return Jc(this,Fu(this,t,e,b(this.Ya,this)))},t.Tc=function(t,e){var n=this;return Jc(this,Te().then((function(){var r=e||lr(),i=To(t,r);if(!(r=Io(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Ya(i)})))},Zc.prototype.render=function(){},Zc.prototype.reset=function(){},Zc.prototype.getResponse=function(){},Zc.prototype.execute=function(){};var eh=null;function nh(t,e){return(e=rh(e))&&t.a[e]||null}function rh(t){return(t=void 0===t?1e12:t)?t.toString():null}function ih(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=oe(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function oh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function lh(){}function ah(){}th.prototype.render=function(t,e){return this.a[this.b.toString()]=new ih(t,e),this.b++},th.prototype.reset=function(t){var e=nh(this,t);t=rh(t),e&&t&&(e.delete(),delete this.a[t])},th.prototype.getResponse=function(t){return(t=nh(this,t))?t.getResponse():null},th.prototype.execute=function(t){(t=nh(this,t))&&t.execute()},ih.prototype.getResponse=function(){return oh(this),this.b},ih.prototype.execute=function(){oh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},ih.prototype.delete=function(){oh(this),this.g=!0,clearTimeout(this.a),this.a=null,un(this.f,"click",this.i)},Hr(lh,"FACTOR_ID","phone"),ah.prototype.g=function(){return eh||(eh=new th),Te(eh)},ah.prototype.c=function(){};var sh=null;function uh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ch=new mt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),hh=new Lr(3e4,6e4);uh.prototype.g=function(t){var e=this;return new ye((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),hh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete a[e.a]},Te(Rl(Et(ch,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},uh.prototype.c=function(){this.b--};var fh=null;function dh(t,e,n,r,i,o,l){if(Hr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,l?(sh||(sh=new ah),l=sh):(fh||(fh=new uh),l=fh),this.m=l,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[gh])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[mh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!oe(e)||!this.i&&oe(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ql(t,o||null,i||null),this.w=r||function(){return null};var s=this;this.l=[];var u=this.a[ph];this.a[ph]=function(t){if(yh(s,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Er(u,a);"function"==typeof e&&e(t)}};var c=this.a[vh];this.a[vh]=function(){if(yh(s,null),"function"==typeof c)c();else if("string"==typeof c){var t=Er(c,a);"function"==typeof t&&t()}}}var ph="callback",vh="expired-callback",gh="sitekey",mh="size";function yh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function _h(t,e){return t.h.push(e),e.ma((function(){K(t.h,e)})),e}function bh(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function wh(t,e,n){var r=!1;try{this.b=n||i.a.app()}catch(a){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var o=this,l=null;try{l=this.b.auth().Ea()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}l=i.a.SDK_VERSION?Cr(i.a.SDK_VERSION,l):null,dh.call(this,n,t,e,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),l,P(I),r)}function Ch(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,l=0;l<e.length;l++)if(e[l].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=kh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=kh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=dh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=_h(this,Te().then((function(){if(Sr()&&!gr())return dr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Wa(t.s,xa,{})})).then((function(e){t.a[gh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){bh(this);var t=this;return _h(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=oe(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),l=r[1];if(!ie&&l&&(l.name||l.type)){if(o=["<",o],l.name&&o.push(' name="',qt(l.name),'"'),l.type){o.push(' type="',qt(l.type),'"');var a={};vt(a,l),delete a.type,l=a}o.push(">"),o=o.join("")}return o=he(i,o),l&&("string"==typeof l?o.className=l:Array.isArray(l)?o.className=l.join(" "):le(o,l)),2<r.length&&ce(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){bh(this);var t=this;return _h(this,this.render().then((function(e){return new ye((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){Q(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){bh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){bh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=oe(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},k(wh,dh);var kh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Eh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Th(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Ih(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Sh(t,e){return{name:t||"",J:"a function",optional:!!e,K:d}}function xh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Oh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function Ph(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&d(t.Fa)}function Nh(t){return p(t)&&"string"==typeof t.uid}function Ah(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!d(t.verify))}}}function Dh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Rh(t,e){for(var n in e){var r=e[n].name;t[r]=Fh(r,t[n],e[n].j)}}function Mh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Ch(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Lh(t,e,n,r){t[e]=Fh(e,n,r)}function Fh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Ch(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Rh(qc.prototype,{fb:{name:"applyActionCode",j:[Eh("code")]},Pa:{name:"checkActionCode",j:[Eh("code")]},jb:{name:"confirmPasswordReset",j:[Eh("code"),Eh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Eh("email"),Eh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Eh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Eh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Dh(Ih(),Sh(),"nextOrObserver"),Sh("opt_error",!0),Sh("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Dh(Ih(),Sh(),"nextOrObserver"),Sh("opt_error",!0),Sh("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Eh("email"),Dh(Ih("opt_actionCodeSettings",!0),xh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Eh("email"),Ih("actionCodeSettings")]},tb:{name:"setPersistence",j:[Eh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Oh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Oh()]},Rc:{name:"signInWithCustomToken",j:[Eh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Eh("email"),Eh("password")]},Tc:{name:"signInWithEmailLink",j:[Eh("email"),Eh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Eh("phoneNumber"),Ah()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Dh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof nc)}},xh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Eh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Eh("code")]}}),Mh(qc.prototype,{lc:{name:"languageCode",gb:Dh(Eh(),xh(),"languageCode")},ti:{name:"tenantId",gb:Dh(Eh(),xh(),"tenantId")}}),(qc.Persistence=Vs).LOCAL="local",qc.Persistence.SESSION="session",qc.Persistence.NONE="none",Rh(nc.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Th("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Th("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Oh()]},mb:{name:"linkWithCredential",j:[Oh()]},Bc:{name:"linkWithPhoneNumber",j:[Eh("phoneNumber"),Ah()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Oh()]},pb:{name:"reauthenticateWithCredential",j:[Oh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Eh("phoneNumber"),Ah()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Dh(Ih("opt_actionCodeSettings",!0),xh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Eh(null,!0)]},ad:{name:"unlink",j:[Eh("provider")]},xb:{name:"updateEmail",j:[Eh("email")]},yb:{name:"updatePassword",j:[Eh("password")]},cd:{name:"updatePhoneNumber",j:[Oh("phone")]},zb:{name:"updateProfile",j:[Ih("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Eh("email"),Dh(Ih("opt_actionCodeSettings",!0),xh(null,!0),"opt_actionCodeSettings",!0)]}}),Rh(th.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Rh(Zc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Rh(ye.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Mh(Mu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Th("appVerificationDisabledForTesting")}}),Rh(Lu.prototype,{confirm:{name:"confirm",j:[Eh("verificationCode")]}}),Lh(no,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[uo,ko,xo,lo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Dh(Eh(),Ih(),"json")]),Lh(Eo,"credential",(function(t,e){return new Co(t,e)}),[Eh("email"),Eh("password")]),Rh(Co.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(po.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},Ia:{name:"setCustomParameters",j:[Ih("customOAuthParameters")]}}),Lh(po,"credential",vo,[Dh(Eh(),Ih(),"token")]),Lh(Eo,"credentialWithLink",To,[Eh("email"),Eh("emailLink")]),Rh(go.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},Ia:{name:"setCustomParameters",j:[Ih("customOAuthParameters")]}}),Lh(go,"credential",mo,[Dh(Eh(),Ih(),"token")]),Rh(yo.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},Ia:{name:"setCustomParameters",j:[Ih("customOAuthParameters")]}}),Lh(yo,"credential",_o,[Dh(Eh(),Dh(Ih(),xh()),"idToken"),Dh(Eh(),xh(),"accessToken",!0)]),Rh(bo.prototype,{Ia:{name:"setCustomParameters",j:[Ih("customOAuthParameters")]}}),Lh(bo,"credential",wo,[Dh(Eh(),Ih(),"token"),Eh("secret",!0)]),Rh(fo.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},credential:{name:"credential",j:[Dh(Eh(),Dh(Ih(),xh()),"optionsOrIdToken"),Dh(Eh(),xh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Ih("customOAuthParameters")]}}),Rh(ao.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(io.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Lh(Po,"credential",No,[Eh("verificationId"),Eh("verificationCode")]),Rh(Po.prototype,{cb:{name:"verifyPhoneNumber",j:[Dh(Eh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Ph(t.session,to)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Ph(t.session,eo)&&Nh(t.multiFactorHint):t.session&&t.multiFactorUid?Ph(t.session,eo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Ah()]}}),Rh(So.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(E.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(Uo.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(Vo.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(Bu.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Rh(Vu.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Rh(Qu.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Eh("displayName",!0)]},$c:{name:"unenroll",j:[Dh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Nh},Eh(),"multiFactorInfoIdentifier")]}}),Rh(wh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Lh(vi,"parseLink",ki,[Eh("link")]),Lh(lh,"assertion",(function(t){return new Gu(t)}),[Oh("phone")]),function(){if(void 0===i.a||!i.a.INTERNAL||!i.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ri,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ni,VERIFY_AND_CHANGE_EMAIL:ii,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:qc,AuthCredential:no,Error:E};Lh(t,"EmailAuthProvider",Eo,[]),Lh(t,"FacebookAuthProvider",po,[]),Lh(t,"GithubAuthProvider",go,[]),Lh(t,"GoogleAuthProvider",yo,[]),Lh(t,"TwitterAuthProvider",bo,[]),Lh(t,"OAuthProvider",fo,[Eh("providerId")]),Lh(t,"SAMLAuthProvider",ho,[Eh("providerId")]),Lh(t,"PhoneAuthProvider",Po,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof qc)}}]),Lh(t,"RecaptchaVerifier",wh,[Dh(Eh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Ih("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof i.a.app.App)}}]),Lh(t,"ActionCodeURL",vi,[]),Lh(t,"PhoneMultiFactorGenerator",lh,[]),i.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new qc(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),i.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.kc,t),addAuthTokenListener:b(t.bc,t),removeAuthTokenListener:b(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),i.a.registerVersion("@firebase/auth","0.14.6"),i.a.INTERNAL.extendNamespace({User:nc})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},t7fG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return s})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return k})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(l=(o<3?i(l):o>3?i(e,n,l):i(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function s(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function l(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}s((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return l}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,a=o.length;l<a;l++,i++)r[i]=o[l];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(s,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function s(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("30Go"),l=n("zVF4"),a=n("S+S0"),s=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new l.ErrorFactory("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new s.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,s=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=l.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return s}),"PUBLIC"));try{for(var u=o.__values(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(l.contains(e,a))throw c.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){var s=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&l&&s.push("and"),l&&s.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(s.join(" "))}u(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:s.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});s.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.15.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!l.contains(e,t=t||"[DEFAULT]"))throw c.create("no-app",{appName:t});return e[t]}function u(a){var s,u,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&l.deepExtend(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(a)}catch(g){s={error:g}}finally{try{v&&!v.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){l.deepExtend(e,t)},createSubscribe:l.createSubscribe,ErrorFactory:l.ErrorFactory,deepExtend:l.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(l.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.5",void 0),t.registerVersion("fire-js","")}(y),e.default=y,e.firebase=y},x7I3:function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n.r(e),n.d(e,"ErrorCode",(function(){return Qn})),n.d(e,"EventType",(function(){return $n})),n.d(e,"WebChannel",(function(){return Yn})),n.d(e,"XhrIo",(function(){return Xn})),n.d(e,"createWebChannelTransport",(function(){return Kn}));var i,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=l||{},a=o||self;function s(){}function u(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function c(t){var e=u(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var y=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function b(){this.j=this.j,this.i=this.i}b.prototype.j=!1,b.prototype.da=function(){!this.j&&(this.j=!0,this.C(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,f)&&t[f]||(t[f]=++d)}(this)},b.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var w=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function E(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var I,S=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function x(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var P=a.navigator;if(P){var N=P.userAgent;if(N){I=N;break t}}I=""}function A(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function D(t){var e={};for(var n in t)e[n]=t[n];return e}var R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<R.length;o++)n=R[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function L(t){return L[" "](t),t}L[" "]=s;var F,j,V=x(I,"Opera"),U=x(I,"Trident")||x(I,"MSIE"),q=x(I,"Edge"),B=q||U,z=x(I,"Gecko")&&!(x(I.toLowerCase(),"webkit")&&!x(I,"Edge"))&&!(x(I,"Trident")||x(I,"MSIE"))&&!x(I,"Edge"),H=x(I.toLowerCase(),"webkit")&&!x(I,"Edge");function W(){var t=a.document;return t?t.documentMode:void 0}t:{var G="",K=(j=I,z?/rv:([^\);]+)(\)|;)/.exec(j):q?/Edge\/([\d\.]+)/.exec(j):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):H?/WebKit\/(\S+)/.exec(j):V?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(K&&(G=K?K[1]:""),U){var Q=W();if(null!=Q&&Q>parseFloat(G)){F=String(Q);break t}}F=G}var $={};function Y(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=S(String(F)).split("."),r=S(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var l=n[o]||"",a=r[o]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==l[0].length&&0==a[0].length)break;e=O(0==l[1].length?0:parseInt(l[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==l[2].length,0==a[2].length)||O(l[2],a[2]),l=l[3],a=a[3]}while(0==e)}return 0<=e}))}var X=a.document&&U&&(W()||parseInt(F,10))||void 0,J=!U||9<=Number(X),Z=U&&!Y("9"),tt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",s,e),a.removeEventListener("test",s,e)}catch(n){}return t}();function et(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function nt(t,e){if(et.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(z){t:{try{L(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:rt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}et.prototype.b=function(){this.defaultPrevented=!0},_(nt,et);var rt={2:"touch",3:"pen",4:"mouse"};nt.prototype.b=function(){nt.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Z)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var it="closure_listenable_"+(1e6*Math.random()|0),ot=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++ot,this.V=this.X=!1}function at(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function st(t){this.src=t,this.a={},this.b=0}function ut(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=w(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(at(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ct(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}st.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var l=ct(t,e,r,i);return-1<l?(e=t[l],n||(e.X=!1)):((e=new lt(e,this.src,o,!!r,i)).X=n,t.push(e)),e};var ht="closure_lm_"+(1e6*Math.random()|0),ft={};function dt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var l=0;l<n.length;l++)t(e,n[l],r,i,o);return null}return r=wt(r),e&&e[it]?e.sa(n,r,h(i)?!!i.capture:!!i,o):pt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)dt(t,e[o],n,r,i);return null}return n=wt(n),t&&t[it]?t.ra(e,n,h(r)?!!r.capture:!!r,i):pt(t,e,n,!1,r,i)}function pt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var l=h(i)?!!i.capture:!!i;if(l&&!J)return null;var a=_t(t);if(a||(t[ht]=a=new st(t)),(n=a.add(e,n,r,l,o)).proxy)return n;if(r=function(){var t=yt,e=J?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tt||(i=l),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vt(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[it])ut(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(ut(n,t),0==n.b&&(n.src=null,e[ht]=null)):at(t)}}}function gt(t){return t in ft?ft[t]:ft[t]="on"+t}function mt(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&vt(t),n.call(r,e)}function yt(t,e){if(t.V)return!0;if(!J){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return mt(t,e=new nt(e,this))}return mt(t,new nt(e,this))}function _t(t){return(t=t[ht])instanceof st?t:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(t){return"function"==u(t)?t:(t[bt]||(t[bt]=function(e){return t.handleEvent(e)}),t[bt])}function Ct(){b.call(this),this.c=new st(this),this.J=this,this.A=null}function kt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.V&&l.capture==n){var a=l.listener,s=l.aa||l.src;l.X&&ut(t.c,l),i=!1!==a.call(s,r)&&i}}return i&&!r.defaultPrevented}_(Ct,b),Ct.prototype[it]=!0,(i=Ct.prototype).addEventListener=function(t,e,n,r){dt(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var l=0;l<n.length;l++)t(e,n[l],r,i,o);else i=h(i)?!!i.capture:!!i,r=wt(r),e&&e[it]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ct(l=e.a[n],r,i,o))&&(at(l[r]),Array.prototype.splice.call(l,r,1),0==l.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ct(n,r,i,o)),(r=-1<e?n[e]:null)&&vt(r))}(this,t,e,n,r)},i.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new et(t,n);else if(t instanceof et)t.target=t.target||n;else{var i=t;M(t=new et(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var l=t.a=e[o];i=kt(l,r,!0,t)&&i}if(i=kt(l=t.a=n,r,!0,t)&&i,i=kt(l,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kt(l=t.a=e[o],r,!1,t)&&i;return i},i.C=function(){if(Ct.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)at(n[r]);delete e.a[t],e.b--}}this.A=null},i.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},i.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Et=a.JSON.stringify;function Tt(){this.b=this.a=null}var It,St=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Ot}),(function(t){t.reset()}),100);function xt(){var t=Dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ot(){this.next=this.b=this.a=null}function Pt(t){a.setTimeout((function(){throw t}),0)}function Nt(t,e){It||function(){var t=a.Promise.resolve(void 0);It=function(){t.then(Rt)}}(),At||(It(),At=!0),Dt.add(t,e)}Tt.prototype.add=function(t,e){var n=St.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ot.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ot.prototype.reset=function(){this.next=this.b=this.a=null};var At=!1,Dt=new Tt;function Rt(){for(var t;t=xt();){try{t.a.call(t.b)}catch(n){Pt(n)}var e=St;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}At=!1}function Mt(t,e){Ct.call(this),this.b=t||1,this.a=e||a,this.f=g(this.Ua,this),this.g=y()}function Lt(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Ft(t,e,n){if("function"==u(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function jt(t,e,n){b.call(this),this.f=null!=n?g(t,n):t,this.c=e,this.b=g(this.Pa,this),this.a=[]}function Vt(t){t.T=Ft(t.b,t.c),t.f.apply(null,t.a)}function Ut(t){b.call(this),this.b=t,this.a={}}_(Mt,Ct),(i=Mt.prototype).Z=!1,i.L=null,i.Ua=function(){if(this.Z){var t=y()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Lt(this),this.start()))}},i.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=y())},i.C=function(){Mt.M.C.call(this),Lt(this),delete this.a},_(jt,b),(i=jt.prototype).ba=!1,i.T=null,i.Ia=function(t){this.a=arguments,this.T?this.ba=!0:Vt(this)},i.C=function(){jt.M.C.call(this),this.T&&(a.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},i.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Vt(this))},_(Ut,b);var qt=[];function Bt(t,e,n,r){Array.isArray(n)||(n&&(qt[0]=n.toString()),n=qt);for(var i=0;i<n.length;i++){var o=dt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function zt(t){A(t.a,(function(t,e){this.a.hasOwnProperty(e)&&vt(t)}),t),t.a={}}function Ht(){}Ut.prototype.C=function(){Ut.M.C.call(this),zt(this)},Ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wt=null;function Gt(){return Wt=Wt||new Ct}function Kt(t){et.call(this,"serverreachability",t)}function Qt(t){var e=Gt();e.dispatchEvent(new Kt(e,t))}function $t(t){et.call(this,"statevent",t)}function Yt(t){var e=Gt();e.dispatchEvent(new $t(e,t))}function Xt(t){et.call(this,"timingevent",t)}function Jt(t,e){if("function"!=u(t))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}_(Kt,et),_($t,et),_(Xt,et);var Zt={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},te={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function ee(){}function ne(){}ee.prototype.a=null;var re,ie={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function oe(){et.call(this,"d")}function le(){et.call(this,"c")}function ae(){}function se(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new Ut(this),this.N=ue,this.O=new Mt(t=B?125:void 0),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}_(oe,et),_(le,et),_(ae,ee),re=new ae;var ue=45e3,ce={},he={};function fe(t,e,n){t.B=1,t.f=Re(xe(e)),t.j=n,t.F=!0,de(t,null)}function de(t,e){t.s=y(),ge(t),t.A=xe(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Ke(n.b,"t",r),t.w=0,t.a=Vn(t.g,t.g.w?e:null),0<t.J&&(t.D=new jt(g(t.ya,t,t.a),t.J)),Bt(t.G,t.a,"readystatechange",t.Sa),e=t.m?D(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),Qt(1)}function pe(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=ve(t,n);if(i==he){4==e&&(t.c=4,Yt(14),r=!1);break}if(i==ce){t.c=4,Yt(15),r=!1;break}we(t,i)}4==e&&0==n.length&&(t.c=1,Yt(16),r=!1),t.b=t.b&&r,r||(be(t),_e(t))}function ve(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?he:(n=Number(e.substring(n,r)),isNaN(n)?ce:(r+=1)+n>e.length?he:(e=e.substr(r,n),t.w=r+n,e))}function ge(t){t.P=y()+t.N,me(t,t.N)}function me(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=Jt(g(t.Qa,t),e)}function ye(t){t.h&&(a.clearTimeout(t.h),t.h=null)}function _e(t){0==t.g.u||t.l||Rn(t.g,t)}function be(t){ye(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,Lt(t.O),zt(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function we(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||tn(n.b,t)))if(n.A=t.H,!t.o&&tn(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;Dn(n),n.a.cancel(),n.a=null}An(n),Yt(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=Jt(g(n.Na,n),6e3));if(1>=Ze(n.b)&&n.O){try{n.O()}catch(v){}n.O=void 0}}else Ln(n,11)}else if((t.o||n.a==t)&&Dn(n),!T(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(n.G=(i=e[r])[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var l=i[5];null!=l&&"number"==typeof l&&0<l&&(n.D=1.5*l);var a=n,s=t.a;if(s){var u=s.a?s.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var c=a.b;!c.a&&(x(u,"spdy")||x(u,"quic")||x(u,"h2"))&&(c.f=c.g,c.a=new Set,c.b&&(en(c,c.b),c.b=null))}if(a.s){var h=s.a?s.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.ha=h,De(a.v,a.s,h))}}n.u=3,n.c&&n.c.na();var f=t;if((a=n).ea=jn(a,a.w?a.R:null,a.P),f.o){nn(a.b,f);var d=f,p=a.D;p&&d.setTimeout(p),d.h&&(ye(d),ge(d)),a.a=f}else Nn(a);0<n.f.length&&Sn(n)}else"stop"!=i[0]&&"close"!=i[0]||Ln(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ln(n,7):En(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);Qt(4)}catch(v){}}function Ce(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(c(t)||"string"==typeof t)C(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(c(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(c(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ke(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ke)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ee(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Te(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Te(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Te(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=se.prototype).setTimeout=function(t){this.N=t},i.Sa=function(t){t=t.target;var e=this.D;e&&3==bn(t)?e.Ia():this.ya(t)},i.ya=function(t){try{if(t==this.a)t:{var e=bn(this.a),n=this.a.qa(),r=this.a.S();if(!(3>e||3==e&&!B&&!this.a.Y())){this.l||4!=e||7==n||Qt(8==n||0>=r?3:2),ye(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){e:{if(this.a){var l,a=this.a;if((l=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(l)){var s=l;break e}}s=null}if(!s){this.b=!1,this.c=3,Yt(12),be(this),_e(this);break t}this.o=!0,we(this,s)}this.F?(pe(this,e,o),B&&this.b&&3==e&&(Bt(this.G,this.O,"tick",this.Ra),this.O.start())):we(this,o),4==e&&be(this),this.b&&!this.l&&(4==e?Rn(this.g,this):(this.b=!1,ge(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Yt(12)):(this.c=0,Yt(13)),be(this),_e(this)}}}catch(u){}},i.Ra=function(){if(this.a){var t=bn(this.a),e=this.a.Y();this.w<e.length&&(ye(this),pe(this,t,e),this.b&&4!=t&&ge(this))}},i.cancel=function(){this.l=!0,be(this)},i.Qa=function(){this.h=null;var t=y();0<=t-this.P?(2!=this.B&&(Qt(3),Yt(17)),be(this),this.c=2,_e(this)):me(this,this.P-t)},(i=ke.prototype).I=function(){Ee(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.K=function(){return Ee(this),this.a.concat()},i.get=function(t,e){return Te(this.b,t)?this.b[t]:e},i.set=function(t,e){Te(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ie=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Se(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Se){this.a=void 0!==e?e:t.a,Oe(this,t.f),this.j=t.j,Pe(this,t.c),Ne(this,t.h),this.g=t.g,e=t.b;var n=new ze;n.c=e.c,e.a&&(n.a=new ke(e.a),n.b=e.b),Ae(this,n),this.i=t.i}else t&&(n=String(t).match(Ie))?(this.a=!!e,Oe(this,n[1]||"",!0),this.j=Me(n[2]||""),Pe(this,n[3]||"",!0),Ne(this,n[4]),this.g=Me(n[5]||"",!0),Ae(this,n[6]||"",!0),this.i=Me(n[7]||"")):(this.a=!!e,this.b=new ze(null,this.a))}function xe(t){return new Se(t)}function Oe(t,e,n){t.f=n?Me(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pe(t,e,n){t.c=n?Me(e,!0):e}function Ne(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ae(t,e,n){e instanceof ze?(t.b=e,function(t,e){e&&!t.f&&(He(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(We(this,e),Ke(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Le(e,qe)),t.b=new ze(e,t.a))}function De(t,e,n){t.b.set(e,n)}function Re(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^y()).toString(36)),t}function Me(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Le(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Se.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Le(e,je,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Le(e,je,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Le(n,"/"==n.charAt(0)?Ue:Ve,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Le(n,Be)),t.join("")};var je=/[#\/\?@]/g,Ve=/[#\?:]/g,Ue=/[#\?]/g,qe=/[#\?@]/g,Be=/#/g;function ze(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function He(t){t.a||(t.a=new ke,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function We(t,e){He(t),e=Qe(t,e),Te(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Te((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ee(t)))}function Ge(t,e){return He(t),e=Qe(t,e),Te(t.a.b,e)}function Ke(t,e,n){We(t,e),0<n.length&&(t.c=null,t.a.set(Qe(t,e),E(n)),t.b+=n.length)}function Qe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function $e(t,e){this.b=t,this.a=e}function Ye(t){this.g=t||Xe,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ca&&a.ca.ua&&a.ca.ua()&&a.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(i=ze.prototype).add=function(t,e){He(this),this.c=null,t=Qe(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){He(this),this.a.forEach((function(n,r){C(n,(function(n){t.call(e,n,r,this)}),this)}),this)},i.K=function(){He(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},i.I=function(t){He(this);var e=[];if("string"==typeof t)Ge(this,t)&&(e=k(e,this.a.get(Qe(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},i.set=function(t,e){return He(this),this.c=null,Ge(this,t=Qe(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var l=i;""!==r[o]&&(l+="="+encodeURIComponent(String(r[o]))),t.push(l)}}return this.c=t.join("&")};var Xe=10;function Je(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ze(t){return t.b?1:t.a?t.a.size:0}function tn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function en(t,e){t.a?t.a.add(e):t.b=e}function nn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function rn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var o=r(t.a.values()),l=o.next();!l.done;l=o.next())i=i.concat(l.value.i)}catch(a){e={error:a}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return E(t.c)}function on(){}function ln(){this.a=new on}function an(t,e,n){var r=n||"";try{Ce(t,(function(t,n){var i=t;h(t)&&(i=Et(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function sn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ye.prototype.cancel=function(){var t,e;if(this.c=rn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},on.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},on.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var un=a.JSON.parse;function cn(t){Ct.call(this),this.headers=new ke,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=hn,this.B=this.F=!1}_(cn,Ct);var hn="",fn=/^https?$/i,dn=["POST","PUT"];function pn(t){return"content-type"==t.toLowerCase()}function vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,gn(t),yn(t)}function gn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function mn(t){if(t.b&&void 0!==l&&(!t.s[1]||4!=bn(t)||2!=t.S()))if(t.l&&4==bn(t))Ft(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==bn(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.D).match(Ie)[1]||null;if(!o&&a.self&&a.self.location){var s=a.self.location.protocol;o=s.substr(0,s.length-1)}i=!fn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<bn(t)?t.a.statusText:""}catch(c){u=""}t.f=u+" ["+t.S()+"]",gn(t)}}finally{yn(t)}}}function yn(t,e){if(t.a){_n(t);var n=t.a,r=t.s[0]?s:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function _n(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function bn(t){return t.a?t.a.readyState:0}function wn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return A(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):De(t,e,n))}function Cn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kn(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=Cn("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=Cn("baseRetryDelayMs",5e3,t),this.Ga=Cn("retryDelaySeedMs",1e4,t),this.Da=Cn("forwardChannelMaxRetries",2,t),this.ga=Cn("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new Ye(t&&t.concurrentRequestLimit),this.ja=new ln,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function En(t){if(Tn(t),3==t.u){var e=t.H++,n=xe(t.v);De(n,"SID",t.B),De(n,"RID",e),De(n,"TYPE","terminate"),On(t,n),(e=new se(t,e,void 0)).B=2,e.f=Re(xe(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=Vn(e.g,null),e.a.$(e.f)),e.s=y(),ge(e)}Fn(t)}function Tn(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(a.clearTimeout(t.i),t.i=null),Dn(t),t.b.cancel(),t.g&&("number"==typeof t.g&&a.clearTimeout(t.g),t.g=null)}function In(t,e){t.f.push(new $e(t.Fa++,e)),3==t.u&&Sn(t)}function Sn(t){Je(t.b)||t.g||(t.g=!0,Nt(t.xa,t),t.o=0)}function xn(t,e){var n;n=e?e.W:t.H++;var r=xe(t.v);De(r,"SID",t.B),De(r,"RID",n),De(r,"AID",t.G),On(t,r),t.h&&t.j&&wn(r,t.h,t.j),n=new se(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=Pn(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),en(t.b,n),fe(n,r,e)}function On(t,e){t.c&&Ce({},(function(t,n){De(e,n,t)}))}function Pn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?g(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var l=["count="+n];-1==o?0<n?l.push("ofs="+(o=i[0].b)):o=0:l.push("ofs="+o);for(var a=!0,s=0;s<n;s++){var u=i[s].b,c=i[s].a;if(0>(u-=o))o=Math.max(0,i[s].b-100),a=!1;else try{an(c,l,"req"+u+"_")}catch(h){r&&r(c)}}if(a){r=l.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function Nn(t){t.a||t.i||(t.J=1,Nt(t.wa,t),t.m=0)}function An(t){return!(t.a||t.i||3<=t.m||(t.J++,t.i=Jt(g(t.wa,t),Mn(t,t.m)),t.m++,0))}function Dn(t){null!=t.l&&(a.clearTimeout(t.l),t.l=null)}function Rn(t,e){var n=null;if(t.a==e){Dn(t),t.a=null;var r=2}else{if(!tn(t.b,e))return;n=e.i,nn(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=y()-e.s;var i=t.o;(r=Gt()).dispatchEvent(new Xt(r,n,e,i)),Sn(t)}else Nn(t);else if(3==(i=e.c)||0==i&&0<t.A||!(1==r&&function(t,e){return!(Ze(t.b)>=t.b.f-(t.g?1:0)||(t.g?(t.f=e.i.concat(t.f),0):1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da)||(t.g=Jt(g(t.xa,t,e),Mn(t,t.o)),t.o++,0)))}(t,e)||2==r&&An(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ln(t,5);break;case 4:Ln(t,10);break;case 3:Ln(t,6);break;default:Ln(t,2)}}function Mn(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function Ln(t,e){if(2==e){var n=null;t.c&&(n=null);var r=g(t.Ta,t);n||(n=new Se("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Oe(n,"https"),Re(n)),function(t,e){var n=new Ht;if(a.Image){var r=new Image;r.onload=m(sn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=m(sn,n,r,"TestLoadImage: error",!1,e),r.onabort=m(sn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=m(sn,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Yt(2);t.u=0,t.c&&t.c.la(e),Fn(t),Tn(t)}function Fn(t){t.u=0,t.A=-1,t.c&&(0==rn(t.b).length&&0==t.f.length||(t.b.c.length=0,E(t.f),t.f.length=0),t.c.ka())}function jn(t,e,n){var r=function(t){return t instanceof Se?xe(t):new Se(t,void 0)}(n);if(""!=r.c)e&&Pe(r,e+"."+r.c),Ne(r,r.h);else{var i=a.location;r=function(t,e,n,r){var i=new Se(null,void 0);return t&&Oe(i,t),e&&Pe(i,e),n&&Ne(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.N&&A(t.N,(function(t,e){De(r,e,t)})),n=t.ha,(e=t.s)&&n&&De(r,e,n),De(r,"VER",t.oa),On(t,r),r}function Vn(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cn(t.Ea)).F=t.w,e}function Un(){}function qn(){if(U&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function Bn(t,e){Ct.call(this),this.a=new kn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Wn(this)}function zn(t){oe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Hn(){le.call(this),this.status=1}function Wn(t){this.a=t}(i=cn.prototype).$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.G?this.G:re),this.a.onreadystatechange=g(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void vn(this,o)}t=n||"";var i=new ke(this.headers);r&&Ce(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=pn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.K()),n=a.FormData&&t instanceof a.FormData,!(0<=w(dn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{_n(this),0<this.o&&((this.B=function(t){return U&&Y(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.ta,this)):this.m=Ft(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){vn(this,o)}},i.ta=function(){void 0!==l&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),yn(this))},i.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),yn(this,!0)),cn.M.C.call(this)},i.va=function(){this.j||(this.w||this.l||this.g?mn(this):this.Oa())},i.Oa=function(){mn(this)},i.S=function(){try{return 2<bn(this)?this.a.status:-1}catch(j){return-1}},i.Y=function(){try{return this.a?this.a.responseText:""}catch(j){return""}},i.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),un(e)}},i.qa=function(){return this.h},i.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(i=kn.prototype).oa=8,i.u=1,i.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var e,n=new se(this,t=this.H++,void 0),r=this.j;if(this.F&&(r?M(r=D(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Pn(this,n,e),De(i=xe(this.v),"RID",t),De(i,"CVER",22),this.s&&De(i,"X-HTTP-Session-Id",this.s),On(this,i),this.h&&r&&wn(i,this.h,r),en(this.b,n),this.fa?(De(i,"$req",e),De(i,"SID","null"),n.R=!0,fe(n,i,null)):fe(n,i,e),this.u=2}}else 3==this.u&&(t?xn(this,t):0==this.f.length||Je(this.b)||xn(this))},i.wa=function(){this.i=null,this.a=new se(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=xe(this.ea);De(t,"RID","rpc"),De(t,"SID",this.B),De(t,"CI",this.U?"0":"1"),De(t,"AID",this.G),On(this,t),De(t,"TYPE","xmlhttp"),this.h&&this.j&&wn(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=Re(xe(t)),e.j=null,e.F=!0,de(e,n)},i.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,An(this),Yt(19))},i.Ta=function(t){Yt(t?2:1)},(i=Un.prototype).na=function(){},i.ma=function(){},i.la=function(){},i.ka=function(){},i.Ha=function(){},qn.prototype.a=function(t,e){return new Bn(t,e)},_(Bn,Ct),(i=Bn.prototype).addEventListener=function(t,e,n,r){Bn.M.addEventListener.call(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){Bn.M.removeEventListener.call(this,t,e,n,r)},i.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;Yt(0),t.P=e,t.N=n||{},t.U=t.W,t.v=jn(t,null,t.P),Sn(t)},i.close=function(){En(this.a)},i.La=function(t){if("string"==typeof t){var e={};e.__data__=t,In(this.a,e)}else this.g?((e={}).__data__=Et(t),In(this.a,e)):In(this.a,t)},i.C=function(){this.a.c=null,delete this.f,En(this.a),delete this.a,Bn.M.C.call(this)},_(zn,oe),_(Hn,le),_(Wn,Un),Wn.prototype.na=function(){this.a.dispatchEvent("a")},Wn.prototype.ma=function(t){this.a.dispatchEvent(new zn(t))},Wn.prototype.la=function(t){this.a.dispatchEvent(new Hn(t))},Wn.prototype.ka=function(){this.a.dispatchEvent("b")},qn.prototype.createWebChannel=qn.prototype.a,Bn.prototype.send=Bn.prototype.La,Bn.prototype.open=Bn.prototype.Ka,Bn.prototype.close=Bn.prototype.close,Zt.NO_ERROR=0,Zt.TIMEOUT=8,Zt.HTTP_ERROR=6,te.COMPLETE="complete",ne.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",Ct.prototype.listen=Ct.prototype.ra,cn.prototype.listenOnce=cn.prototype.sa,cn.prototype.getLastError=cn.prototype.Ma,cn.prototype.getLastErrorCode=cn.prototype.qa,cn.prototype.getStatus=cn.prototype.S,cn.prototype.getResponseJson=cn.prototype.Ja,cn.prototype.getResponseText=cn.prototype.Y,cn.prototype.send=cn.prototype.$;var Gn={createWebChannelTransport:function(){return new qn},ErrorCode:Zt,EventType:te,WebChannel:ne,XhrIo:cn},Kn=Gn.createWebChannelTransport,Qn=Gn.ErrorCode,$n=Gn.EventType,Yn=Gn.WebChannel,Xn=Gn.XhrIo;e.default=Gn},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function l(t){setTimeout((function(){throw t}))}var a={closed:!0,next:function(t){},error:function(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;l(t)},complete:function(){}},s=Array.isArray||function(t){return t&&"number"==typeof t.length};function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);var h,f=c,d=((h=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var t,e=!1;if(!this.closed){var n=this._parent,i=this._parents,o=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,c=i?i.length:0;n;)n.remove(this),n=++a<c&&i[a]||null;if(r(o))try{o.call(this)}catch(d){e=!0,t=d instanceof f?p(d.errors):[d]}if(s(l))for(a=-1,c=l.length;++a<c;){var h=l[a];if(u(h))try{h.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof f?t=t.concat(p(d.errors)):t.push(d)}}if(e)throw new f(t)}}},{key:"add",value:function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}},{key:"_addParent",value:function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new h),h);function p(t){return t.reduce((function(t,e){return t.concat(e instanceof f?e.errors:e)}),[])}var v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),g=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;switch(_classCallCheck(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a;break;case 1:if(!t){o.destination=a;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new m(_assertThisInitialized(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new m(_assertThisInitialized(o),t,r,i)}return o}return _createClass(n,[{key:v,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(d),m=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,l){var s,u;_classCallCheck(this,n),(s=e.call(this))._parentSubscriber=t;var c=_assertThisInitialized(s);return r(i)?u=i:i&&(u=i.next,o=i.error,l=i.complete,i!==a&&(r((c=Object.create(i)).unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(_assertThisInitialized(s)))),s._context=c,s._next=u,s._error=o,s._complete=l,s}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):l(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;l(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;l(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(l(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(g),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(){}function b(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return w(e)}function w(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:_}var C,k=((C=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof g)return t;if(t[v])return t[v]()}return t||e||n?new g(t,e,n):new g(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof g?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=E(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:y,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:w(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=E(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new C(t)},C);function E(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function T(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}T.prototype=Object.create(Error.prototype);var I,S=T,x=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(d),O=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(g),P=((I=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:v,value:function(){return new O(this)}},{key:"lift",value:function(t){var e=new N(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new S;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new S;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new S;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new x(this,t))}},{key:"asObservable",value:function(){var t=new k;return t.source=this,t}}]),n}(k)).create=function(t,e){return new N(t,e)},I),N=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):d.EMPTY}}]),n}(P);function A(t){return t&&"function"==typeof t.schedule}var D=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(g),R=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},M=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,l),e}};var L="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",F=function(t){return function(e){for(var n=t[L]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}},j=function(t){return function(e){var n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},V=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function U(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var q=function(t){if(t instanceof k)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[y])return j(t);if(V(t))return R(t);if(U(t))return M(t);if(t&&"function"==typeof t[L])return F(t);var e=u(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(e," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function B(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new D(t,n,r);if(!i.closed)return q(e)(i)}var z=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(g);function H(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new W(t,e))}}var W=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new G(t,this.project,this.thisArg))}}]),t}(),G=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(g);function K(t,e){return new k(e?function(n){var r=new d,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:R(t))}function Q(t,e){if(!e)return t instanceof k?t:new k(q(t));if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new k(e?function(n){var r=new d;return r.add(e.schedule((function(){var i=t[y]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}:j(t))}(t,e);if(U(t))return function(t,e){return new k(e?function(n){var r=new d;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}:M(t))}(t,e);if(V(t))return K(t,e);if(function(t){return t&&"function"==typeof t[L]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new k(e?function(n){var r,i=new d;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[L](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}:F(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function $(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe($((function(n,r){return Q(t(n,r)).pipe(H((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new Y(t,n))})}var Y=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new X(t,this.project,this.concurrent))}}]),t}(),X=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=new D(this,void 0,void 0);this.destination.add(r),B(this,t,e,n,r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(z);function J(t){return t}function Z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return $(J,t)}function tt(){return function(t){return t.lift(new et(t))}}var et=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new nt(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),nt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(g),rt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new d).add(this.source.subscribe(new ot(this.getSubject(),this))),t.closed?(this._connection=null,t=d.EMPTY):this._connection=t),t}},{key:"refCount",value:function(){return tt()(this)}}]),n}(k).prototype,it={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:rt._subscribe},_isComplete:{value:rt._isComplete,writable:!0},getSubject:{value:rt.getSubject},connect:{value:rt.connect},refCount:{value:rt.refCount}},ot=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(O);function lt(){return new P}function at(t,e,n){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return l.annotation=o,l;function l(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}var st=at("Inject",(function(t){return{token:t}})),ut=at("Optional"),ct=at("Self"),ht=at("SkipSelf"),ft=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function dt(t){for(var e in t)if(t[e]===dt)return e;throw Error("Could not find renamed property on target object.")}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vt(t){var e=t[gt];return e&&e.token===t?e:null}var gt=dt({ngInjectableDef:dt});function mt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var yt=dt({__forward_ref__:dt});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return mt(this())},t}function bt(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(yt)&&e.__forward_ref__===_t?e():t}var wt="undefined"!=typeof globalThis&&globalThis,Ct="undefined"!=typeof window&&window,kt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et="undefined"!=typeof global&&global,Tt=wt||Et||Ct||kt,It=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=pt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),St=new It("INJECTOR",-1),xt=new Object,Ot=/\n/gm,Pt=dt({provide:String,useValue:dt}),Nt=void 0;function At(t){var e=Nt;return Nt=t,e}function Dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft.Default;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft.Default;if(void 0===Nt)throw new Error("inject() must be called from an injection context");return null===Nt?function(t,e,n){var r=vt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ft.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(mt(t),"]"))}(t,0,e):Nt.get(t,e&ft.Optional?null:void 0,e)}(t,e)}var Rt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt;if(e===xt){var n=new Error("NullInjectorError: No provider for ".concat(mt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}();function Mt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=mt(e);if(e instanceof Array)i=e.map(mt).join(" -> ");else if("object"==typeof e){var o=[];for(var l in e)if(e.hasOwnProperty(l)){var a=e[l];o.push(l+":"+("string"==typeof a?JSON.stringify(a):mt(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Ot,"\n  "))}var Lt=function t(){_classCallCheck(this,t)},Ft=function t(){_classCallCheck(this,t)};function jt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Ut=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),qt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt);function Bt(t){return t.ngDebugContext}function zt(t){return t.ngOriginalError}function Ht(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Wt=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ht}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Bt(t)?Bt(t):this._findContext(zt(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=zt(t);e&&zt(e);)e=zt(e);return e}}]),t}(),Gt=!0,Kt=!1;function Qt(){return Kt=!0,Gt}var $t=function(){function t(e){if(_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Yt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Xt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jt(t){return(t=String(t)).match(Yt)||t.match(Xt)?t:(Qt()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Zt(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function te(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var l=o[i];for(var a in l)l.hasOwnProperty(a)&&(t[a]=!0)}return t}var ee,ne=Zt("area,br,col,hr,img,wbr"),re=Zt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ie=Zt("rp,rt"),oe=te(ie,re),le=te(ne,te(re,Zt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),te(ie,Zt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oe),ae=Zt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),se=Zt("srcset"),ue=te(ae,se,Zt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ce=Zt("script,style,template"),he=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!le.hasOwnProperty(e))return this.sanitizedSomething=!0,!ce.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),l=o.name,a=l.toLowerCase();if(ue.hasOwnProperty(a)){var s=o.value;ae[a]&&(s=Jt(s)),se[a]&&(n=s,s=(n=String(n)).split(",").map((function(t){return Jt(t.trim())})).join(", ")),this.buf.push(" ",l,'="',pe(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();le.hasOwnProperty(e)&&!ne.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(pe(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),fe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,de=/([^\#-~ |!])/g;function pe(t){return t.replace(/&/g,"&amp;").replace(fe,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(de,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ve(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ge=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),me=function t(){_classCallCheck(this,t)},ye=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),_e=/^url\(([^)]+)\)$/;function be(t){var e;return e=t.replace(/[$@]/g,"_"),"ng-reflect-".concat(t=e.replace(we,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"-"+e[1].toLowerCase()})))}var we=/([A-Z])/g;function Ce(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var ke=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ee()},t}(),Ee=function(){},Te=new It("The presence of this token marks an injector as being the root injector."),Ie=function(t,e,n){return new Ae(t,e,n)},Se=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Ie(t,e,""):Ie(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=xt,t.NULL=new Rt,t.ngInjectableDef=pt({token:t,providedIn:"any",factory:function(){return Dt(St)}}),t.__NG_ELEMENT_ID__=-1,t}(),xe=function(t){return t},Oe=[],Pe=xe,Ne=function(){return Array.prototype.slice.call(arguments)},Ae=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,t),this.parent=n,this.source=r;var i=this._records=new Map;i.set(Se,{token:Se,fn:xe,deps:Oe,value:this,useNew:!1}),i.set(St,{token:St,fn:xe,deps:Oe,value:this,useNew:!1}),function t(e,n){if(n)if((n=bt(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Re("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Re("Unexpected provider",n);var i=bt(n.provide),o=function(t){var e=function(t){var e=Oe,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6,o=bt(n[r]);if(o instanceof Array)for(var l=0,a=o;l<a.length;l++){var s=a[l];s instanceof ut||s==ut?i|=1:s instanceof ht||s==ht?i&=-3:s instanceof ct||s==ct?i&=-5:o=s instanceof st?s.token:bt(s)}e.push({token:o,options:i})}}else if(t.useExisting)e=[{token:bt(t.useExisting),options:6}];else if(!(n||Pt in t))throw Re("'deps' required",t);return e}(t),n=xe,r=Oe,i=!1,o=bt(t.provide);if(Pt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=bt(t.useClass);else{if("function"!=typeof o)throw Re("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var l=e.get(i);if(l){if(l.fn!==Ne)throw De(i)}else e.set(i,l={token:n.provide,deps:[],useNew:!1,fn:Ne,value:Oe});i=n,l.deps.push({token:i,options:6})}var a=e.get(i);if(a&&a.fn==Ne)throw De(i);e.set(i,o)}}(i,e)}return _createClass(t,[{key:"get",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ft.Default,r=this._records.get(t);try{return function t(e,n,r,i,o,l){try{return function(e,n,r,i,o,l){var a;if(!n||l&ft.SkipSelf)l&ft.Self||(a=i.get(e,o,ft.Default));else{if((a=n.value)==Pe)throw Error("\u0275Circular dependency");if(a===Oe){n.value=Pe;var s=n.useNew,u=n.fn,c=n.deps,h=Oe;if(c.length){h=[];for(var f=0;f<c.length;f++){var d=c[f],p=d.options,v=2&p?r.get(d.token):void 0;h.push(t(d.token,v,r,v||4&p?i:Se.NULL,1&p?null:Se.THROW_IF_NOT_FOUND,ft.Default))}}n.value=a=s?_construct(u,_toConsumableArray(h)):u.apply(void 0,h)}}return a}(e,n,r,i,o,l)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==Pe&&(n.value=Oe),a}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=Mt("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(i,t,0,this.source)}}},{key:"toString",value:function(){var t=[];return this._records.forEach((function(e,n){return t.push(mt(n))})),"StaticInjector[".concat(t.join(", "),"]")}}]),t}();function De(t){return Re("Cannot mix multi providers and regular providers",t)}function Re(t,e){return new Error(Mt(t,e,"StaticInjectorError"))}var Me=new It("AnalyzeForEntryComponents"),Le=null;function Fe(){if(!Le){var t=Tt.Symbol;if(t&&t.iterator)Le=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Le=r)}}return Le}function je(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ve(t,e){var n=qe(t),r=qe(e);return n&&r?function(t,e,n){for(var r=t[Fe()](),i=e[Fe()]();;){var o=r.next(),l=i.next();if(o.done&&l.done)return!0;if(o.done||l.done)return!1;if(!n(o.value,l.value))return!1}}(t,e,Ve):!(n||!(t&&("object"==typeof t||"function"==typeof t))||r||!(e&&("object"==typeof e||"function"==typeof e)))||je(t,e)}var Ue=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function qe(t){return!!Be(t)&&(Array.isArray(t)||!(t instanceof Map)&&Fe()in t)}function Be(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ze(t){return!!t&&"function"==typeof t.then}function He(t){return!!t&&"function"==typeof t.subscribe}var We=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}(),Ge=function t(){_classCallCheck(this,t)};function Ke(t){var e=Error("No component factory found for ".concat(mt(t),". Did you add it to @NgModule.entryComponents?"));return e[Qe]=t,e}var Qe="ngComponent",$e=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw Ke(t)}}]),t}(),Ye=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new $e,t}(),Xe=function(){function t(e,n,r){_classCallCheck(this,t),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<e.length;i++){var o=e[i];this._factories.set(o.componentType,o)}}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Ke(t);return new Je(e,this._ngModule)}}]),t}(),Je=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).factory=t,i.ngModule=r,i.selector=t.selector,i.componentType=t.componentType,i.ngContentSelectors=t.ngContentSelectors,i.inputs=t.inputs,i.outputs=t.outputs,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}]),n}(Ge);function Ze(){}var tn=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return en(t)},t}(),en=Ze,nn=function t(){_classCallCheck(this,t)},rn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),on=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ln()},t}(),ln=Ze,an=new function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}("8.2.14"),sn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return qe(t)}},{key:"create",value:function(t){return new cn(t)}}]),t}(),un=function(t,e){return e},cn=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||un}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<pn(n,r,i)?e:n,l=pn(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var s=l-r,u=a-r;if(s!=u){for(var c=0;c<s;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;u<=f&&f<s&&(i[c]=h+1)}i[o.previousIndex]=u-s}}l!==a&&t(o,l,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!qe(t))throw new Error("Error trying to diff '".concat(mt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,l=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=t[a],i=this._trackByFn(a,r),null!==o&&je(o.trackById,i)?(l&&(o=this._verifyReinsertion(o,r,i,a)),je(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),l=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Fe()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&je(o.trackById,i)?(l&&(o=e._verifyReinsertion(o,t,i,n)),je(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),l=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(je(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(je(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new hn(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new dn),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),hn=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},fn=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&je(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),dn=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new fn,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function pn(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var vn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||Be(t)}},{key:"create",value:function(){return new gn}}]),t}(),gn=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Be(t)))throw new Error("Error trying to diff '".concat(mt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new mn(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){je(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),mn=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},yn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ht,new ut]]}}}]),t}();return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:function(){return new t([new sn])}}),t}(),_n=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ht,new ut]]}}}]),t}();return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:function(){return new t([new vn])}}),t}(),bn=[new vn],wn=new yn([new sn]),Cn=new _n(bn),kn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return En(t,tn)},t}(),En=Ze,Tn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return In(t,tn)},t}(),In=Ze;function Sn(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(e,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return xn(n,e),n}(i,t)}function xn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function On(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(t))}function Pn(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Nn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function An(t,e){return t.nodes[e]}function Dn(t,e){return t.nodes[e]}function Rn(t,e){return t.nodes[e]}function Mn(t,e){return t.nodes[e]}function Ln(t,e){return t.nodes[e]}var Fn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},jn=function(){},Vn=new Map;function Un(t){var e=Vn.get(t);return e||(e=mt(t)+"_"+Vn.size,Vn.set(t,e)),e}function qn(t,e,n,r){if(Ue.isWrapped(r)){r=Ue.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=Ue.unwrap(t.oldValues[i]);t.oldValues[i]=new Ue(o)}return r}function Bn(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var zn=0;function Hn(t,e,n,r){return!(!(2&t.state)&&je(t.oldValues[e.bindingIndex+n],r))}function Wn(t,e,n,r){return!!Hn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Gn(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ve(i,r)){var o=e.bindings[n].name;throw Sn(Fn.createDebugContext(t,e.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&t.state))}}function Kn(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Qn(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function $n(t,e,n,r){try{return Kn(33554432&t.def.nodes[e].flags?Dn(t,e).componentView:t),Fn.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Yn(t){return t.parent?Dn(t.parent,t.parentNodeDef.nodeIndex):null}function Xn(t){return t.parent?t.parentNodeDef.parent:null}function Jn(t,e){switch(201347067&e.flags){case 1:return Dn(t,e.nodeIndex).renderElement;case 2:return An(t,e.nodeIndex).renderText}}function Zn(t,e){return t?"".concat(t,":").concat(e):e}function tr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function er(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function nr(t){var e={},n=0,r={};return t&&t.forEach((function(t){var i=_slicedToArray(t,2),o=i[0],l=i[1];"number"==typeof o?(e[o]=l,n|=function(t){return 1<<t%32}(o)):r[o]=l})),{matchedQueries:e,references:r,matchedQueryIds:n}}function rr(t,e){return t.map((function(t){var n,r,i;return Array.isArray(t)?(i=(n=_slicedToArray(t,2))[0],r=n[1]):(i=0,r=t),r&&("function"==typeof r||"object"==typeof r)&&e&&Object.defineProperty(r,"__source",{value:e,configurable:!0}),{flags:i,token:r,tokenKey:Un(r)}}))}function ir(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Ut.Native?Dn(t,n.renderParent.nodeIndex).renderElement:void 0:e}var or=new WeakMap;function lr(t){var e=or.get(t);return e||((e=t((function(){return jn}))).factory=t,or.set(t,e)),e}function ar(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Jn(t,t.def.lastRenderRootNode))),sr(t,e,0,t.def.nodes.length-1,n,r,i)}function sr(t,e,n,r,i,o,l){for(var a=n;a<=r;a++){var s=t.def.nodes[a];11&s.flags&&cr(t,s,e,i,o,l),a+=s.childCount}}function ur(t,e,n,r,i,o){for(var l=t;l&&!tr(l);)l=l.parent;for(var a=l.parent,s=Xn(l),u=s.nodeIndex+s.childCount,c=s.nodeIndex+1;c<=u;c++){var h=a.def.nodes[c];h.ngContentIndex===e&&cr(a,h,n,r,i,o),c+=h.childCount}if(!a.parent){var f=t.root.projectableNodes[e];if(f)for(var d=0;d<f.length;d++)hr(t,f[d],n,r,i,o)}}function cr(t,e,n,r,i,o){if(8&e.flags)ur(t,e.ngContent.index,n,r,i,o);else{var l=Jn(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&hr(t,l,n,r,i,o),32&e.bindingFlags&&hr(Dn(t,e.nodeIndex).componentView,l,n,r,i,o)):hr(t,l,n,r,i,o),16777216&e.flags)for(var a=Dn(t,e.nodeIndex).viewContainer._embeddedViews,s=0;s<a.length;s++)ar(a[s],n,r,i,o);1&e.flags&&!e.element.name&&sr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function hr(t,e,n,r,i,o){var l=t.renderer;switch(n){case 1:l.appendChild(r,e);break;case 2:l.insertBefore(r,e,i);break;case 3:l.removeChild(r,e);break;case 0:o.push(e)}}var fr=/^:([^:]+):(.+)$/;function dr(t){if(":"===t[0]){var e=t.match(fr);return[e[1],e[2]]}return["",t]}function pr(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function vr(t,e,n,r,i,o,l,a,s,u,c,h,f,d,p,v,g,m,y,_){switch(t){case 1:return e+gr(n)+r;case 2:return e+gr(n)+r+gr(i)+o;case 3:return e+gr(n)+r+gr(i)+o+gr(l)+a;case 4:return e+gr(n)+r+gr(i)+o+gr(l)+a+gr(s)+u;case 5:return e+gr(n)+r+gr(i)+o+gr(l)+a+gr(s)+u+gr(c)+h;case 6:return e+gr(n)+r+gr(i)+o+gr(l)+a+gr(s)+u+gr(c)+h+gr(f)+d;case 7:return e+gr(n)+r+gr(i)+o+gr(l)+a+gr(s)+u+gr(c)+h+gr(f)+d+gr(p)+v;case 8:return e+gr(n)+r+gr(i)+o+gr(l)+a+gr(s)+u+gr(c)+h+gr(f)+d+gr(p)+v+gr(g)+m;case 9:return e+gr(n)+r+gr(i)+o+gr(l)+a+gr(s)+u+gr(c)+h+gr(f)+d+gr(p)+v+gr(g)+m+gr(y)+_;default:throw new Error("Does not support more than 9 expressions")}}function gr(t){return null!=t?t.toString():""}var mr=new Object,yr=Un(Se),_r=Un(St),br=Un(Lt);function wr(t,e,n,r){return n=bt(n),{index:-1,deps:rr(r,mt(e)),flags:t,token:e,value:n}}function Cr(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Se.THROW_IF_NOT_FOUND,o=At(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(i=null),1&e.flags)return t._parent.get(e.token,i);var l=e.tokenKey;switch(l){case yr:case _r:case br:return t}var a,s=t._def.providersByKey[l];if(s){var u=t._providers[s.index];return void 0===u&&(u=t._providers[s.index]=kr(t,s)),u===mr?void 0:u}if((a=vt(e.token))&&(n=t,null!=(r=a).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var c=t._providers.length;return t._def.providers[c]=t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:c,token:e.token},t._providers[c]=mr,t._providers[c]=kr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?i:t._parent.get(e.token,i)}finally{At(o)}}function kr(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(Cr(t,n[0]));case 2:return new e(Cr(t,n[0]),Cr(t,n[1]));case 3:return new e(Cr(t,n[0]),Cr(t,n[1]),Cr(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Cr(t,n[o]);return _construct(e,i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(Cr(t,n[0]));case 2:return e(Cr(t,n[0]),Cr(t,n[1]));case 3:return e(Cr(t,n[0]),Cr(t,n[1]),Cr(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Cr(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=Cr(t,e.deps[0]);break;case 256:n=e.value}return n===mr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?mr:n}function Er(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Vt(n,e),Fn.dirtyParentQueries(r),Ir(r),r}function Tr(t,e,n){var r=e?Jn(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);ar(n,2,i,o,void 0)}function Ir(t){ar(t,3,null,null,void 0)}var Sr=new Object;function xr(t,e,n,r,i,o){return new Or(t,e,n,r,i,o)}var Or=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,l,a){var s;return _classCallCheck(this,n),(s=e.call(this)).selector=t,s.componentType=r,s._inputs=o,s._outputs=l,s.ngContentSelectors=a,s.viewDefFactory=i,s}return _createClass(n,[{key:"create",value:function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=lr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,l=Fn.createRootView(t,e||[],n,i,r,Sr),a=Rn(l,o).instance;return n&&l.renderer.setAttribute(Dn(l,0).renderElement,"ng-version",an.full),new Pr(l,new Rr(l),a)}},{key:"inputs",get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t}},{key:"outputs",get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}}]),n}(Ge),Pr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._view=t,o._viewRef=r,o._component=i,o._elDef=o._view.def.nodes[0],o.hostView=r,o.changeDetectorRef=r,o.instance=i,o}return _createClass(n,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(t){this._viewRef.onDestroy(t)}},{key:"location",get:function(){return new tn(Dn(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new jr(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),n}(function(){return function t(){_classCallCheck(this,t)}}());function Nr(t,e,n){return new Ar(t,e,n)}var Ar=function(){function t(e,n,r){_classCallCheck(this,t),this._view=e,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(t,[{key:"clear",value:function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Er(this._data,t);Fn.destroyView(e)}}},{key:"get",value:function(t){var e=this._embeddedViews[t];if(e){var n=new Rr(e);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof Je||(i=o.get(Lt));var l=t.create(o,r,void 0,i);return this.insert(l.hostView,e),l}},{key:"insert",value:function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,l,a=t;return n=this._view,r=this._data,i=e,o=a._view,l=r.viewContainer._embeddedViews,null==i&&(i=l.length),o.viewContainerParent=n,jt(l,i,o),function(t,e){var n=Yn(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}(e.parent.def,e.parentNodeDef)}}(r,o),Fn.dirtyParentQueries(o),Tr(r,i>0?l[i-1]:null,o),a.attachToViewContainerRef(this),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,l,a=this._embeddedViews.indexOf(t._view);return n=this._data,r=a,i=e,o=n.viewContainer._embeddedViews,l=o[r],Vt(o,r),null==i&&(i=o.length),jt(o,i,l),Fn.dirtyParentQueries(l),Ir(l),Tr(n,i>0?o[i-1]:null,l),t}},{key:"indexOf",value:function(t){return this._embeddedViews.indexOf(t._view)}},{key:"remove",value:function(t){var e=Er(this._data,t);e&&Fn.destroyView(e)}},{key:"detach",value:function(t){var e=Er(this._data,t);return e?new Rr(e):null}},{key:"element",get:function(){return new tn(this._data.renderElement)}},{key:"injector",get:function(){return new jr(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Xn(t),t=t.parent;return t?new jr(t,e):new jr(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),t}();function Dr(t){return new Rr(t)}var Rr=function(){function t(e){_classCallCheck(this,t),this._view=e,this._viewContainerRef=null,this._appRef=null}return _createClass(t,[{key:"markForCheck",value:function(){Kn(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Fn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}},{key:"checkNoChanges",value:function(){Fn.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Fn.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Ir(this._view),Fn.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"rootNodes",get:function(){return ar(this._view,0,void 0,void 0,t=[]),t;var t}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),t}();function Mr(t,e){return new Lr(t,e)}var Lr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._parentView=t,i._def=r,i}return _createClass(n,[{key:"createEmbeddedView",value:function(t){return new Rr(Fn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}},{key:"elementRef",get:function(){return new tn(Dn(this._parentView,this._def.nodeIndex).renderElement)}}]),n}(kn);function Fr(t,e){return new jr(t,e)}var jr=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.elDef=n}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se.THROW_IF_NOT_FOUND;return Fn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Un(t)},e)}}]),t}();function Vr(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Dn(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return An(t,n.nodeIndex).renderText;if(20240&n.flags)return Rn(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(e))}function Ur(t){return new qr(t.renderer)}var qr=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"selectRootElement",value:function(t){return this.delegate.selectRootElement(t)}},{key:"createElement",value:function(t,e){var n=_slicedToArray(dr(e),2),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return t&&this.delegate.appendChild(t,o),o}},{key:"createViewRoot",value:function(t){return t}},{key:"createTemplateAnchor",value:function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}},{key:"createText",value:function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}},{key:"projectNodes",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}},{key:"attachViewAfter",value:function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}},{key:"detachView",value:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"listenGlobal",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"setElementProperty",value:function(t,e,n){this.delegate.setProperty(t,e,n)}},{key:"setElementAttribute",value:function(t,e,n){var r=_slicedToArray(dr(e),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)}},{key:"setBindingDebugInfo",value:function(t,e,n){}},{key:"setElementClass",value:function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}},{key:"setElementStyle",value:function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}},{key:"invokeElementMethod",value:function(t,e,n){t[e].apply(t,n)}},{key:"setText",value:function(t,e){this.delegate.setValue(t,e)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),t}();function Br(t,e,n,r){return new zr(t,e,n,r)}var zr=function(){function t(e,n,r,i){_classCallCheck(this,t),this._moduleType=e,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=kr(t,i))}}(this)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ft.Default,r=0;return n&ft.SkipSelf?r|=1:n&ft.Self&&(r|=4),Cr(this,{token:t,tokenKey:Un(t),flags:r},e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(mt(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==mr){var l=o.ngOnDestroy;"function"!=typeof l||r.has(o)||(l.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(t){return t()}))}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(Ye)}}]),t}(),Hr=Un((function t(){_classCallCheck(this,t)})),Wr=Un(on),Gr=Un(tn),Kr=Un(Tn),Qr=Un(kn),$r=Un(ke),Yr=Un(Se),Xr=Un(St);function Jr(t,e,n,r,i,o,l,a){var s=[];if(l)for(var u in l){var c=_slicedToArray(l[u],2),h=c[0],f=c[1];s[h]={flags:8,name:u,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(a)for(var p in a)d.push({type:1,propName:p,target:null,eventName:a[p]});return ei(t,e|=16384,n,r,i,i,o,s,d)}function Zr(t,e,n){return ei(-1,t|=16,null,0,e,e,n)}function ti(t,e,n,r,i){return ei(-1,t,e,0,n,r,i)}function ei(t,e,n,r,i,o,l,a,s){var u=nr(n),c=u.matchedQueries,h=u.references,f=u.matchedQueryIds;s||(s=[]),a||(a=[]),o=bt(o);var d=rr(l,mt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:pr(a),outputs:s,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function ni(t,e){return li(t,e)}function ri(t,e){for(var n=t;n.parent&&!tr(n);)n=n.parent;return ai(n.parent,Xn(n),!0,e.provider.value,e.provider.deps)}function ii(t,e){var n=ai(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!He(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var l=o.subscribe(oi(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=l.unsubscribe.bind(l)}return n}function oi(t,e,n){return function(r){return $n(t,e,n,r)}}function li(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return ai(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(ui(t,e,n,i[0]));case 2:return r(ui(t,e,n,i[0]),ui(t,e,n,i[1]));case 3:return r(ui(t,e,n,i[0]),ui(t,e,n,i[1]),ui(t,e,n,i[2]));default:for(var l=Array(o),a=0;a<o;a++)l[a]=ui(t,e,n,i[a]);return r.apply(void 0,l)}}(t,e.parent,n,r.value,r.deps);case 2048:return ui(t,e.parent,n,r.deps[0]);case 256:return r.value}}function ai(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(ui(t,e,n,i[0]));case 2:return new r(ui(t,e,n,i[0]),ui(t,e,n,i[1]));case 3:return new r(ui(t,e,n,i[0]),ui(t,e,n,i[1]),ui(t,e,n,i[2]));default:for(var l=new Array(o),a=0;a<o;a++)l[a]=ui(t,e,n,i[a]);return _construct(r,l)}}var si={};function ui(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Se.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var l=r.tokenKey;l===$r&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var a=t;a;){if(e)switch(l){case Hr:return Ur(ci(a,e,n));case Wr:return ci(a,e,n).renderer;case Gr:return new tn(Dn(a,e.nodeIndex).renderElement);case Kr:return Dn(a,e.nodeIndex).viewContainer;case Qr:if(e.element.template)return Dn(a,e.nodeIndex).template;break;case $r:return Dr(ci(a,e,n));case Yr:case Xr:return Fr(a,e);default:var s=(n?e.element.allProviders:e.element.publicProviders)[l];if(s){var u=Rn(a,s.nodeIndex);return u||(u={instance:li(a,s)},a.nodes[s.nodeIndex]=u),u.instance}}n=tr(a),e=Xn(a),a=a.parent,4&r.flags&&(a=null)}var c=o.root.injector.get(r.token,si);return c!==si||i===si?c:o.root.ngModule.injector.get(r.token,i)}function ci(t,e,n){var r;if(n)r=Dn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!tr(r);)r=r.parent;return r}function hi(t,e,n,r,i,o){if(32768&n.flags){var l=Dn(t,n.parent.nodeIndex).componentView;2&l.def.flags&&(l.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var a=Ue.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new We(a,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function fi(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],l=o.parent;for(!l&&o.flags&e&&pi(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);l&&1&l.flags&&i===l.nodeIndex+l.childCount;)l.directChildFlags&e&&(r=di(t,l,e,r)),l=l.parent}}function di(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&pi(t,i,o.flags&n,r++),i+=o.childCount}return r}function pi(t,e,n,r){var i=Rn(t,e);if(i){var o=i.instance;o&&(Fn.setCurrentNode(t,e),1048576&n&&Nn(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Nn(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var vi=new It("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return qt}}),gi={},mi=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),yi=void 0,_i=["en",[["a","p"],["AM","PM"],yi],[["AM","PM"],yi,yi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yi,"{1} 'at' {0}",yi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function bi(t){var e=t.toLowerCase().replace(/_/g,"-"),n=gi[e];if(n)return n;var r=e.split("-")[0];if(n=gi[r])return n;if("en"===r)return _i;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}var wi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},l=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(l=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(l=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var a=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,i,o,l);return t instanceof d&&t.add(a),a}}]),n}(P);function Ci(){return this._results[Fe()]()}var ki=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new wi,this.length=0;var e=Fe(),n=t.prototype;n[e]||(n[e]=Ci)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Ei=new It("Application Initializer"),Ti=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();ze(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}(),Ii=new It("AppId");function Si(){return"".concat(xi()).concat(xi()).concat(xi())}function xi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Oi=new It("Platform Initializer"),Pi=new It("Platform ID"),Ni=new It("appBootstrapListener"),Ai=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}(),Di=new It("LocaleId");function Ri(){throw new Error("Runtime compiler is not loaded")}var Mi,Li,Fi=Ri,ji=Ri,Vi=Ri,Ui=Ri,qi=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Fi,this.compileModuleAsync=ji,this.compileModuleAndAllComponentsSync=Vi,this.compileModuleAndAllComponentsAsync=Ui}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}(),Bi=function t(){_classCallCheck(this,t)};var zi,Hi=!(!(zi=Tt.wtf)||(Mi=zi.trace,!Mi)||(Li=Mi.events,0));function Wi(t,e){return null}var Gi=Hi?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Li.createScope(t,e)}:function(t,e){return Wi},Ki=Hi?function(t,e){return Mi.leaveScope(t,e),e}:function(t,e){return e},Qi=Promise.resolve(0);function $i(t){"undefined"==typeof Zone?Qi.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Yi=function(){function t(e){var n,r=e.enableLongStackTrace,i=void 0!==r&&r;if(_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wi(!1),this.onMicrotaskEmpty=new wi(!1),this.onStable=new wi(!1),this.onError=new wi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,r,i,o,l){try{return to(n),t.invokeTask(r,i,o,l)}finally{eo(n)}},onInvoke:function(t,e,r,i,o,l,a){try{return to(n),t.invoke(r,i,o,l,a)}finally{eo(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,Zi(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ji,Xi,Xi);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Xi(){}var Ji={};function Zi(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function to(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eo(t){t._nesting--,Zi(t)}var no,ro=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wi,this.onMicrotaskEmpty=new wi,this.onStable=new wi,this.onError=new wi}return _createClass(t,[{key:"run",value:function(t){return t()}},{key:"runGuarded",value:function(t){return t()}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t){return t()}}]),t}(),io=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Yi.assertNotInAngularZone(),$i((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())$i((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}(),oo=function(){function t(){_classCallCheck(this,t),this._applications=new Map,lo.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return lo.findTestabilityInTree(this,t,e)}}]),t}(),lo=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),ao=new It("AllowMultipleToken"),so=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function uo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new It(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=co();if(!o||o.injector.get(ao,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var l=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(no&&!no.destroyed&&!no.injector.get(ao,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");no=t.get(ho);var e=t.get(Oi,null);e&&e.forEach((function(t){return t()}))}(Se.create({providers:l,name:r}))}return function(t){var e=co();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function co(){return no&&!no.destroyed?no:null}var ho=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new ro:("zone.js"===n?void 0:n)||new Yi({enableLongStackTrace:Qt()}),o=[{provide:Yi,useValue:i}];return i.run((function(){var e=Se.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),l=n.injector.get(Wt,null);if(!l)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return go(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(t){l.handleError(t)}})})),function(t,e,i){try{var o=((l=n.injector.get(Ti)).runInitializers(),l.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return ze(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(a){throw e.runOutsideAngular((function(){return t.handleError(a)})),a}var l}(l,i)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=fo({},n);return function(t,e,n){return t.get(Bi).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(vo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(mt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function fo(t,e){return Array.isArray(e)?e.reduce(fo,t):Object.assign({},t,e)}var po,vo=((po=function(){function t(e,n,r,i,o,l){var a=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Qt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var s=new k((function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){t.next(a._stable),t.complete()}))})),u=new k((function(t){var e;a._zone.runOutsideAngular((function(){e=a._zone.onStable.subscribe((function(){Yi.assertNotInAngularZone(),$i((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){Yi.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return A(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof k?e[0]:Z(r)(K(e,i))}(s,u.pipe((function(t){return tt()((e=lt,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,it);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Ge?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof Je?null:this._injector.get(Lt),o=n.create(Se.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var l=o.injector.get(io,null);return l&&o.injector.get(oo).registerApplication(o.location.nativeElement,l),this._loadComponent(o),Qt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0;var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.detectChanges()}catch(a){i.e(a)}finally{i.f()}if(this._enforceNoNewChanges){var o,l=_createForOfIteratorHelper(this._views);try{for(l.s();!(o=l.n()).done;)o.value.checkNoChanges()}catch(a){l.e(a)}finally{l.f()}}}catch(s){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1,Ki(n)}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;go(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ni,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),go(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}())._tickScope=Gi("ApplicationRef#tick()"),po);function go(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var mo=function t(){_classCallCheck(this,t)},yo=function t(){_classCallCheck(this,t)},_o={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},bo=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||_o}return _createClass(t,[{key:"load",value:function(t){return this._compiler instanceof qi?this.loadFactory(t):this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return wo(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return wo(t,r,i)}))}}]),t}();function wo(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Co=function t(e,n){_classCallCheck(this,t),this.name=e,this.callback=n},ko=function(){function t(e,n,r){_classCallCheck(this,t),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=e,n&&n instanceof Eo&&n.addChild(this)}return _createClass(t,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),t}(),Eo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r,i)).properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=t,o}return _createClass(n,[{key:"addChild",value:function(t){t&&(this.childNodes.push(t),t.parent=this)}},{key:"removeChild",value:function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}},{key:"insertChildrenAfter",value:function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray(e))),e.forEach((function(e){e.parent&&e.parent.removeChild(e),t.parent=r})))}},{key:"insertBefore",value:function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}},{key:"query",value:function(t){return this.queryAll(t)[0]||null}},{key:"queryAll",value:function(t){var e=[];return function t(e,r,i){e.childNodes.forEach((function(e){e instanceof n&&(r(e)&&i.push(e),t(e,r,i))}))}(this,t,e),e}},{key:"queryAllNodes",value:function(t){var e=[];return function t(e,r,i){e instanceof n&&e.childNodes.forEach((function(e){r(e)&&i.push(e),e instanceof n&&t(e,r,i)}))}(this,t,e),e}},{key:"triggerEventHandler",value:function(t,e){this.listeners.forEach((function(n){n.name==t&&n.callback(e)}))}},{key:"children",get:function(){return this.childNodes.filter((function(t){return t instanceof n}))}}]),n}(ko),To=new Map,Io=function(t){return To.get(t)||null};function So(t){To.set(t.nativeNode,t)}var xo=uo(null,"core",[{provide:Pi,useValue:"unknown"},{provide:ho,deps:[Se]},{provide:oo,deps:[]},{provide:Ai,deps:[]}]);function Oo(){return wn}function Po(){return Cn}function No(t){return t||"en-US"}function Ao(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}var Do=function t(e){_classCallCheck(this,t)};function Ro(t,e,n,r,i,o){t|=1;var l=nr(e),a=l.matchedQueries,s=l.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:l.matchedQueryIds,references:s,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?lr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||jn},provider:null,text:null,query:null,ngContent:null}}function Mo(t,e,n,r,i,o){var l,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;c||(c=jn);var d=nr(n),p=d.matchedQueries,v=d.references,g=d.matchedQueryIds,m=null,y=null;o&&(m=(l=_slicedToArray(dr(o),2))[0],y=l[1]),s=s||[];for(var _=new Array(s.length),b=0;b<s.length;b++){var w=_slicedToArray(s[b],3),C=w[0],k=w[1],E=w[2],T=dr(k),I=_slicedToArray(T,2),S=I[0],x=I[1],O=void 0,P=void 0;switch(15&C){case 4:P=E;break;case 1:case 8:O=E}_[b]={flags:C,ns:S,name:x,nonMinifiedName:x,securityContext:O,suffix:P}}u=u||[];for(var N=new Array(u.length),A=0;A<u.length;A++){var D=_slicedToArray(u[A],2),R=D[0],M=D[1];N[A]={type:0,target:R,eventName:M,propName:null}}var L=(a=a||[]).map((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=_slicedToArray(dr(n),2);return[i[0],i[1],r]}));return f=function(t){if(t&&"$$undefined"===t.id){var e=null!=t.encapsulation&&t.encapsulation!==Ut.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c".concat(zn++):"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:g,references:v,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:pr(_),outputs:N,element:{ns:m,name:y,attrs:L,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||jn},provider:null,text:null,query:null,ngContent:null}}function Lo(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,l=t.renderer;if(t.parent||!o){r=i.name?l.createElement(i.name,i.ns):l.createComment("");var a=ir(t,e,n);a&&l.appendChild(a,r)}else r=l.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===Ut.ShadowDom);if(i.attrs)for(var s=0;s<i.attrs.length;s++){var u=_slicedToArray(i.attrs[s],3),c=u[0],h=u[1],f=u[2];l.setAttribute(r,h,f,c)}return r}function Fo(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],l=jo(t,n.nodeIndex,Zn(o.target,o.eventName)),a=o.target,s=t;"component"===o.target&&(a=null,s=e);var u=s.renderer.listen(a||r,o.eventName,l);t.disposables[n.outputIndex+i]=u}}function jo(t,e,n){return function(r){return $n(t,e,n,r)}}function Vo(t,e,n,r){if(!Wn(t,e,n,r))return!1;var i=e.bindings[n],o=Dn(t,e.nodeIndex),l=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var l=e.securityContext,a=l?t.root.sanitizer.sanitize(l,o):o;a=null!=a?a.toString():null;var s=t.renderer;null!=o?s.setAttribute(n,i,a,r):s.removeAttribute(n,i,r)}(t,i,l,i.ns,a,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,l,a,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(ge.STYLE,i);if(null!=o){o=o.toString();var l=e.suffix;null!=l&&(o+=l)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}(t,i,l,a,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,l=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,l)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,l,a,r)}return!0}function Uo(t){for(var e=t.def.nodeMatchedQueries;t.parent&&er(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var o=t.def.nodes[i];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Ln(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&t.def.nodeFlags)for(var l=0;l<t.def.nodes.length;l++){var a=t.def.nodes[l];134217728&a.flags&&536870912&a.flags&&Ln(t,l).setDirty(),l+=a.childCount}}function qo(t,e){var n=Ln(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Bo(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=Rn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Bo(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var l=e.query.bindings,a=!1,s=0;s<l.length;s++){var u=l[s],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,a=!0}r[u.propName]=c}a&&n.notifyOnChanges()}}function Bo(t,e,n,r,i){for(var o=e;o<=n;o++){var l=t.def.nodes[o],a=l.matchedQueries[r.id];if(null!=a&&i.push(zo(t,l,a)),1&l.flags&&l.element.template&&(l.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var s=Dn(t,o);if((l.childMatchedQueries&r.filterId)===r.filterId&&(Bo(t,o+1,o+l.childCount,r,i),o+=l.childCount),16777216&l.flags)for(var u=s.viewContainer._embeddedViews,c=0;c<u.length;c++){var h=u[c],f=Yn(h);f&&f===s&&Bo(h,0,h.def.nodes.length-1,r,i)}var d=s.template._projectedViews;if(d)for(var p=0;p<d.length;p++){var v=d[p];Bo(v,0,v.def.nodes.length-1,r,i)}}(l.childMatchedQueries&r.filterId)!==r.filterId&&(o+=l.childCount)}return i}function zo(t,e,n){if(null!=n)switch(n){case 1:return Dn(t,e.nodeIndex).renderElement;case 0:return new tn(Dn(t,e.nodeIndex).renderElement);case 2:return Dn(t,e.nodeIndex).template;case 3:return Dn(t,e.nodeIndex).viewContainer;case 4:return Rn(t,e.nodeIndex).instance}}function Ho(t,e,n){var r=ir(t,e,n);r&&ur(t,n.ngContent.index,1,r,null,void 0)}function Wo(t,e){return Qo(128,t,new Array(e+1))}function Go(t,e){return Qo(32,t,new Array(e))}function Ko(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var l=n[o];i[e[l]]=l}return Qo(64,t,i)}function Qo(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:pr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function $o(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Yo(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=ir(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Xo(t,e){return(null!=t?t.toString():"")+e.suffix}function Jo(t,e,n,r){for(var i=0,o=0,l=0,a=0,s=0,u=null,c=null,h=!1,f=!1,d=null,p=0;p<e.length;p++){var v=e[p];if(v.nodeIndex=p,v.parent=u,v.bindingIndex=i,v.outputIndex=o,v.renderParent=c,l|=v.flags,s|=v.matchedQueryIds,v.element){var g=v.element;g.publicProviders=u?u.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,f=!1,v.element.template&&(s|=v.element.template.nodeMatchedQueries)}if(tl(u,v,e.length),i+=v.bindings.length,o+=v.outputs.length,!c&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var m=0!=(32768&v.flags);0==(8192&v.flags)||m?u.element.publicProviders[Un(v.provider.token)]=v:(f||(f=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Un(v.provider.token)]=v),m&&(u.element.componentProvider=v)}if(u?(u.childFlags|=v.flags,u.directChildFlags|=v.flags,u.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(u.childMatchedQueries|=v.element.template.nodeMatchedQueries)):a|=v.flags,v.childCount>0)u=v,Zo(v)||(c=v);else for(;u&&p===u.nodeIndex+u.childCount;){var y=u.parent;y&&(y.childFlags|=u.childFlags,y.childMatchedQueries|=u.childMatchedQueries),c=(u=y)&&Zo(u)?u.renderParent:u}}return{factory:null,nodeFlags:l,rootNodeFlags:a,nodeMatchedQueries:s,flags:t,nodes:e,updateDirectives:n||jn,updateRenderer:r||jn,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function Zo(t){return 0!=(1&t.flags)&&null===t.element.name}function tl(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(e.nodeIndex,"!"))}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(e.nodeIndex,"!"));if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(e.nodeIndex,"!"));if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(e.nodeIndex,"!"))}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(e.nodeIndex,"!"))}}function el(t,e,n,r){var i=il(t.root,t.renderer,t,e,n);return ol(i,t.component,r),ll(i),i}function nl(t,e,n){var r=il(t,t.renderer,null,null,e);return ol(r,n,n),ll(r),r}function rl(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,il(t.root,i,t,e.element.componentProvider,n)}function il(t,e,n,r,i){var o=new Array(i.nodes.length),l=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:l,initIndex:-1}}function ol(t,e,n){t.component=e,t.context=n}function ll(t){var e;tr(t)&&(e=Dn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],l=void 0;switch(Fn.setCurrentNode(t,i),201347067&o.flags){case 1:var a=Lo(t,e,o),s=void 0;if(33554432&o.flags){var u=lr(o.element.componentView);s=Fn.createComponentView(t,o,u,a)}Fo(t,s,o,a),l={renderElement:a,componentView:s,viewContainer:null,template:o.element.template?Mr(t,o):void 0},16777216&o.flags&&(l.viewContainer=Nr(t,o,l));break;case 2:l=Yo(t,e,o);break;case 512:case 1024:case 2048:case 256:(l=r[i])||4096&o.flags||(l={instance:ni(t,o)});break;case 16:l={instance:ri(t,o)};break;case 16384:(l=r[i])||(l={instance:ii(t,o)}),32768&o.flags&&ol(Dn(t,o.parent.nodeIndex).componentView,l.instance,l.instance);break;case 32:case 64:case 128:l={value:void 0};break;case 67108864:case 134217728:l=new ki;break;case 8:Ho(t,e,o),l=void 0}r[i]=l}vl(t,pl.CreateViewNodes),_l(t,201326592,268435456,0)}function al(t){cl(t),Fn.updateDirectives(t,1),gl(t,pl.CheckNoChanges),Fn.updateRenderer(t,1),vl(t,pl.CheckNoChanges),t.state&=-97}function sl(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Pn(t,0,256),cl(t),Fn.updateDirectives(t,0),gl(t,pl.CheckAndUpdate),_l(t,67108864,536870912,0);var e=Pn(t,256,512);fi(t,2097152|(e?1048576:0)),Fn.updateRenderer(t,0),vl(t,pl.CheckAndUpdate),_l(t,134217728,536870912,0),fi(t,8388608|((e=Pn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Pn(t,768,1024)}function ul(t,e,n,r,i,o,l,a,s,u,c,h,f){return 0===n?function(t,e,n,r,i,o,l,a,s,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,l,a,s,u,c,h){var f=e.bindings.length,d=!1;return f>0&&Vo(t,e,0,n)&&(d=!0),f>1&&Vo(t,e,1,r)&&(d=!0),f>2&&Vo(t,e,2,i)&&(d=!0),f>3&&Vo(t,e,3,o)&&(d=!0),f>4&&Vo(t,e,4,l)&&(d=!0),f>5&&Vo(t,e,5,a)&&(d=!0),f>6&&Vo(t,e,6,s)&&(d=!0),f>7&&Vo(t,e,7,u)&&(d=!0),f>8&&Vo(t,e,8,c)&&(d=!0),f>9&&Vo(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,o,l,a,s,u,c,h);case 2:return function(t,e,n,r,i,o,l,a,s,u,c,h){var f=!1,d=e.bindings,p=d.length;if(p>0&&Wn(t,e,0,n)&&(f=!0),p>1&&Wn(t,e,1,r)&&(f=!0),p>2&&Wn(t,e,2,i)&&(f=!0),p>3&&Wn(t,e,3,o)&&(f=!0),p>4&&Wn(t,e,4,l)&&(f=!0),p>5&&Wn(t,e,5,a)&&(f=!0),p>6&&Wn(t,e,6,s)&&(f=!0),p>7&&Wn(t,e,7,u)&&(f=!0),p>8&&Wn(t,e,8,c)&&(f=!0),p>9&&Wn(t,e,9,h)&&(f=!0),f){var v=e.text.prefix;p>0&&(v+=Xo(n,d[0])),p>1&&(v+=Xo(r,d[1])),p>2&&(v+=Xo(i,d[2])),p>3&&(v+=Xo(o,d[3])),p>4&&(v+=Xo(l,d[4])),p>5&&(v+=Xo(a,d[5])),p>6&&(v+=Xo(s,d[6])),p>7&&(v+=Xo(u,d[7])),p>8&&(v+=Xo(c,d[8])),p>9&&(v+=Xo(h,d[9]));var g=An(t,e.nodeIndex).renderText;t.renderer.setValue(g,v)}return f}(t,e,n,r,i,o,l,a,s,u,c,h);case 16384:return function(t,e,n,r,i,o,l,a,s,u,c,h){var f=Rn(t,e.nodeIndex),d=f.instance,p=!1,v=void 0,g=e.bindings.length;return g>0&&Hn(t,e,0,n)&&(p=!0,v=hi(t,f,e,0,n,v)),g>1&&Hn(t,e,1,r)&&(p=!0,v=hi(t,f,e,1,r,v)),g>2&&Hn(t,e,2,i)&&(p=!0,v=hi(t,f,e,2,i,v)),g>3&&Hn(t,e,3,o)&&(p=!0,v=hi(t,f,e,3,o,v)),g>4&&Hn(t,e,4,l)&&(p=!0,v=hi(t,f,e,4,l,v)),g>5&&Hn(t,e,5,a)&&(p=!0,v=hi(t,f,e,5,a,v)),g>6&&Hn(t,e,6,s)&&(p=!0,v=hi(t,f,e,6,s,v)),g>7&&Hn(t,e,7,u)&&(p=!0,v=hi(t,f,e,7,u,v)),g>8&&Hn(t,e,8,c)&&(p=!0,v=hi(t,f,e,8,c,v)),g>9&&Hn(t,e,9,h)&&(p=!0,v=hi(t,f,e,9,h,v)),v&&d.ngOnChanges(v),65536&e.flags&&Nn(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,o,l,a,s,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,l,a,s,u,c,h){var f=e.bindings,d=!1,p=f.length;if(p>0&&Wn(t,e,0,n)&&(d=!0),p>1&&Wn(t,e,1,r)&&(d=!0),p>2&&Wn(t,e,2,i)&&(d=!0),p>3&&Wn(t,e,3,o)&&(d=!0),p>4&&Wn(t,e,4,l)&&(d=!0),p>5&&Wn(t,e,5,a)&&(d=!0),p>6&&Wn(t,e,6,s)&&(d=!0),p>7&&Wn(t,e,7,u)&&(d=!0),p>8&&Wn(t,e,8,c)&&(d=!0),p>9&&Wn(t,e,9,h)&&(d=!0),d){var v,g=Mn(t,e.nodeIndex);switch(201347067&e.flags){case 32:v=new Array(f.length),p>0&&(v[0]=n),p>1&&(v[1]=r),p>2&&(v[2]=i),p>3&&(v[3]=o),p>4&&(v[4]=l),p>5&&(v[5]=a),p>6&&(v[6]=s),p>7&&(v[7]=u),p>8&&(v[8]=c),p>9&&(v[9]=h);break;case 64:v={},p>0&&(v[f[0].name]=n),p>1&&(v[f[1].name]=r),p>2&&(v[f[2].name]=i),p>3&&(v[f[3].name]=o),p>4&&(v[f[4].name]=l),p>5&&(v[f[5].name]=a),p>6&&(v[f[6].name]=s),p>7&&(v[f[7].name]=u),p>8&&(v[f[8].name]=c),p>9&&(v[f[9].name]=h);break;case 128:var m=n;switch(p){case 1:v=m.transform(n);break;case 2:v=m.transform(r);break;case 3:v=m.transform(r,i);break;case 4:v=m.transform(r,i,o);break;case 5:v=m.transform(r,i,o,l);break;case 6:v=m.transform(r,i,o,l,a);break;case 7:v=m.transform(r,i,o,l,a,s);break;case 8:v=m.transform(r,i,o,l,a,s,u);break;case 9:v=m.transform(r,i,o,l,a,s,u,c);break;case 10:v=m.transform(r,i,o,l,a,s,u,c,h)}}g.value=v}return d}(t,e,n,r,i,o,l,a,s,u,c,h);default:throw"unreachable"}}(t,e,r,i,o,l,a,s,u,c,h,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)Vo(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Wn(t,e,o,n[o])&&(i=!0);if(i){for(var l="",a=0;a<n.length;a++)l+=Xo(n[a],r[a]);l=e.text.prefix+l;var s=An(t,e.nodeIndex).renderText;t.renderer.setValue(s,l)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=Rn(t,e.nodeIndex),i=r.instance,o=!1,l=void 0,a=0;a<n.length;a++)Hn(t,e,a,n[a])&&(o=!0,l=hi(t,r,e,a,n[a],l));return l&&i.ngOnChanges(l),65536&e.flags&&Nn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Wn(t,e,o,n[o])&&(i=!0);if(i){var l,a=Mn(t,e.nodeIndex);switch(201347067&e.flags){case 32:l=n;break;case 64:l={};for(var s=0;s<n.length;s++)l[r[s].name]=n[s];break;case 128:var u=n[0],c=n.slice(1);l=u.transform.apply(u,_toConsumableArray(c))}a.value=l}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function cl(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Dn(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var l=i[o];l.state|=32,Qn(l,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function hl(t,e,n,r,i,o,l,a,s,u,c,h,f){return 0===n?function(t,e,n,r,i,o,l,a,s,u,c,h){var f=e.bindings.length;f>0&&Gn(t,e,0,n),f>1&&Gn(t,e,1,r),f>2&&Gn(t,e,2,i),f>3&&Gn(t,e,3,o),f>4&&Gn(t,e,4,l),f>5&&Gn(t,e,5,a),f>6&&Gn(t,e,6,s),f>7&&Gn(t,e,7,u),f>8&&Gn(t,e,8,c),f>9&&Gn(t,e,9,h)}(t,e,r,i,o,l,a,s,u,c,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Gn(t,e,r,n[r])}(t,e,r),!1}function fl(t,e){if(Ln(t,e.nodeIndex).dirty)throw Sn(Fn.createDebugContext(t,e.nodeIndex),"Query ".concat(e.query.id," not dirty"),"Query ".concat(e.query.id," dirty"),0!=(1&t.state))}function dl(t){if(!(128&t.state)){if(gl(t,pl.Destroy),vl(t,pl.Destroy),fi(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Yn(t);if(e){var n=e.template._projectedViews;n&&(Vt(n,n.indexOf(t)),Fn.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Dn(t,n).renderElement):2&r.flags?t.renderer.destroyNode(An(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Ln(t,n).destroy()}}(t),tr(t)&&t.renderer.destroy(),t.state|=128}}var pl=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function vl(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?ml(Dn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function gl(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Dn(t,r).viewContainer._embeddedViews,l=0;l<o.length;l++)ml(o[l],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function ml(t,e){var n=t.state;switch(e){case pl.CheckNoChanges:0==(128&n)&&(12==(12&n)?al(t):64&n&&yl(t,pl.CheckNoChangesProjectedViews));break;case pl.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?al(t):64&n&&yl(t,e));break;case pl.CheckAndUpdate:0==(128&n)&&(12==(12&n)?sl(t):64&n&&yl(t,pl.CheckAndUpdateProjectedViews));break;case pl.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?sl(t):64&n&&yl(t,e));break;case pl.Destroy:dl(t);break;case pl.CreateViewNodes:ll(t)}}function yl(t,e){gl(t,e),vl(t,e)}function _l(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var l=t.def.nodes[o];if(l.flags&e&&l.flags&n)switch(Fn.setCurrentNode(t,l.nodeIndex),r){case 0:qo(t,l);break;case 1:fl(t,l)}l.childFlags&e&&l.childFlags&n||(o+=l.childCount)}}var bl=!1;function wl(t,e,n,r,i,o){var l=i.injector.get(nn);return nl(kl(t,i,l,e,n),r,o)}function Cl(t,e,n,r,i,o){var l=i.injector.get(nn),a=kl(t,i,new ea(l),e,n),s=Dl(r);return Zl(Bl.create,nl,null,[a,s,o])}function kl(t,e,n,r,i){var o=e.injector.get(me),l=e.injector.get(Wt),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:l}}function El(t,e,n,r){var i=Dl(n);return Zl(Bl.create,el,null,[t,e,i,r])}function Tl(t,e,n,r){return n=Ol.get(e.element.componentProvider.provider.token)||Dl(n),Zl(Bl.create,rl,null,[t,e,n,r])}function Il(t,e,n,r){return Br(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Sl.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach((function(t){var r=Sl.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)})),t.modules.forEach((function(t){xl.forEach((function(r,i){vt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)}))})),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasOverrides,r=e.hasDeprecatedOverrides;return n?(function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];r&&(n.flags|=4096);var i=Sl.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=rr(i.deps),n.value=i.value)}if(xl.size>0){var o=new Set(t.modules);xl.forEach((function(e,n){if(o.has(vt(n).providedIn)){var i={token:n,flags:e.flags|(r?4096:0),deps:rr(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[Un(n)]=i}}))}}(t=t.factory((function(){return jn}))),t):t}(r))}var Sl=new Map,xl=new Map,Ol=new Map;function Pl(t){var e;Sl.set(t.token,t),"function"==typeof t.token&&(e=vt(t.token))&&"function"==typeof e.providedIn&&xl.set(t.token,t)}function Nl(t,e){var n=lr(e.viewDefFactory),r=lr(n.nodes[0].element.componentView);Ol.set(t,r)}function Al(){Sl.clear(),xl.clear(),Ol.clear()}function Dl(t){if(0===Sl.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Sl.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory((function(){return jn}));for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Sl.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=rr(o.deps),i.value=o.value)}}}}function Rl(t,e,n,r,i,o,l,a,s,u,c,h,f){var d=t.def.nodes[e];return ul(t,d,n,r,i,o,l,a,s,u,c,h,f),224&d.flags?Mn(t,e).value:void 0}function Ml(t,e,n,r,i,o,l,a,s,u,c,h,f){var d=t.def.nodes[e];return hl(t,d,n,r,i,o,l,a,s,u,c,h,f),224&d.flags?Mn(t,e).value:void 0}function Ll(t){return Zl(Bl.detectChanges,sl,null,[t])}function Fl(t){return Zl(Bl.checkNoChanges,al,null,[t])}function jl(t){return Zl(Bl.destroy,dl,null,[t])}var Vl,Ul,ql,Bl=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function zl(t,e){Ul=t,ql=e}function Hl(t,e,n,r){return zl(t,e),Zl(Bl.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Wl(t,e){if(128&t.state)throw On(Bl[Vl]);return zl(t,$l(t,0)),t.def.updateDirectives((function(t,n,r){for(var i=t.def.nodes[n],o=arguments.length,l=new Array(o>3?o-3:0),a=3;a<o;a++)l[a-3]=arguments[a];return 0===e?Kl(t,i,r,l):Ql(t,i,r,l),16384&i.flags&&zl(t,$l(t,n)),224&i.flags?Mn(t,i.nodeIndex).value:void 0}),t)}function Gl(t,e){if(128&t.state)throw On(Bl[Vl]);return zl(t,Yl(t,0)),t.def.updateRenderer((function(t,n,r){for(var i=t.def.nodes[n],o=arguments.length,l=new Array(o>3?o-3:0),a=3;a<o;a++)l[a-3]=arguments[a];return 0===e?Kl(t,i,r,l):Ql(t,i,r,l),3&i.flags&&zl(t,Yl(t,n)),224&i.flags?Mn(t,i.nodeIndex).value:void 0}),t)}function Kl(t,e,n,r){if(ul.apply(void 0,[t,e,n].concat(_toConsumableArray(r)))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},l=0;l<e.bindings.length;l++){var a=e.bindings[l],s=i[l];8&a.flags&&(o[be(a.nonMinifiedName)]=Ce(s))}var u=e.parent,c=Dn(t,u.nodeIndex).renderElement;if(u.element.name)for(var h in o){var f=o[h];null!=f?t.renderer.setAttribute(c,h,f):t.renderer.removeAttribute(c,h)}else t.renderer.setValue(c,"bindings=".concat(JSON.stringify(o,null,2)))}}}function Ql(t,e,n,r){hl.apply(void 0,[t,e,n].concat(_toConsumableArray(r)))}function $l(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Yl(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Xl=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=e.def.nodes[n];for(var r=this.nodeDef,i=e;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=Xn(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass(t,[{key:"logError",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i,o;2&this.nodeDef.flags?(i=this.view.def,o=this.nodeDef.nodeIndex):(i=this.elView.def,o=this.elDef.nodeIndex);var l=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(i,o),a=-1;i.factory((function(){var e;return++a===l?(e=t.error).bind.apply(e,[t].concat(n)):jn})),a<l&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,n))}},{key:"elOrCompView",get:function(){return Dn(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return Fr(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}},{key:"references",get:function(){var t={};if(this.elDef){Jl(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Jl(this.elView,n,t),e+=n.childCount}}return t}},{key:"componentRenderElement",get:function(){var t=function(t){for(;t&&!tr(t);)t=t.parent;return t.parent?Dn(t.parent,Xn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?Jn(this.view,this.nodeDef):Jn(this.elView,this.elDef)}}]),t}();function Jl(t,e,n){for(var r in e.references)n[r]=zo(t,e,e.references[r])}function Zl(t,e,n,r){var i,o,l=Vl,a=Ul,s=ql;try{Vl=t;var u=e.apply(n,r);return Ul=a,ql=s,Vl=l,u}catch(c){if(Bt(c)||!Ul)throw c;throw i=c,o=ta(),i instanceof Error||(i=new Error(i.toString())),xn(i,o),i}}function ta(){return Ul?new Xl(Ul,ql):null}var ea=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"createRenderer",value:function(t,e){return new na(this.delegate.createRenderer(t,e))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),t}(),na=function(){function t(e){_classCallCheck(this,t),this.delegate=e,this.debugContextFactory=ta,this.data=this.delegate.data}return _createClass(t,[{key:"createDebugContext",value:function(t){return this.debugContextFactory(t)}},{key:"destroyNode",value:function(t){var e=Io(t);!function(t){To.delete(t.nativeNode)}(e),e instanceof ko&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new Eo(n,null,r);i.name=t,So(i)}return n}},{key:"createComment",value:function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&So(new ko(e,null,n)),e}},{key:"createText",value:function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&So(new ko(e,null,n)),e}},{key:"appendChild",value:function(t,e){var n=Io(t),r=Io(e);n&&r&&n instanceof Eo&&n.addChild(r),this.delegate.appendChild(t,e)}},{key:"insertBefore",value:function(t,e,n){var r=Io(t),i=Io(e),o=Io(n);r&&i&&r instanceof Eo&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}},{key:"removeChild",value:function(t,e){var n=Io(t),r=Io(e);n&&r&&n instanceof Eo&&n.removeChild(r),this.delegate.removeChild(t,e)}},{key:"selectRootElement",value:function(t,e){var n=this.delegate.selectRootElement(t,e),r=ta();return r&&So(new Eo(n,null,r)),n}},{key:"setAttribute",value:function(t,e,n,r){var i=Io(t);i&&i instanceof Eo&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){var r=Io(t);r&&r instanceof Eo&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){var n=Io(t);n&&n instanceof Eo&&(n.classes[e]=!0),this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){var n=Io(t);n&&n instanceof Eo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){var i=Io(t);i&&i instanceof Eo&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){var r=Io(t);r&&r instanceof Eo&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){var r=Io(t);r&&r instanceof Eo&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){if("string"!=typeof t){var r=Io(t);r&&r.listeners.push(new Co(e,n))}return this.delegate.listen(t,e,n)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setValue",value:function(t,e){return this.delegate.setValue(t,e)}}]),t}();var ra=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).moduleType=t,o._bootstrapComponents=r,o._ngModuleDefFactory=i,o}return _createClass(n,[{key:"create",value:function(t){!function(){if(!bl){bl=!0;var t=Qt()?{setCurrentNode:zl,createRootView:Cl,createEmbeddedView:El,createComponentView:Tl,createNgModuleRef:Il,overrideProvider:Pl,overrideComponentView:Nl,clearOverrides:Al,checkAndUpdateView:Ll,checkNoChangesView:Fl,destroyView:jl,createDebugContext:function(t,e){return new Xl(t,e)},handleEvent:Hl,updateDirectives:Wl,updateRenderer:Gl}:{setCurrentNode:function(){},createRootView:wl,createEmbeddedView:el,createComponentView:rl,createNgModuleRef:Br,overrideProvider:jn,overrideComponentView:jn,clearOverrides:jn,checkAndUpdateView:sl,checkNoChangesView:al,destroyView:dl,createDebugContext:function(t,e){return new Xl(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Rl:Ml,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Rl:Ml,t)}};Fn.setCurrentNode=t.setCurrentNode,Fn.createRootView=t.createRootView,Fn.createEmbeddedView=t.createEmbeddedView,Fn.createComponentView=t.createComponentView,Fn.createNgModuleRef=t.createNgModuleRef,Fn.overrideProvider=t.overrideProvider,Fn.overrideComponentView=t.overrideComponentView,Fn.clearOverrides=t.clearOverrides,Fn.checkAndUpdateView=t.checkAndUpdateView,Fn.checkNoChangesView=t.checkNoChangesView,Fn.destroyView=t.destroyView,Fn.resolveDep=ui,Fn.createDebugContext=t.createDebugContext,Fn.handleEvent=t.handleEvent,Fn.updateDirectives=t.updateDirectives,Fn.updateRenderer=t.updateRenderer,Fn.dirtyParentQueries=Uo}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(lr(this._ngModuleDefFactory));return Fn.createNgModuleRef(this.moduleType,t||Se.NULL,this._bootstrapComponents,e)}}]),n}(Ft),ia={production:!0,firebaseConfig:{apiKey:"AIzaSyDD5kKr9o7fQ1fZj-sWPDQDaSd7bKqmCZ4",authDomain:"drops-70b54.firebaseapp.com",databaseURL:"https://drops-70b54.firebaseio.com",projectId:"drops-70b54",storageBucket:"drops-70b54.appspot.com",messagingSenderId:"953153429406",appId:"1:953153429406:web:814629d7008eac0313c08f",measurementId:"G-368KYHLPBB"},userImages:["https://pipeline.mediumra.re/assets/img/avatar-female-1.jpg","https://pipeline.mediumra.re/assets/img/avatar-male-1.jpg","https://pipeline.mediumra.re/assets/img/avatar-female-2.jpg","https://pipeline.mediumra.re/assets/img/avatar-male-2.jpg","https://pipeline.mediumra.re/assets/img/avatar-female-3.jpg","https://pipeline.mediumra.re/assets/img/avatar-male-3.jpg","https://pipeline.mediumra.re/assets/img/avatar-female-4.jpg","https://pipeline.mediumra.re/assets/img/avatar-female-3.jpg","https://pipeline.mediumra.re/assets/img/avatar-male-3.jpg","https://pipeline.mediumra.re/assets/img/avatar-female-4.jpg"]},oa=n("iqUP"),la=function t(){_classCallCheck(this,t),oa.initializeApp(ia.firebaseConfig)},aa=function(){function t(){_classCallCheck(this,t),this.title="teams-ms"}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),sa=function t(){_classCallCheck(this,t)},ua=new It("Location Initialized"),ca=function t(){_classCallCheck(this,t)},ha=new It("appBaseHref"),fa=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._subject=new wi,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(da(i)),this._platformStrategy.onPopState((function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+t.normalizeQueryParams(n))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,da(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}},{key:"replaceState",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}],[{key:"normalizeQueryParams",value:function(t){return t&&"?"!==t[0]?"?"+t:t}},{key:"joinWithSlash",value:function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}},{key:"stripTrailingSlash",value:function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}]),t}();function da(t){return t.replace(/\/index.html$/,"")}var pa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=fa.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+fa.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+fa.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(ca),va=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return fa.joinWithSlash(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+fa.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+fa.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+fa.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(ca),ga=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),ma=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),ya=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),_a=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),ba=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function wa(t,e){return Ia(bi(t)[mi.DateFormat],e)}function Ca(t,e){return Ia(bi(t)[mi.TimeFormat],e)}function ka(t,e){return Ia(bi(t)[mi.DateTimeFormat],e)}function Ea(t,e){var n=bi(t),r=n[mi.NumberSymbols][e];if(void 0===r){if(e===ba.CurrencyDecimal)return n[mi.NumberSymbols][ba.Decimal];if(e===ba.CurrencyGroup)return n[mi.NumberSymbols][ba.Group]}return r}function Ta(t){if(!t[mi.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[mi.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Ia(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Sa(t){var e=_slicedToArray(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var xa=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Oa={},Pa=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Na=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Aa=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),Da=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Ra(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Ma(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var l=String(t);l.length<e;)l="0"+l;return r&&(l=l.substr(l.length-e)),o+l}function La(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,l){var a,s=function(t,e){switch(t){case Aa.FullYear:return e.getFullYear();case Aa.Month:return e.getMonth();case Aa.Date:return e.getDate();case Aa.Hours:return e.getHours();case Aa.Minutes:return e.getMinutes();case Aa.Seconds:return e.getSeconds();case Aa.FractionalSeconds:return e.getMilliseconds();case Aa.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,o);if((n>0||s>-n)&&(s+=n),t===Aa.Hours)0===s&&-12===n&&(s=12);else if(t===Aa.FractionalSeconds)return a=e,Ma(s,3).substr(0,a);var u=Ea(l,ba.MinusSign);return Ma(s,e,u,r,i)}}function Fa(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ma.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(t,e,n,r,i,o){switch(n){case Da.Months:return function(t,e,n){var r=bi(t),i=Ia([r[mi.MonthsFormat],r[mi.MonthsStandalone]],e);return Ia(i,n)}(e,i,r)[t.getMonth()];case Da.Days:return function(t,e,n){var r=bi(t),i=Ia([r[mi.DaysFormat],r[mi.DaysStandalone]],e);return Ia(i,n)}(e,i,r)[t.getDay()];case Da.DayPeriods:var l=t.getHours(),a=t.getMinutes();if(o){var s,u=function(t){var e=bi(t);return Ta(e),(e[mi.ExtraData][2]||[]).map((function(t){return"string"==typeof t?Sa(t):[Sa(t[0]),Sa(t[1])]}))}(e),c=function(t,e,n){var r=bi(t);Ta(r);var i=Ia([r[mi.ExtraData][0],r[mi.ExtraData][1]],e)||[];return Ia(i,n)||[]}(e,i,r);if(u.forEach((function(t,e){if(Array.isArray(t)){var n=t[0],r=n.hours,i=n.minutes,o=t[1],u=o.hours,h=o.minutes;l>=r&&a>=i&&(l<u||l===u&&a<h)&&(s=c[e])}else{var f=t.hours,d=t.minutes;f===l&&d===a&&(s=c[e])}})),s)return s}return function(t,e,n){var r=bi(t),i=Ia([r[mi.DayPeriodsFormat],r[mi.DayPeriodsStandalone]],e);return Ia(i,n)}(e,i,r)[l<12?0:1];case Da.Eras:return function(t,e){return Ia(bi(t)[mi.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(i,o,t,e,n,r)}}function ja(t){return function(e,n,r){var i=-1*r,o=Ea(n,ba.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Na.Short:return(i>=0?"+":"")+Ma(l,2,o)+Ma(Math.abs(i%60),2,o);case Na.ShortGMT:return"GMT"+(i>=0?"+":"")+Ma(l,1,o);case Na.Long:return"GMT"+(i>=0?"+":"")+Ma(l,2,o)+":"+Ma(Math.abs(i%60),2,o);case Na.Extended:return 0===r?"Z":(i>=0?"+":"")+Ma(l,2,o)+":"+Ma(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function Va(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,l,a;if(e){var s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();i=1+Math.floor((u+s)/7)}else{var c=(o=n.getFullYear(),l=new Date(o,0,1).getDay(),new Date(o,0,1+(l<=4?4:11)-l)),h=(a=n,new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))).getTime()-c.getTime();i=1+Math.round(h/6048e5)}return Ma(i,t,Ea(r,ba.MinusSign))}}var Ua={};function qa(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Ba(t){return t instanceof Date&&!isNaN(t.valueOf())}var za=new It("UseV4Plurals"),Ha=function t(){_classCallCheck(this,t)},Wa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).locale=t,i.deprecatedPluralFn=r,i}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return bi(t)[mi.PluralCase]}(e||this.locale)(t)){case ga.Zero:return"zero";case ga.One:return"one";case ga.Two:return"two";case ga.Few:return"few";case ga.Many:return"many";default:return"other"}}}]),n}(Ha);function Ga(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),l=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),a=l[0],s=l[1];if(a.trim()===e)return decodeURIComponent(s)}}catch(u){r.e(u)}finally{r.f()}return null}var Ka=function t(){_classCallCheck(this,t)},Qa=function(){function t(e,n,r,i){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._initialClasses=[]}return _createClass(t,[{key:"getValue",value:function(){return null}},{key:"setClass",value:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"setNgClass",value:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(qe(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"applyChanges",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(mt(t.item)));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}}]),t}(),$a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"ngDoCheck",value:function(){this._delegate.applyChanges()}},{key:"klass",set:function(t){this._delegate.setClass(t)}},{key:"ngClass",set:function(t){this._delegate.setNgClass(t)}}]),n}(function(){var t=function(){function t(e){_classCallCheck(this,t),this._delegate=e}return _createClass(t,[{key:"getValue",value:function(){return this._delegate.getValue()}}]),t}();return t.ngDirectiveDef=void 0,t}()),Ya=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Xa=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Ya(null,e._ngForOf,-1,-1),null===i?void 0:i),l=new Ja(t,o);n.push(l)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=e._viewContainer.get(r);e._viewContainer.move(a,i);var s=new Ja(t,a);n.push(s)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var l=this._viewContainer.get(i);l.context.index=i,l.context.count=o,l.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Qt()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". ")+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}(),Ja=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},Za=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new ts,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){es("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){es("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}]),t}(),ts=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function es(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(mt(e),"'."))}var ns,rs=function(){function t(e){_classCallCheck(this,t),this.locale=e}return _createClass(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){var i=function(t){if(Ba(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=_slicedToArray(t.split("-").map((function(t){return+t})),3),i=r[0],o=r[1],l=r[2];return new Date(i,o-1,l)}if(e=t.match(xa))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var l=Number(t[4]||0)-n,a=Number(t[5]||0)-r,s=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,l,a,s,u),e}(e)}var a=new Date(t);if(!Ba(a))throw new Error('Unable to convert "'.concat(t,'" into a date'));return a}(t);e=function t(e,n){var r=function(t){return bi(t)[mi.LocaleId]}(e);if(Oa[r]=Oa[r]||{},Oa[r][n])return Oa[r][n];var i="";switch(n){case"shortDate":i=wa(e,_a.Short);break;case"mediumDate":i=wa(e,_a.Medium);break;case"longDate":i=wa(e,_a.Long);break;case"fullDate":i=wa(e,_a.Full);break;case"shortTime":i=Ca(e,_a.Short);break;case"mediumTime":i=Ca(e,_a.Medium);break;case"longTime":i=Ca(e,_a.Long);break;case"fullTime":i=Ca(e,_a.Full);break;case"short":var o=t(e,"shortTime"),l=t(e,"shortDate");i=Ra(ka(e,_a.Short),[o,l]);break;case"medium":var a=t(e,"mediumTime"),s=t(e,"mediumDate");i=Ra(ka(e,_a.Medium),[a,s]);break;case"long":var u=t(e,"longTime"),c=t(e,"longDate");i=Ra(ka(e,_a.Long),[u,c]);break;case"full":var h=t(e,"fullTime"),f=t(e,"fullDate");i=Ra(ka(e,_a.Full),[h,f])}return i&&(Oa[r][n]=i),i}(n,e)||e;for(var o,l=[];e;){if(!(o=Pa.exec(e))){l.push(e);break}var a=(l=l.concat(o.slice(1))).pop();if(!a)break;e=a}var s=i.getTimezoneOffset();r&&(s=qa(r,s),i=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(qa(e,r)-r))}(i,r));var u="";return l.forEach((function(t){var e=function(t){if(Ua[t])return Ua[t];var e;switch(t){case"G":case"GG":case"GGG":e=Fa(Da.Eras,ya.Abbreviated);break;case"GGGG":e=Fa(Da.Eras,ya.Wide);break;case"GGGGG":e=Fa(Da.Eras,ya.Narrow);break;case"y":e=La(Aa.FullYear,1,0,!1,!0);break;case"yy":e=La(Aa.FullYear,2,0,!0,!0);break;case"yyy":e=La(Aa.FullYear,3,0,!1,!0);break;case"yyyy":e=La(Aa.FullYear,4,0,!1,!0);break;case"M":case"L":e=La(Aa.Month,1,1);break;case"MM":case"LL":e=La(Aa.Month,2,1);break;case"MMM":e=Fa(Da.Months,ya.Abbreviated);break;case"MMMM":e=Fa(Da.Months,ya.Wide);break;case"MMMMM":e=Fa(Da.Months,ya.Narrow);break;case"LLL":e=Fa(Da.Months,ya.Abbreviated,ma.Standalone);break;case"LLLL":e=Fa(Da.Months,ya.Wide,ma.Standalone);break;case"LLLLL":e=Fa(Da.Months,ya.Narrow,ma.Standalone);break;case"w":e=Va(1);break;case"ww":e=Va(2);break;case"W":e=Va(1,!0);break;case"d":e=La(Aa.Date,1);break;case"dd":e=La(Aa.Date,2);break;case"E":case"EE":case"EEE":e=Fa(Da.Days,ya.Abbreviated);break;case"EEEE":e=Fa(Da.Days,ya.Wide);break;case"EEEEE":e=Fa(Da.Days,ya.Narrow);break;case"EEEEEE":e=Fa(Da.Days,ya.Short);break;case"a":case"aa":case"aaa":e=Fa(Da.DayPeriods,ya.Abbreviated);break;case"aaaa":e=Fa(Da.DayPeriods,ya.Wide);break;case"aaaaa":e=Fa(Da.DayPeriods,ya.Narrow);break;case"b":case"bb":case"bbb":e=Fa(Da.DayPeriods,ya.Abbreviated,ma.Standalone,!0);break;case"bbbb":e=Fa(Da.DayPeriods,ya.Wide,ma.Standalone,!0);break;case"bbbbb":e=Fa(Da.DayPeriods,ya.Narrow,ma.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fa(Da.DayPeriods,ya.Abbreviated,ma.Format,!0);break;case"BBBB":e=Fa(Da.DayPeriods,ya.Wide,ma.Format,!0);break;case"BBBBB":e=Fa(Da.DayPeriods,ya.Narrow,ma.Format,!0);break;case"h":e=La(Aa.Hours,1,-12);break;case"hh":e=La(Aa.Hours,2,-12);break;case"H":e=La(Aa.Hours,1);break;case"HH":e=La(Aa.Hours,2);break;case"m":e=La(Aa.Minutes,1);break;case"mm":e=La(Aa.Minutes,2);break;case"s":e=La(Aa.Seconds,1);break;case"ss":e=La(Aa.Seconds,2);break;case"S":e=La(Aa.FractionalSeconds,1);break;case"SS":e=La(Aa.FractionalSeconds,2);break;case"SSS":e=La(Aa.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ja(Na.Short);break;case"ZZZZZ":e=ja(Na.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ja(Na.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ja(Na.Long);break;default:return null}return Ua[t]=e,e}(t);u+=e?e(i,n,s):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),u}(e,n,i||this.locale,r)}catch(o){throw function(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(mt(t),"'"))}(t,o.message)}}}]),t}(),is=function t(){_classCallCheck(this,t)},os=new It("DocumentToken"),ls=((ns=function t(){_classCallCheck(this,t)}).ngInjectableDef=pt({token:ns,providedIn:"root",factory:function(){return new as(Dt(os),window,Dt(Wt))}}),ns),as=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#".concat(t));if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}]),t}(),ss=new k((function(t){return t.complete()}));function us(t){return t?function(t){return new k((function(e){return t.schedule((function(){return e.complete()}))}))}(t):ss}function cs(t){var e=new k((function(e){e.next(t),e.complete()}));return e._isScalar=!0,e.value=t,e}function hs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];switch(A(r)?e.pop():r=void 0,e.length){case 0:return us(r);case 1:return r?K(e,r):cs(e[0]);default:return K(e,r)}}var fs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(P);function ds(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}ds.prototype=Object.create(Error.prototype);var ps=ds,vs={},gs=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ms(t,this.resultSelector))}}]),t}(),ms=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push(vs),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(B(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,l=this.toRespond?o[n]===vs?--this.toRespond:this.toRespond:0;o[n]=e,0===l&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(z);function ys(t){return new k((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Q(n):us()).subscribe(e)}))}function _s(){return Z(1)}function bs(t,e){return function(n){return n.lift(new ws(t,e))}}var ws=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Cs(t,this.predicate,this.thisArg))}}]),t}(),Cs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(g);function ks(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ks.prototype=Object.create(Error.prototype);var Es=ks;function Ts(t){return function(e){return 0===t?us():e.lift(new Is(t))}}var Is=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Es}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ss(t,this.total))}}]),t}(),Ss=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(g);function xs(t,e,n){return function(r){return r.lift(new Os(t,e,n))}}var Os=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ps(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),Ps=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,l){var a;return _classCallCheck(this,n),(a=e.call(this,t))._tapNext=_,a._tapError=_,a._tapComplete=_,a._tapError=o||_,a._tapComplete=l||_,r(i)?(a._context=_assertThisInitialized(a),a._tapNext=i):i&&(a._context=i,a._tapNext=i.next||_,a._tapError=i.error||_,a._tapComplete=i.complete||_),a}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(g),Ns=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:As;return xs({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function As(){return new ps}function Ds(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Rs(t))}}var Rs=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ms(t,this.defaultValue))}}]),t}(),Ms=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(g);function Ls(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?bs((function(e,n){return t(e,n,r)})):J,Ts(1),n?Ds(e):Ns((function(){return new ps})))}}function Fs(t){return function(e){var n=new js(t),r=e.lift(n);return n.caught=r}}var js=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Vs(t,this.selector,this.caught))}}]),t}(),Vs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(i){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,i)}this._unsubscribeAndRecycle();var r=new D(this,void 0,void 0);this.add(r),B(this,e,void 0,void 0,r)}}}]),n}(z);function Us(t){return function(e){return 0===t?us():e.lift(new qs(t))}}var qs=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Es}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Bs(t,this.total))}}]),t}(),Bs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(g);function zs(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?bs((function(e,n){return t(e,n,r)})):J,Us(1),n?Ds(e):Ns((function(){return new ps})))}}var Hs=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ws(t,this.predicate,this.thisArg,this.source))}}]),t}(),Ws=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var l;return _classCallCheck(this,n),(l=e.call(this,t)).predicate=r,l.thisArg=i,l.source=o,l.index=0,l.thisArg=i||_assertThisInitialized(l),l}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(g);function Gs(t,e){return"function"==typeof e?function(n){return n.pipe(Gs((function(n,r){return Q(t(n,r)).pipe(H((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Ks(t))}}var Ks=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Qs(t,this.project))}}]),t}(),Qs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new D(this,void 0,void 0);this.destination.add(i),this.innerSubscription=B(this,t,e,n,i)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(z);function $s(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ys(t,e,n))}}var Ys=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Xs(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Xs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var l;return _classCallCheck(this,n),(l=e.call(this,t)).accumulator=r,l._seed=i,l.hasSeed=o,l.index=0,l}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(g);function Js(t,e){return $(t,e,1)}var Zs=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new tu(t,this.callback))}}]),t}(),tu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new d(r)),i}return n}(g),eu=null;function nu(){return eu}var ru,iu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},ou={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},au=function(){if(Tt.Node)return Tt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),su=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(t){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(t,e){return e in t}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"getProperty",value:function(t,e){return t[e]}},{key:"invoke",value:function(t,e,n){t[e].apply(t,_toConsumableArray(n))}},{key:"logError",value:function(t){window.console&&(console.error?console.error(t):console.log(t))}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(t,e){return au.call(t,e)}},{key:"querySelector",value:function(t,e){return t.querySelector(e)}},{key:"querySelectorAll",value:function(t,e){return t.querySelectorAll(e)}},{key:"on",value:function(t,e,n){t.addEventListener(e,n,!1)}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"createMouseEvent",value:function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}},{key:"createEvent",value:function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}},{key:"preventDefault",value:function(t){t.preventDefault(),t.returnValue=!1}},{key:"isPrevented",value:function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}},{key:"getInnerHTML",value:function(t){return t.innerHTML}},{key:"getTemplateContent",value:function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}},{key:"getOuterHTML",value:function(t){return t.outerHTML}},{key:"nodeName",value:function(t){return t.nodeName}},{key:"nodeValue",value:function(t){return t.nodeValue}},{key:"type",value:function(t){return t.type}},{key:"content",value:function(t){return this.hasProperty(t,"content")?t.content:t}},{key:"firstChild",value:function(t){return t.firstChild}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"parentElement",value:function(t){return t.parentNode}},{key:"childNodes",value:function(t){return t.childNodes}},{key:"childNodesAsList",value:function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n}},{key:"clearNodes",value:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"removeChild",value:function(t,e){t.removeChild(e)}},{key:"replaceChild",value:function(t,e,n){t.replaceChild(e,n)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"insertBefore",value:function(t,e,n){t.insertBefore(n,e)}},{key:"insertAllBefore",value:function(t,e,n){n.forEach((function(n){return t.insertBefore(n,e)}))}},{key:"insertAfter",value:function(t,e,n){t.insertBefore(n,e.nextSibling)}},{key:"setInnerHTML",value:function(t,e){t.innerHTML=e}},{key:"getText",value:function(t){return t.textContent}},{key:"setText",value:function(t,e){t.textContent=e}},{key:"getValue",value:function(t){return t.value}},{key:"setValue",value:function(t,e){t.value=e}},{key:"getChecked",value:function(t){return t.checked}},{key:"setChecked",value:function(t,e){t.checked=e}},{key:"createComment",value:function(t){return this.getDefaultDocument().createComment(t)}},{key:"createTemplate",value:function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createElementNS",value:function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}},{key:"createTextNode",value:function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}},{key:"createScriptTag",value:function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}},{key:"createStyleElement",value:function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}},{key:"createShadowRoot",value:function(t){return t.createShadowRoot()}},{key:"getShadowRoot",value:function(t){return t.shadowRoot}},{key:"getHost",value:function(t){return t.host}},{key:"clone",value:function(t){return t.cloneNode(!0)}},{key:"getElementsByClassName",value:function(t,e){return t.getElementsByClassName(e)}},{key:"getElementsByTagName",value:function(t,e){return t.getElementsByTagName(e)}},{key:"classList",value:function(t){return Array.prototype.slice.call(t.classList,0)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"hasClass",value:function(t,e){return t.classList.contains(e)}},{key:"setStyle",value:function(t,e,n){t.style[e]=n}},{key:"removeStyle",value:function(t,e){t.style[e]=""}},{key:"getStyle",value:function(t,e){return t.style[e]}},{key:"hasStyle",value:function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(t){return t.tagName}},{key:"attributeMap",value:function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e}},{key:"hasAttribute",value:function(t,e){return t.hasAttribute(e)}},{key:"hasAttributeNS",value:function(t,e,n){return t.hasAttributeNS(e,n)}},{key:"getAttribute",value:function(t,e){return t.getAttribute(e)}},{key:"getAttributeNS",value:function(t,e,n){return t.getAttributeNS(e,n)}},{key:"setAttribute",value:function(t,e,n){t.setAttribute(e,n)}},{key:"setAttributeNS",value:function(t,e,n,r){t.setAttributeNS(e,n,r)}},{key:"removeAttribute",value:function(t,e){t.removeAttribute(e)}},{key:"removeAttributeNS",value:function(t,e,n){t.removeAttributeNS(e,n)}},{key:"templateAwareRoot",value:function(t){return this.isTemplateElement(t)?this.content(t):t}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(t){return t.title}},{key:"setTitle",value:function(t,e){t.title=e||""}},{key:"elementMatches",value:function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}},{key:"isTemplateElement",value:function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}},{key:"isTextNode",value:function(t){return t.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(t){return t.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(t){return null!=t.shadowRoot&&t instanceof HTMLElement}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"importIntoDoc",value:function(t){return document.importNode(this.templateAwareRoot(t),!0)}},{key:"adoptNode",value:function(t){return document.adoptNode(t)}},{key:"getHref",value:function(t){return t.getAttribute("href")}},{key:"getEventKey",value:function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&lu.hasOwnProperty(e)&&(e=lu[e]))}return ou[e]||e}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=uu||(uu=document.querySelector("base"))?uu.getAttribute("href"):null;return null==n?null:(e=n,ru||(ru=document.createElement("a")),ru.setAttribute("href",e),"/"===ru.pathname.charAt(0)?ru.pathname:"/"+ru.pathname)}},{key:"resetBaseElement",value:function(){uu=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(t,e,n){this.setAttribute(t,"data-"+e,n)}},{key:"getData",value:function(t,e){return this.getAttribute(t,"data-"+e)}},{key:"getComputedStyle",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return getComputedStyle(t)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Ga(document.cookie,t)}},{key:"setCookie",value:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}},{key:"attrToPropMap",get:function(){return iu}}],[{key:"makeCurrent",value:function(){var t;t=new n,eu||(eu=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n),(t=e.call(this))._animationPrefix=null,t._transitionEnd=null;try{var r=t.createElement("div",document);if(null!=t.getStyle(r,"animationName"))t._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],o=0;o<i.length;o++)if(null!=t.getStyle(r,i[o]+"AnimationName")){t._animationPrefix="-"+i[o].toLowerCase()+"-";break}var l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(l).forEach((function(e){null!=t.getStyle(r,e)&&(t._transitionEnd=l[e])}))}catch(a){t._animationPrefix=null,t._transitionEnd=null}return t}return _createClass(n,[{key:"getDistributedNodes",value:function(t){return t.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(t,e,n){t.href=null==n?e:e+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),n}(function(){function t(){_classCallCheck(this,t),this.resourceLoaderType=null}return _createClass(t,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t}}]),t}())),uu=null;function cu(){return!!window.history.pushState}var hu=new It("TRANSITION_ID"),fu=[{provide:Ei,useFactory:function(t,e,n){return function(){n.get(Ti).donePromise.then((function(){var n=nu();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter((function(e){return n.getAttribute(e,"ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[hu,os,Se],multi:!0}],du=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){Tt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Tt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Tt.getAllAngularRootElements=function(){return t.getAllRootElements()},Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push((function(t){var e=Tt.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?nu().isShadowRoot(e)?this.findTestabilityInTree(t,nu().getHost(e),!0):this.findTestabilityInTree(t,nu().parentElement(e),!0):null}}],[{key:"init",value:function(){var e;e=new t,lo=e}}]),t}();function pu(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Tt.ng=Tt.ng||{})[t]=e)}var vu={ApplicationRef:vo,NgZone:Yi};function gu(t){return Io(t)}var mu=new It("EventManagerPlugins"),yu=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}(),_u=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=nu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),bu=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}(),wu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return nu().remove(t)}))}}]),n}(bu),Cu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ku=/%COMP%/g;function Eu(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Eu(t,i,n):(i=i.replace(ku,t),n.push(i))}return n}function Tu(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Iu=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Su(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Ut.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Pu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case Ut.Native:case Ut.ShadowDom:return new Nu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Eu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}(),Su=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Cu[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Cu[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Cu[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&rn.DashCase?t.style.setProperty(e,n,r&rn.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&rn.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){Ou(e,"property"),t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return Ou(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Tu(n)):this.eventManager.addEventListener(t,e,Tu(n))}}]),t}(),xu="@".charCodeAt(0);function Ou(t,e){if(t.charCodeAt(0)===xu)throw new Error("Found the synthetic ".concat(e," ").concat(t,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var Pu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var l;_classCallCheck(this,n),(l=e.call(this,t)).component=i;var a,s=Eu(o+"-"+i.id,i.styles,[]);return r.addStyles(s),l.contentAttr="_ngcontent-%COMP%".replace(ku,o+"-"+i.id),l.hostAttr=(a=o+"-"+i.id,"_nghost-%COMP%".replace(ku,a)),l}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Su),Nu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var l;_classCallCheck(this,n),(l=e.call(this,t)).sharedStylesHost=r,l.hostEl=i,l.component=o,l.shadowRoot=o.encapsulation===Ut.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),l.sharedStylesHost.addHost(l.shadowRoot);for(var a=Eu(o.id,o.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],l.shadowRoot.appendChild(u)}return l}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Su),Au="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Du=Au("addEventListener"),Ru=Au("removeEventListener"),Mu={},Lu="__zone_symbol__propagationStopped",Fu=function(){var t="undefined"!=typeof Zone&&Zone[Au("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach((function(t){e[t]=t})),e}}(),ju=function(t){return!!Fu&&Fu.hasOwnProperty(t)},Vu=function(t){var e=Mu[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length){var i=n[0];return i.zone!==Zone.current?i.zone.run(i.handler,this,r):i.handler.apply(this,r)}for(var o=n.slice(),l=0;l<o.length&&!0!==t[Lu];l++){var a=o[l];a.zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Uu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).ngZone=r,i&&function(t){return"server"===t}(i)||o.patchEvent(),o}return _createClass(n,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Lu]=!0),t&&t.apply(this,arguments)}}}},{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this,i=n;if(!t[Du]||Yi.isInAngularZone()&&!ju(e))t.addEventListener(e,i,!1);else{var o=Mu[e];o||(o=Mu[e]=Au("ANGULAR"+e+"FALSE"));var l=t[o],a=l&&l.length>0;l||(l=t[o]=[]);var s=ju(e)?Zone.root:Zone.current;if(0===l.length)l.push({zone:s,handler:i});else{for(var u=!1,c=0;c<l.length;c++)if(l[c].handler===i){u=!0;break}u||l.push({zone:s,handler:i})}a||t[Du](e,Vu,!1)}return function(){return r.removeEventListener(t,e,i)}}},{key:"removeEventListener",value:function(t,e,n){var r=t[Ru];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Mu[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var l=!1,a=0;a<o.length;a++)if(o[a].handler===n){l=!0,o.splice(a,1);break}l?0===o.length&&r.apply(t,[e,Vu,!1]):t.removeEventListener.apply(t,[e,n,!1])}}]),n}(_u),qu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Bu=new It("HammerGestureConfig"),zu=new It("HammerLoader"),Hu=function(){function t(){_classCallCheck(this,t),this.events=[],this.overrides={}}return _createClass(t,[{key:"buildHammer",value:function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e}}]),t}(),Wu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var l;return _classCallCheck(this,n),(l=e.call(this,t))._config=r,l.console=i,l.loader=o,l}return _createClass(n,[{key:"supports",value:function(t){return!(!qu.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(t,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}},{key:"addEventListener",value:function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,l=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(l=function(){});o||(l=r.addEventListener(t,e,n))})).catch((function(){r.console.warn('The "'.concat(e,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),l=function(){}})),function(){l()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(t),l=function(t){i.runGuarded((function(){n(t)}))};return o.on(e,l),function(){o.off(e,l),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(t){return this._config.events.indexOf(t)>-1}}]),n}(_u),Gu=["alt","control","meta","shift"],Ku={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Qu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return nu().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Gu.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var l={};return l.domEventName=r,l.fullKey=o,l}},{key:"getEventFullKey",value:function(t){var e="",n=nu().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Gu.forEach((function(r){r!=n&&(0,Ku[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(_u),$u=function t(){_classCallCheck(this,t)},Yu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r}return _createClass(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case ge.NONE:return e;case ge.HTML:return e instanceof Ju?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=null;try{ee=ee||new $t(t);var r=e?String(e):"";n=ee.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ee.getInertBodyElement(r)}while(r!==o);var l=new he,a=l.sanitizeChildren(ve(n)||n);return Qt()&&l.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var s=ve(n)||n;s.firstChild;)s.removeChild(s.firstChild)}}(this._doc,String(e)));case ge.STYLE:return e instanceof Zu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(_e);return e&&Jt(e[1])===e[1]||t.match(ye)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Qt()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}(e));case ge.SCRIPT:if(e instanceof tc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case ge.URL:return e instanceof nc||e instanceof ec?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Jt(String(e)));case ge.RESOURCE_URL:if(e instanceof nc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(t,e){if(t instanceof Xu)throw new Error("Required a safe ".concat(e,", got a ").concat(t.getTypeName()," ")+"(see http://g.co/ng/security#xss)")}},{key:"bypassSecurityTrustHtml",value:function(t){return new Ju(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new Zu(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new tc(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new ec(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new nc(t)}}]),n}($u),Xu=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),t}(),Ju=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Xu),Zu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Xu),tc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Xu),ec=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Xu),nc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Xu),rc=uo(xo,"browser",[{provide:Pi,useValue:"browser"},{provide:Oi,useValue:function(){su.makeCurrent(),du.init()},multi:!0},{provide:sa,useClass:function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=nu().getLocation(),this._history=nu().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return nu().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){nu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){nu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){cu()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){cu()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(sa),deps:[os]},{provide:os,useFactory:function(){return document},deps:[]}]);function ic(){return new Wt}var oc=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Ii,useValue:e.appId},{provide:hu,useExisting:Ii},fu]}}}]),t}();"undefined"!=typeof window&&window;var lc=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},ac=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=l,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(lc),sc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(lc),uc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(lc),cc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(lc),hc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var l;return _classCallCheck(this,n),(l=e.call(this,t,r)).urlAfterRedirects=i,l.state=o,l}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(lc),fc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var l;return _classCallCheck(this,n),(l=e.call(this,t,r)).urlAfterRedirects=i,l.state=o,l}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(lc),dc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,l){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a.shouldActivate=l,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(lc),pc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var l;return _classCallCheck(this,n),(l=e.call(this,t,r)).urlAfterRedirects=i,l.state=o,l}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(lc),vc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var l;return _classCallCheck(this,n),(l=e.call(this,t,r)).urlAfterRedirects=i,l.state=o,l}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(lc),gc=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),mc=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),yc=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),_c=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),bc=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),wc=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Cc=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),kc=function t(){_classCallCheck(this,t)},Ec=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Tc(t){return new Ec(t)}function Ic(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Sc(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var l=r[o],a=t[o];if(l.startsWith(":"))i[l.substring(1)]=a;else if(l!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var xc=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function Oc(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Pc(r,Nc(e,r))}}function Pc(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&Oc(t.children,e)}function Nc(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Ac(t){var e=t.children&&t.children.map(Ac),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=kc),n}function Dc(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function Rc(t){return Array.prototype.concat.apply([],t)}function Mc(t){return t.length>0?t[t.length-1]:null}function Lc(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Fc(t){return He(t)?t:ze(t)?Q(Promise.resolve(t)):hs(t)}function jc(t,e,n){return n?function(t,e){return Dc(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Bc(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return e[n]===t[n]}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Bc(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Bc(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var l=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!Bc(n.segments,l)&&!!n.children.primary&&e(n.children.primary,r,a)}(e,n,n.segments)}(t.root,e.root)}var Vc=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return Gc.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Tc(this.queryParams)),this._queryParamMap}}]),t}(),Uc=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,Lc(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Kc(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),qc=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return Zc(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Tc(this.parameters)),this._parameterMap}}]),t}();function Bc(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function zc(t,e){var n=[];return Lc(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),Lc(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var Hc=function t(){_classCallCheck(this,t)},Wc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new ih(t);return new Vc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"".concat("/".concat(function t(e,n){if(!e.hasChildren())return Kc(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return Lc(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=zc(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(Kc(e),"/(").concat(o.join("//"),")")}(t.root,!0)),(n=t.queryParams,r=Object.keys(n).map((function(t){var e=n[t];return Array.isArray(e)?e.map((function(e){return"".concat($c(t),"=").concat($c(e))})).join("&"):"".concat($c(t),"=").concat($c(e))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),Gc=new Wc;function Kc(t){return t.segments.map((function(t){return Zc(t)})).join("/")}function Qc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $c(t){return Qc(t).replace(/%3B/gi,";")}function Yc(t){return Qc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xc(t){return decodeURIComponent(t)}function Jc(t){return Xc(t.replace(/\+/g,"%20"))}function Zc(t){return"".concat(Yc(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Yc(t),"=").concat(Yc(e[t]))})).join("")));var e}var th=/^[^\/()?;=#]+/;function eh(t){var e=t.match(th);return e?e[0]:""}var nh=/^[^=?&#]+/,rh=/^[^?&#]+/,ih=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Uc([],{}):new Uc([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Uc(t,e)),n}},{key:"parseSegment",value:function(){var t=eh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new qc(Xc(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=eh(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=eh(this.remaining);r&&(n=r,this.capture(n))}t[Xc(e)]=Xc(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(nh);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(rh);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Jc(e),o=Jc(n);if(t.hasOwnProperty(i)){var l=t[i];Array.isArray(l)||(l=[l],t[i]=l),l.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=eh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Uc([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),oh=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=lh(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=lh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=ah(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return ah(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function lh(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=lh(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function ah(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=ah(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var sh=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function uh(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var ch=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,gh(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(oh);function hh(t,e){var n=function(t,e){var n=new ph([],{},{},"",{},"primary",e,null,t.root,-1,{});return new vh("",new sh(n,[]))}(t,e),r=new fs([new qc("",{})]),i=new fs({}),o=new fs({}),l=new fs({}),a=new fs(""),s=new fh(r,i,l,a,o,"primary",e,n.root);return s.snapshot=n.root,new ch(new sh(s,[]),n)}var fh=function(){function t(e,n,r,i,o,l,a,s){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=a,this._futureSnapshot=s}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(H((function(t){return Tc(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H((function(t){return Tc(t)})))),this._queryParamMap}}]),t}();function dh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var ph=function(){function t(e,n,r,i,o,l,a,s,u,c,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Tc(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Tc(this.queryParams)),this._queryParamMap}}]),t}(),vh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,gh(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return mh(this._root)}}]),n}(oh);function gh(t,e){e.value._routerState=t,e.children.forEach((function(e){return gh(t,e)}))}function mh(t){var e=t.children.length>0?" { ".concat(t.children.map(mh).join(", ")," } "):"";return"".concat(t.value).concat(e)}function yh(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Dc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Dc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Dc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Dc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function _h(t,e){var n,r;return Dc(t.params,e.params)&&Bc(n=t.url,r=e.url)&&n.every((function(t,e){return Dc(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||_h(t.parent,e.parent))}function bh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function wh(t,e,n,r,i){var o={};return r&&Lc(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return"".concat(t)})):"".concat(t)})),new Vc(n.root===t?e:function t(e,n,r){var i={};return Lc(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new Uc(e.segments,i)}(n.root,t,e),o,i)}var Ch=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&bh(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==Mc(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),kh=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function Eh(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:"".concat(t)}function Th(t,e,n){if(t||(t=new Uc([],{})),0===t.segments.length&&t.hasChildren())return Ih(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var l=t.segments[i],a=Eh(n[r]),s=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&s&&"object"==typeof s&&void 0===s.outlets){if(!Ph(a,s,l))return o;r+=2}else{if(!Ph(a,{},l))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Uc(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Uc(t.segments.slice(r.pathIndex),t.children),Ih(o,0,i)}return r.match&&0===i.length?new Uc(t.segments,{}):r.match&&!t.hasChildren()?Sh(t,e,n):r.match?Ih(t,0,i):Sh(t,e,n)}function Ih(t,e,n){if(0===n.length)return new Uc(t.segments,{});var r=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Lc(r,(function(n,r){null!==n&&(i[r]=Th(t.children[r],e,n))})),Lc(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new Uc(t.segments,i)}function Sh(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=xh(n[i].outlets);return new Uc(r,o)}if(0===i&&bh(n[0]))r.push(new qc(t.segments[e].path,n[0])),i++;else{var l=Eh(n[i]),a=i<n.length-1?n[i+1]:null;l&&a&&bh(a)?(r.push(new qc(l,Oh(a))),i+=2):(r.push(new qc(l,{})),i++)}}return new Uc(r,{})}function xh(t){var e={};return Lc(t,(function(t,n){null!==t&&(e[n]=Sh(new Uc([],{}),0,t))})),e}function Oh(t){var e={};return Lc(t,(function(t,n){return e[n]="".concat(t)})),e}function Ph(t,e,n){return t==n.path&&Dc(e,n.parameters)}var Nh=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),yh(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=uh(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),Lc(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=uh(t),o=t.value.component?r.children:e;Lc(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=uh(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new wc(t.value.snapshot))})),t.children.length&&this.forwardEvent(new _c(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(yh(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var l=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(a.contexts),l.attachRef=a.componentRef,l.route=a.route.value,l.outlet&&l.outlet.attach(a.componentRef,a.route.value),Ah(a.route)}else{var s=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),u=s?s.module.componentFactoryResolver:null;l.attachRef=null,l.route=r,l.resolver=u,l.outlet&&l.outlet.activateWith(r,u),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Ah(t){yh(t.value),t.children.forEach(Ah)}function Dh(t){return"function"==typeof t}function Rh(t){return t instanceof Vc}var Mh=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},Lh=function t(e){_classCallCheck(this,t),this.urlTree=e};function Fh(t){return new k((function(e){return e.error(new Mh(t))}))}function jh(t){return new k((function(e){return e.error(new Lh(t))}))}function Vh(t){return new k((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Uh=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Lt)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(H((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Fs((function(e){if(e instanceof Lh)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Mh)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(H((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Fs((function(t){if(t instanceof Mh)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Uc([],{primary:t}):t;return new Vc(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(H((function(t){return new Uc([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return hs({});var o=[],l=[],a={};return Lc(n,(function(n,i){var s,u,c=(s=i,u=n,r.expandSegmentGroup(t,e,u,s)).pipe(H((function(t){return a[i]=t})));"primary"===i?o.push(c):l.push(c)})),hs.apply(null,o.concat(l)).pipe(_s(),Ls(),H((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var l=this;return hs.apply(void 0,_toConsumableArray(n)).pipe(H((function(a){return l.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(Fs((function(t){if(t instanceof Mh)return hs(null);throw t})))})),_s(),zs((function(t){return!!t})),Fs((function(t,n){if(t instanceof ps||"EmptyError"===t.name){if(l.noLeftoversInUrl(e,r,i))return hs(new Uc([],{}));throw new Mh(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,l){return Hh(r)!==o?Fh(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Fh(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?jh(o):this.lineralizeSegments(n,o).pipe($((function(n){var o=new Uc(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var l=this,a=qh(e,r,i),s=a.matched,u=a.consumedSegments,c=a.lastChild,h=a.positionalParamSegments;if(!s)return Fh(e);var f=this.applyRedirectCommands(u,r.redirectTo,h);return r.redirectTo.startsWith("/")?jh(f):this.lineralizeSegments(r,f).pipe($((function(r){return l.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(H((function(t){return n._loadedConfig=t,new Uc(r,{})}))):hs(new Uc(r,{}));var o=qh(e,n,r),l=o.matched,a=o.consumedSegments,s=o.lastChild;if(!l)return Fh(e);var u=r.slice(s);return this.getChildConfig(t,n,r).pipe($((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return zh(t,e,n)&&"primary"!==Hh(n)}))}(t,n,r)?{segmentGroup:Bh(new Uc(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Hh(o)&&(n[Hh(o)]=new Uc([],{}))}}catch(l){i.e(l)}finally{i.f()}return n}(r,new Uc(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return zh(t,e,n)}))}(t,n,r)?{segmentGroup:Bh(new Uc(t.segments,function(t,e,n,r){var i,o={},l=_createForOfIteratorHelper(n);try{for(l.s();!(i=l.n()).done;){var a=i.value;zh(t,e,a)&&!r[Hh(a)]&&(o[Hh(a)]=new Uc([],{}))}}catch(s){l.e(s)}finally{l.f()}return Object.assign({},r,o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,u,r),l=o.segmentGroup,s=o.slicedSegments;return 0===s.length&&l.hasChildren()?i.expandChildren(n,r,l).pipe(H((function(t){return new Uc(a,t)}))):0===r.length&&0===s.length?hs(new Uc(a,{})):i.expandSegment(n,l,r,s,"primary",!0).pipe(H((function(t){return new Uc(a.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?hs(new xc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?hs(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Q(i).pipe(H((function(r){var i,o=t.get(r);if(function(t){return t&&Dh(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Dh(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Fc(i)}))).pipe(_s(),(r=function(t){return!0===t},function(t){return t.lift(new Hs(r,void 0,t))})):hs(!0)}(t.injector,e,n).pipe($((function(n){return n?r.configLoader.load(t.injector,e).pipe(H((function(t){return e._loadedConfig=t,t}))):function(t){return new k((function(e){return e.error(Ic("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):hs(new xc([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return hs(n);if(r.numberOfChildren>1||!r.children.primary)return Vh(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Vc(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Lc(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),l={};return Lc(e.children,(function(e,o){l[o]=i.createSegmentGroup(t,e,n,r)})),new Uc(o,l)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(l){i.e(l)}finally{i.f()}return t}}]),t}();function qh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Sc)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Bh(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Uc(t.segments.concat(e.segments),e.children)}return t}function zh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Hh(t){return t.outlet||"primary"}var Wh=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Gh=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Kh(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Qh(t,e,n){var r=uh(t),i=t.value;Lc(r,(function(t,r){Qh(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Gh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var $h=Symbol("INITIAL_VALUE");function Yh(){return Gs((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return A(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&s(e[0])&&(e=e[0]),K(e,i).lift(new gs(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(Us(1),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n=e[e.length-1];A(n)?e.pop():n=null;var r=e.length;return function(){return _s()(hs.apply(void 0,arguments))}(1!==r||n?r>0?K(e,n):us(n):cs(e[0]),t)}}($h))})))).pipe($s((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==$h)return t;if(r===$h&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Rh(r))return r}return t}),t)}),$h),bs((function(t){return t!==$h})),H((function(t){return Rh(t)?t:!0===t})),Us(1))}))}function Xh(t,e){return null!==t&&e&&e(new bc(t)),hs(!0)}function Jh(t,e){return null!==t&&e&&e(new yc(t)),hs(!0)}function Zh(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?hs(r.map((function(r){return ys((function(){var i,o=Kh(r,e,n);if(function(t){return t&&Dh(t.canActivate)}(o))i=Fc(o.canActivate(e,t));else{if(!Dh(o))throw new Error("Invalid CanActivate guard");i=Fc(o(e,t))}return i.pipe(zs())}))}))).pipe(Yh()):hs(!0)}function tf(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return ys((function(){return hs(e.guards.map((function(i){var o,l=Kh(i,e.node,n);if(function(t){return t&&Dh(t.canActivateChild)}(l))o=Fc(l.canActivateChild(r,t));else{if(!Dh(l))throw new Error("Invalid CanActivateChild guard");o=Fc(l(r,t))}return o.pipe(zs())}))).pipe(Yh())}))}));return hs(i).pipe(Yh())}var ef=function t(){_classCallCheck(this,t)},nf=function(){function t(e,n,r,i,o,l){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=l}return _createClass(t,[{key:"recognize",value:function(){try{var t=lf(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new ph([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new sh(n,e),i=new vh(this.url,r);return this.inheritParamsAndData(i._root),hs(i)}catch(o){return new k((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=dh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=zc(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var l=i.value;try{return this.processSegmentAgainstRoute(l,e,n,r)}catch(a){if(!(a instanceof ef))throw a}}}catch(s){o.e(s)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new ef}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new ef;if((t.outlet||"primary")!==r)throw new ef;var i,o=[],l=[];if("**"===t.path){var a=n.length>0?Mc(n).parameters:{};i=new ph(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uf(t),r,t.component,t,rf(e),of(e)+n.length,cf(t))}else{var s=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ef;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Sc)(n,t,e);if(!r)throw new ef;var i={};Lc(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=s.consumedSegments,l=n.slice(s.lastChild),i=new ph(o,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uf(t),r,t.component,t,rf(e),of(e)+o.length,cf(t))}var u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),c=lf(e,o,l,u,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(u,h);return[new sh(i,d)]}if(0===u.length&&0===f.length)return[new sh(i,[])];var p=this.processSegment(u,h,f,"primary");return[new sh(i,p)]}}]),t}();function rf(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function of(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function lf(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return af(t,e,n)&&"primary"!==sf(n)}))}(t,n,r)){var o=new Uc(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,l=_createForOfIteratorHelper(n);try{for(l.s();!(o=l.n()).done;){var a=o.value;if(""===a.path&&"primary"!==sf(a)){var s=new Uc([],{});s._sourceSegment=t,s._segmentIndexShift=e.length,i[sf(a)]=s}}}catch(u){l.e(u)}finally{l.f()}return i}(t,e,r,new Uc(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return af(t,e,n)}))}(t,n,r)){var l=new Uc(t.segments,function(t,e,n,r,i,o){var l,a={},s=_createForOfIteratorHelper(r);try{for(s.s();!(l=s.n()).done;){var u=l.value;if(af(t,n,u)&&!i[sf(u)]){var c=new Uc([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[sf(u)]=c}}}catch(h){s.e(h)}finally{s.f()}return Object.assign({},i,a)}(t,e,n,r,t.children,i));return l._sourceSegment=t,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:n}}var a=new Uc(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function af(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function sf(t){return t.outlet||"primary"}function uf(t){return t.data||{}}function cf(t){return t.resolve||{}}function hf(t,e,n,r){var i=Kh(t,e,r);return Fc(i.resolve?i.resolve(e,n):i(e,n))}function ff(t){return function(e){return e.pipe(Gs((function(e){var n=t(e);return n?Q(n).pipe(H((function(){return e}))):Q([e])})))}}var df=function t(){_classCallCheck(this,t)},pf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),vf=new It("ROUTES"),gf=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(H((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new xc(Rc(i.injector.get(vf)).map(Ac),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Q(this.loader.load(t)):Fc(t()).pipe($((function(t){return t instanceof Ft?hs(t):Q(e.compiler.compileModuleAsync(t))})))}}]),t}(),mf=function t(){_classCallCheck(this,t)},yf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function _f(t){throw t}function bf(t,e,n){return e.parse("/")}function wf(t,e){return hs(null)}var Cf=function(){function t(e,n,r,i,o,l,a,s){var u=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new P,this.errorHandler=_f,this.malformedUriErrorHandler=bf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wf,afterPreactivation:wf},this.urlHandlingStrategy=new yf,this.routeReuseStrategy=new pf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Lt),this.console=o.get(Ai);var c=o.get(Yi);this.isNgZoneEnabled=c instanceof Yi,this.resetConfig(s),this.currentUrlTree=new Vc(new Uc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gf(l,a,(function(t){return u.triggerEvent(new gc(t))}),(function(t){return u.triggerEvent(new mc(t))})),this.routerState=hh(this.currentUrlTree,this.rootComponentType),this.transitions=new fs({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(bs((function(t){return 0!==t.id})),H((function(t){return Object.assign({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Gs((function(t){var r,i,o,l,a=!1,s=!1;return hs(t).pipe(xs((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}})),Gs((function(t){var r,i,o,l,a=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return hs(t).pipe(Gs((function(t){var r=e.transitions.getValue();return n.next(new ac(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?ss:[t]})),Gs((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,l=e.config,function(t){return t.pipe(Gs((function(t){return function(t,e,n,r,i){return new Uh(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,l).pipe(H((function(e){return Object.assign({},t,{urlAfterRedirects:e})})))})))}),xs((function(t){e.currentNavigation=Object.assign({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe($((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new nf(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(l=r.urlAfterRedirects,e.serializeUrl(l)),i,o).pipe(H((function(t){return Object.assign({},r,{targetSnapshot:t})})));var l})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),xs((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),xs((function(t){var r=new hc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var s=t.id,u=t.extractedUrl,c=t.source,h=t.restoredState,f=t.extras,d=new ac(s,e.serializeUrl(u),c,h);n.next(d);var p=hh(u,e.rootComponentType).snapshot;return hs(Object.assign({},t,{targetSnapshot:p,urlAfterRedirects:u,extras:Object.assign({},f,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ss})),ff((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,l=t.extras,a=l.skipLocationChange,s=l.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!s})})),xs((function(t){var n=new fc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),H((function(t){return Object.assign({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},l=uh(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},l=e.value,a=n?n.value:null,s=r?r.getContext(e.value.outlet):null;if(a&&l.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Bc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bc(t.url,e.url)||!Dc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_h(t,e)||!Dc(t.queryParams,e.queryParams);case"paramsChange":default:return!_h(t,e)}}(a,l,l.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Wh(i)):(l.data=a.data,l._resolvedData=a._resolvedData),t(e,n,l.component?s?s.children:null:r,i,o),u&&o.canDeactivateChecks.push(new Gh(s&&s.outlet&&s.outlet.component||null,a))}else a&&Qh(n,s,o),o.canActivateChecks.push(new Wh(i)),t(e,null,l.component?s?s.children:null:r,i,o)}(e,l[e.value.outlet],r,i.concat([e.value]),o),delete l[e.value.outlet]})),Lc(l,(function(t,e){return Qh(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe($((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,l=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===l.length?hs(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return Q(t).pipe($((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?hs(o.map((function(o){var l,a=Kh(o,e,i);if(function(t){return t&&Dh(t.canDeactivate)}(a))l=Fc(a.canDeactivate(t,e,n,r));else{if(!Dh(a))throw new Error("Invalid CanDeactivate guard");l=Fc(a(t,e,n,r))}return l.pipe(zs())}))).pipe(Yh()):hs(!0)}(t.component,t.route,n,e,r)})),zs((function(t){return!0!==t}),!0))}(a,r,i,t).pipe($((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Q(e).pipe(Js((function(e){return Q([Jh(e.route.parent,r),Xh(e.route,r),tf(t,e.path,n),Zh(t,e.route,n)]).pipe(_s(),zs((function(t){return!0!==t}),!0))})),zs((function(t){return!0!==t}),!0))}(r,l,t,e):hs(n)})),H((function(t){return Object.assign({},n,{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),xs((function(t){if(Rh(t.guardsResult)){var n=Ic('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),xs((function(t){var n=new dc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),bs((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new uc(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),ff((function(t){if(t.guards.canActivateChecks.length)return hs(t).pipe(xs((function(t){var n=new pc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe($((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Q(i).pipe(Js((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return hs({});if(1===i.length){var o=i[0];return hf(t[o],e,n,r).pipe(H((function(t){return _defineProperty({},o,t)})))}var l={};return Q(i).pipe($((function(i){return hf(t[i],e,n,r).pipe(H((function(t){return l[i]=t,t})))}))).pipe(Ls(),H((function(){return l})))}(t._resolve,t,e,r).pipe(H((function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,dh(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return b($s(t,e),Ts(1),Ds(e))(n)}:function(e){return b($s((function(e,n,r){return t(e,n,r+1)})),Ts(1))(e)}}((function(t,e){return t})),H((function(e){return t}))):hs(t)})))}),xs((function(t){var n=new vc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),ff((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,l=t.extras,a=l.skipLocationChange,s=l.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!s})})),H((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var l=i.value;if(e.shouldReuseRoute(l.value.snapshot,n.value))return t(e,n,l)}}catch(a){o.e(a)}finally{o.f()}return t(e,n)}))}(e,n,r);return new sh(i,o)}var l=e.retrieve(n.value);if(l){var a=l.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,a),a}var s,u=new fh(new fs((s=n.value).url),new fs(s.params),new fs(s.queryParams),new fs(s.fragment),new fs(s.data),s.outlet,s.component,s),c=n.children.map((function(n){return t(e,n)}));return new sh(u,c)}(t,e._root,n?n._root:void 0);return new ch(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:n})})),xs((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,l=function(t){return e.triggerEvent(t)},H((function(t){return new Nh(o,t.targetRouterState,t.currentRouterState,l).activate(i),t}))),xs({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!s){e.resetUrlToCurrentUrlTree();var r=new uc(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Zs(r))}),Fs((function(r){if(s=!0,(a=r)&&a.ngNavigationCancelingError){var i=Rh(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new uc(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var l=new cc(t.id,e.serializeUrl(t.extractedUrl),r);n.next(l);try{t.resolve(e.errorHandler(r))}catch(u){t.reject(u)}}var a;return ss})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign({},this.getTransition(),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Oc(t),this.config=t.map(Ac),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.preserveQueryParams,l=e.queryParamsHandling,a=e.preserveFragment;Qt()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var s=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i,c=null;if(l)switch(l){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return wh(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ch(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Lc(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new Ch(n,e,r)}(n);if(o.toRoot())return wh(e.root,new Uc([],{}),e,r,i);var l=function(t,e,n){if(t.isAbsolute)return new kh(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new kh(n.snapshot._urlSegment,!0,0);var r=bh(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new kh(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=l.processChildren?Ih(l.segmentGroup,l.index,o.commands):Th(l.segmentGroup,l.index,o.commands);return wh(l.segmentGroup,a,e,r,i)}(s,this.currentUrlTree,t,c,u)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Qt()&&this.isNgZoneEnabled&&!Yi.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Rh(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Rh(t))return jc(this.currentUrlTree,t,e);var n=this.parseUrl(t);return jc(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new sc(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,l=null,a=new Promise((function(t,e){o=t,l=e})),s=++this.navigationId;return this.setTransition({id:s,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:l,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}(),kf=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=e.events.subscribe((function(t){t instanceof sc&&i.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Ef(this.skipLocationChange),replaceUrl:Ef(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Qt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ef(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ef(this.preserveFragment)})}}]),t}();function Ef(t){return""===t||!!t}var Tf=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new If,this.attachRef=null},If=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new Tf,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),Sf=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new wi,this.deactivateEvents=new wi,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new xf(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}(),xf=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===fh?this.route:t===If?this.childContexts:this.parent.get(t,e)}}]),t}(),Of=function t(){_classCallCheck(this,t)},Pf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(Fs((function(){return hs(null)})))}}]),t}(),Nf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return hs(null)}}]),t}(),Af=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new gf(n,r,(function(t){return e.triggerEvent(new gc(t))}),(function(t){return e.triggerEvent(new mc(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(bs((function(t){return t instanceof sc})),Js((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(Lt);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var l=o._loadedConfig;r.push(this.processRoutes(l.module,l.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(a){i.e(a)}finally{i.f()}return Q(r).pipe(Z(),H((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe($((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}(),Df=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof ac?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof sc&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Cc&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Cc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}(),Rf=new It("ROUTER_CONFIGURATION"),Mf=new It("ROUTER_FORROOT_GUARD"),Lf=[fa,{provide:Hc,useClass:Wc},{provide:Cf,useFactory:zf,deps:[vo,Hc,If,fa,Se,mo,qi,vf,Rf,[mf,new ut],[df,new ut]]},If,{provide:fh,useFactory:Hf,deps:[Cf]},{provide:mo,useClass:bo},Af,Nf,Pf,{provide:Rf,useValue:{enableTracing:!1}}];function Ff(){return new so("Router",Cf)}var jf=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Lf,Bf(e),{provide:Mf,useFactory:qf,deps:[[Cf,new ut,new ht]]},{provide:Rf,useValue:n||{}},{provide:ca,useFactory:Uf,deps:[sa,[new st(ha),new ut],Rf]},{provide:Df,useFactory:Vf,deps:[Cf,ls,Rf]},{provide:Of,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Nf},{provide:so,multi:!0,useFactory:Ff},[Wf,{provide:Ei,multi:!0,useFactory:Gf,deps:[Wf]},{provide:Qf,useFactory:Kf,deps:[Wf]},{provide:Ni,multi:!0,useExisting:Qf}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Bf(e)]}}}]),t}();function Vf(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Df(t,e,n)}function Uf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new pa(t,e):new va(t,e)}function qf(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Bf(t){return[{provide:Me,multi:!0,useValue:t},{provide:vf,multi:!0,useValue:t}]}function zf(t,e,n,r,i,o,l,a){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,h=new Cf(null,e,n,r,i,o,l,Rc(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),s.errorHandler&&(h.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(h.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var f=nu();h.events.subscribe((function(t){f.logGroup("Router Event: ".concat(t.constructor.name)),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return s.onSameUrlNavigation&&(h.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(h.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(h.relativeLinkResolution=s.relativeLinkResolution),h}function Hf(t){return t.routerState.root}var Wf=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new P}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(ua,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(Cf),i=t.injector.get(Rf);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?hs(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Rf),n=this.injector.get(Af),r=this.injector.get(Df),i=this.injector.get(Cf),o=this.injector.get(vo);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}();function Gf(t){return t.appInitializer.bind(t)}function Kf(t){return t.bootstrapListener.bind(t)}var Qf=new It("Router Initializer"),$f=Bn({encapsulation:2,styles:[],data:{}});function Yf(t){return Jo(0,[(t()(),Mo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Jr(1,212992,null,0,Sf,[If,Tn,Ye,[8,null],ke],null,null)],(function(t,e){t(e,1,0)}),null)}var Xf=xr("ng-component",kc,(function(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"ng-component",[],null,null,null,Yf,$f)),Jr(1,49152,null,0,kc,[],null,null)],null,null)}),{},{},[]),Jf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this,t)).sources=r,i.completed=0,i.haveValues=0;var o=r.length;i.values=new Array(o);for(var l=0;l<o;l++){var a=B(_assertThisInitialized(i),r[l],null,l);a&&i.add(a)}return i}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}]),n}(z),Zf=new It("NgValueAccessor"),td=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),ed=new It("CompositionEventMode"),nd=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=nu()?nu().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}(),rd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}(),id=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(rd);function od(){throw new Error("unimplemented")}var ld=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return od()}},{key:"asyncValidator",get:function(){return od()}}]),n}(rd),ad=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),sd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(ad),ud=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(ad);function cd(t){return null==t||0===t.length}var hd=new It("NgValidators"),fd=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(cd(e.value)||cd(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(cd(e.value)||cd(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return cd(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return cd(t.value)?null:fd.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(cd(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(cd(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(pd);return 0==e.length?null:function(t){return gd(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(pd);return 0==e.length?null:function(t){return function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i;return"function"==typeof n[n.length-1]&&(i=n.pop()),1===n.length&&s(n[0])&&(n=n[0]),0===n.length?ss:i?t(n).pipe(H((function(t){return i.apply(void 0,_toConsumableArray(t))}))):new k((function(t){return new Jf(t,n)}))}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(vd)).pipe(H(gd))}}}]),t}();function pd(t){return null!=t}function vd(t){var e=ze(t)?Q(t):t;if(!He(e))throw new Error("Expected validator to return Promise or Observable.");return e}function gd(t){var e=t.reduce((function(t,e){return null!=e?Object.assign({},t,e):t}),{});return 0===Object.keys(e).length?null:e}function md(t){return t.validate?function(e){return t.validate(e)}:t}function yd(t){return t.validate?function(e){return t.validate(e)}:t}var _d=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}(),bd='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',wd='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function Cd(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var kd=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=je}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Cd(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}(),Ed=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Cd(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}}]),t}();function Td(t,e){return null==t?"".concat(e):("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var Id=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(Td(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(Td(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}}]),t}();function Sd(t,e){return[].concat(_toConsumableArray(e.path),[t])}function xd(t,e){t||Pd(e,"Cannot find control with"),e.valueAccessor||Pd(e,"No value accessor for form control with"),t.validator=dd.compose([t.validator,e.validator]),t.asyncValidator=dd.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Od(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Od(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function Od(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Pd(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function Nd(t){return null!=t?dd.compose(t.map(md)):null}function Ad(t){return null!=t?dd.composeAsync(t.map(yd)):null}var Dd=[td,function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),kd,function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=je}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var l=i.item(o),a=e._getOptionValue(l.value);r.push(a)}else for(var s=n.options,u=0;u<s.length;u++){var c=s.item(u);if(c.selected){var h=e._getOptionValue(c.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}(),function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(ld),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()];function Rd(t){var e=Ld(t)?t.validators:t;return Array.isArray(e)?Nd(e):e||null}function Md(t,e){var n=Ld(e)?e.asyncValidators:t;return Array.isArray(n)?Ad(n):n||null}function Ld(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Fd=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=Rd(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=Md(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign({},t,{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign({},t,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=vd(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((function(t,e){return t instanceof Vd?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Ud&&t.at(e)||null}),t))}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new wi,this.statusChanges=new wi}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Ld(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),jd=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,Rd(i),Md(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Fd),Vd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,Rd(r),Md(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof jd?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Fd),Ud=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,Rd(r),Md(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof jd?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(Fd),qd=Promise.resolve(null),Bd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new wi,i.form=new Vd({},Nd(t),Ad(r)),i}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;qd.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),xd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;qd.then((function(){var n,r,i,o=e._findContainer(t.path);o&&o.removeControl(t.name),n=e._directives,r=t,(i=n.indexOf(r))>-1&&n.splice(i,1)}))}},{key:"addFormGroup",value:function(t){var e=this;qd.then((function(){var n=e._findContainer(t.path),r=new Vd({});(function(t,e){null==t&&Pd(e,"Cannot find control with"),t.validator=dd.compose([t.validator,e.validator]),t.asyncValidator=dd.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;qd.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;qd.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(id),zd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(bd,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(wd))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(bd,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(wd))}},{key:"ngFormWarning",value:function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}]),t}(),Hd=new It("NgFormSelectorWarning"),Wd=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Sd(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Nd(this._validators)}},{key:"asyncValidator",get:function(){return Ad(this._asyncValidators)}}]),n}(id),Gd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof Bd||zd.modelGroupParentException()}}]),n}(Wd),Kd=Promise.resolve(null),Qd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var l;return _classCallCheck(this,n),(l=e.call(this)).control=new jd,l._registered=!1,l.update=new wi,l._parent=t,l._rawValidators=r||[],l._rawAsyncValidators=i||[],l.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Pd(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===nd?n=e:(o=e,Dd.some((function(t){return o.constructor===t}))?(r&&Pd(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Pd(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(Pd(t,"No valid value accessor for form control with"),null)}(_assertThisInitialized(l),o),l}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!je(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){xd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Gd)&&this._parent instanceof Wd?zd.formGroupNameException():this._parent instanceof Gd||this._parent instanceof Bd||zd.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||zd.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;Kd.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Kd.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?Sd(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Nd(this._rawValidators)}},{key:"asyncValidator",get:function(){return Ad(this._rawAsyncValidators)}}]),n}(ld),$d=function t(){_classCallCheck(this,t)},Yd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validate",value:function(t){return this.required?dd.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&"false"!=="".concat(t),this._onChange&&this._onChange()}}]),t}(),Xd=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"validate",value:function(t){return this.required?dd.requiredTrue(t):null}}]),n}(Yd),Jd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnChanges",value:function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null==this.minlength?null:this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=dd.minLength(parseInt(this.minlength,10))}}]),t}(),Zd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnChanges",value:function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null!=this.maxlength?this._validator(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=dd.maxLength(parseInt(this.maxlength,10))}}]),t}(),tp=function t(){_classCallCheck(this,t)},ep=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:Hd,useValue:e.warnOnDeprecatedNgFormSelector}]}}}]),t}(),np=function(){function t(){_classCallCheck(this,t),this.images=[]}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),rp=Bn({encapsulation:0,styles:[[""]],data:{}});function ip(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Mo(1,0,null,null,1,"a",[["data-placement","top"],["data-toggle","tooltip"],["title","Claire Connors"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,0,"img",[["alt","Claire Connors"],["class","avatar"]],[[8,"src",4]],null,null,null,null))],null,(function(t,e){t(e,2,0,e.context.$implicit)}))}function op(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,"ul",[["class","avatars"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,ip)),Jr(2,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.images)}),null)}function lp(t,e,n,r){return new(n||(n=Promise))((function(i,o){function l(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}s((r=r.apply(t,e||[])).next())}))}var ap=function(){function t(e){_classCallCheck(this,t),this._http=e,this.projectData=[],this.OnshowMembers=new wi,this.members=[],this.userImages=ia.userImages,this.badgeStyleClass={Owner:"badge-dark",Admin:"badge-warning",Developer:"badge-info"},this.isChanged=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.members=this.projectData.members;for(var t=this.members.length,e=0;e<t;e++){var n=this.members[e];if(n.name===this.userName){this.userInProjectData=n;break}}}},{key:"loadMembersmodel",value:function(){this.OnshowMembers.emit(this.members)}},{key:"OnstatusChanged",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._http.POST("/projects/update/member/details",{value:this.userInProjectData.status.value,name:this.projectData.name}).toPromise();case 2:case"end":return t.stop()}}),t,this)})))}}]),t}(),sp=function(){function t(e,n){_classCallCheck(this,t),this._http=e,this.router=n}return _createClass(t,[{key:"GET",value:function(t){return this._http.get("http://localhost:3000/api"+t)}},{key:"POST",value:function(t,e){return this._http.post("http://localhost:3000/api"+t,e)}},{key:"REDIRECT",value:function(t){return this.router.navigate([t])}}]),t}(),up=Bn({encapsulation:0,styles:[[""]],data:{}});function cp(t){return Jo(0,[(t()(),Mo(0,0,null,null,3,"option",[],null,null,null,null,null)),Jr(1,147456,null,0,Ed,[tn,on,[2,kd]],null,null),Jr(2,147456,null,0,Id,[tn,on,[8,null]],null,null),(t()(),$o(3,null,[""," "]))],null,(function(t,e){t(e,3,0,e.context.$implicit)}))}function hp(t){return Jo(0,[Zr(0,rs,[Di]),(t()(),Mo(1,0,null,null,33,"div",[["class","card card-project"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,1,"div",[["class","progress"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","60"],["class","progress-bar bg-danger"],["role","progressbar"],["style","width: 60%"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,30,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,4,"div",[["class","card-options"]],null,null,null,null,null)),(t()(),Mo(6,0,null,null,3,"span",[["class","badge badge-pill badge-primary ml-1"],["style","font-size: 12px;"]],null,null,null,null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(8,278528,null,0,$a,[Ka],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),$o(9,null,[" "," "])),(t()(),Mo(10,0,null,null,4,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),Mo(11,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(12,671744,null,0,kf,[Cf,fh,ca],{routerLink:[0,"routerLink"]},null),(t()(),Mo(13,0,null,null,1,"h5",[["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(14,null,[" "," "])),(t()(),Mo(15,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(16,0,null,null,1,"app-avatar-list",[["data-target","#projectMembers"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.loadMembersmodel()&&r),r}),op,rp)),Jr(17,114688,null,0,np,[],{images:[0,"images"]},null),(t()(),Mo(18,0,null,null,16,"div",[["class","card-meta d-flex justify-content-between"]],null,null,null,null,null)),(t()(),Mo(19,0,null,null,10,"div",[["class","d-flex align-items-center"]],null,null,null,null,null)),(t()(),Mo(20,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),Mo(21,0,null,null,8,"select",[["class","custom-select"],["id","inputGroupSelect02"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==Vr(t,22).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,22).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.userInProjectData.status.value=n)&&r),"ngModelChange"===e&&(r=!1!==i.OnstatusChanged()&&r),r}),null,null)),Jr(22,16384,null,0,kd,[on,tn],null,null),ti(1024,null,Zf,(function(t){return[t]}),[kd]),Jr(24,671744,null,0,Qd,[[8,null],[8,null],[8,null],[6,Zf]],{model:[0,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(26,16384,null,0,sd,[[4,ld]],null,null),(t()(),Ro(16777216,null,null,2,null,cp)),Jr(28,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),Go(29,3),(t()(),Mo(30,0,null,null,4,"span",[["class","text-small"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),Mo(31,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),$o(-1,null,["Due: "])),(t()(),$o(33,null,[" ",""])),Wo(34,1)],(function(t,e){var n=e.component;t(e,8,0,"badge badge-pill badge-primary ml-1",n.badgeStyleClass[n.userInProjectData.permission]),t(e,12,0,"/project/"+n.projectData.name),t(e,17,0,n.userImages),t(e,24,0,n.userInProjectData.status.value);var r=t(e,29,0,"Break","Working","Do Not Disturb");t(e,28,0,r)}),(function(t,e){var n=e.component;t(e,9,0,n.userInProjectData.permission),t(e,11,0,Vr(e,12).target,Vr(e,12).href),t(e,14,0,null==n.projectData?null:n.projectData.name),t(e,21,0,Vr(e,26).ngClassUntouched,Vr(e,26).ngClassTouched,Vr(e,26).ngClassPristine,Vr(e,26).ngClassDirty,Vr(e,26).ngClassValid,Vr(e,26).ngClassInvalid,Vr(e,26).ngClassPending);var r=qn(e,33,0,t(e,34,0,Vr(e,0),null==n.projectData?null:n.projectData.endingDate));t(e,33,0,r)}))}var fp=function(){function t(e,n){_classCallCheck(this,t),this.changeDetectorRef=e,this.ngZone=n}return _createClass(t,[{key:"transform",value:function(t){var e=this;this.removeTimer();var n=new Date(t),r=new Date,i=Math.round(Math.abs((r.getTime()-n.getTime())/1e3)),o=Number.isNaN(i)?1e3:1e3*this.getSecondsUntilUpdate(i);this.timer=this.ngZone.runOutsideAngular((function(){return"undefined"!=typeof window?window.setTimeout((function(){e.ngZone.run((function(){return e.changeDetectorRef.markForCheck()}))}),o):null}));var l=Math.round(Math.abs(i/60)),a=Math.round(Math.abs(l/60)),s=Math.round(Math.abs(a/24)),u=Math.round(Math.abs(s/30.416)),c=Math.round(Math.abs(s/365));return Number.isNaN(i)?"":i<=45?"a few seconds ago":i<=90?"a minute ago":l<=45?l+" minutes ago":l<=90?"an hour ago":a<=22?a+" hours ago":a<=36?"a day ago":s<=25?s+" days ago":s<=45?"a month ago":s<=345?u+" months ago":s<=545?"a year ago":c+" years ago"}},{key:"ngOnDestroy",value:function(){this.removeTimer()}},{key:"removeTimer",value:function(){this.timer&&(window.clearTimeout(this.timer),this.timer=null)}},{key:"getSecondsUntilUpdate",value:function(t){return t<60?2:t<3600?30:t<86400?300:3600}}]),t}(),dp=function(){function t(){_classCallCheck(this,t),this.title="Members",this.badgeStyleClass={Owner:"badge-dark",Admin:"badge-warning",Developer:"badge-info"},this.avatars=ia.userImages}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),pp=Bn({encapsulation:0,styles:[[""]],data:{}});function vp(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"strong",[["style","font-size: 10px; color: rgb(197, 197, 197);"]],null,null,null,null,null)),(t()(),$o(1,null,["",""]))],null,(function(t,e){t(e,1,0," - "+e.parent.context.$implicit.status.value)}))}function gp(t){return Jo(0,[(t()(),Mo(0,0,null,null,3,"span",[["class","badge badge-pill badge-primary my-1"],["data-filter-by","text"]],null,null,null,null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(2,278528,null,0,$a,[Ka],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),$o(3,null,[" "," "]))],(function(t,e){t(e,2,0,"badge badge-pill badge-primary my-1",e.component.badgeStyleClass[e.parent.context.$implicit.permission])}),(function(t,e){t(e,3,0,e.parent.context.$implicit.permission)}))}function mp(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,"span",[["class","badge badge-pill badge-secondary my-1"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(1,null,[" Active "," "])),Zr(131072,fp,[ke,Yi])],null,(function(t,e){t(e,1,0,qn(e,1,0,Vr(e,2).transform(e.parent.context.$implicit.lastActive)))}))}function yp(t){return Jo(0,[(t()(),Mo(0,0,null,null,13,"div",[["class","col-6"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,12,"a",[["class","media media-member"],["data-dismiss","modal"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(2,671744,null,0,kf,[Cf,fh,ca],{routerLink:[0,"routerLink"]},null),Go(3,1),(t()(),Mo(4,0,null,null,0,"img",[["alt","Claire Connors"],["class","avatar avatar-lg"]],[[8,"src",4]],null,null,null,null)),(t()(),Mo(5,0,null,null,8,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(6,0,null,null,3,"h6",[["class","mb-0"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(7,null,[""," "])),(t()(),Ro(16777216,null,null,1,null,vp)),Jr(9,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,gp)),Jr(11,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,mp)),Jr(13,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=t(e,3,0,"/profile/"+(e.context.$implicit.name||e.context.$implicit.userName));t(e,2,0,n),t(e,9,0,e.context.$implicit.status),t(e,11,0,e.context.$implicit.permission),t(e,13,0,!e.context.$implicit.permission)}),(function(t,e){var n=e.component;t(e,1,0,Vr(e,2).target,Vr(e,2).href),t(e,4,0,n.avatars[e.context.$implicit.avatar]),t(e,7,0,e.context.$implicit.name||e.context.$implicit.userName)}))}function _p(t){return Jo(0,[(t()(),Mo(0,0,null,null,14,"div",[["class","row content-list-head"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,2,"div",[["class","col-auto"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),$o(3,null,["",""])),(t()(),Mo(4,0,null,null,10,"form",[["class","col-md-auto"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,6).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,6).onReset()&&r),r}),null,null)),Jr(5,16384,null,0,$d,[],null,null),Jr(6,4210688,null,0,Bd,[[8,null],[8,null]],null,null),ti(2048,null,id,null,[Bd]),Jr(8,16384,null,0,ud,[[4,id]],null,null),(t()(),Mo(9,0,null,null,5,"div",[["class","input-group input-group-round"]],null,null,null,null,null)),(t()(),Mo(10,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),Mo(11,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),Mo(12,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["filter_list"])),(t()(),Mo(14,0,null,null,0,"input",[["aria-label","Filter Members"],["class","form-control filter-list-input"],["placeholder","Filter members"],["type","search"]],null,null,null,null,null)),(t()(),Mo(15,0,null,null,2,"div",[["class","content-list-body row"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,yp)),Jr(17,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,17,0,e.component.members)}),(function(t,e){t(e,3,0,e.component.title),t(e,4,0,Vr(e,8).ngClassUntouched,Vr(e,8).ngClassTouched,Vr(e,8).ngClassPristine,Vr(e,8).ngClassDirty,Vr(e,8).ngClassValid,Vr(e,8).ngClassInvalid,Vr(e,8).ngClassPending)}))}var bp=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"setMembersModelData",value:function(t){this.membersModelData=t}}]),t}(),wp=Bn({encapsulation:0,styles:[[".my-custom-scrollbar[_ngcontent-%COMP%]{position:relative;max-height:300px;overflow:auto}"]],data:{}});function Cp(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,1,"app-project-table-row",[],null,[[null,"OnshowMembers"]],(function(t,e,n){var r=!0;return"OnshowMembers"===e&&(r=!1!==t.component.setMembersModelData(n)&&r),r}),hp,up)),Jr(2,114688,null,0,ap,[sp],{projectData:[0,"projectData"],index:[1,"index"],userName:[2,"userName"]},{OnshowMembers:"OnshowMembers"})],(function(t,e){t(e,2,0,e.context.$implicit,e.context.index,e.component.userName)}),null)}function kp(t){return Jo(0,[(t()(),Mo(0,0,null,null,4,"div",[["class","col-12"],["style","text-align: center; margin-top: 20px "]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"img",[["alt",".."],["src","../../../../assets/images/noProject.svg"],["style","width: 30%; height: 30%; "]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,2,"div",[["class","mt-4"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#project-add-modal"],["data-toggle","modal"],["style","width: 50%;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" + Create Project"]))],null,null)}function Ep(t){return Jo(0,[(t()(),Mo(0,0,null,null,17,"div",[["class","row content-list-head"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,5,"div",[["class","col-auto"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),$o(-1,null,["Projects"])),(t()(),Mo(4,0,null,null,2,"button",[["class","btn btn-round"],["data-target","#project-add-modal"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["add"])),(t()(),Mo(7,0,null,null,10,"form",[["class","col-md-auto"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,9).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,9).onReset()&&r),r}),null,null)),Jr(8,16384,null,0,$d,[],null,null),Jr(9,4210688,null,0,Bd,[[8,null],[8,null]],null,null),ti(2048,null,id,null,[Bd]),Jr(11,16384,null,0,ud,[[4,id]],null,null),(t()(),Mo(12,0,null,null,5,"div",[["class","input-group input-group-round"]],null,null,null,null,null)),(t()(),Mo(13,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),Mo(14,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),Mo(15,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["filter_list"])),(t()(),Mo(17,0,null,null,0,"input",[["aria-label","Filter Projects"],["class","form-control filter-list-input"],["placeholder","Filter projects"],["type","search"]],null,null,null,null,null)),(t()(),Mo(18,0,null,null,2,"div",[["class"," content-list-body row"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,Cp)),Jr(20,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ro(16777216,null,null,1,null,kp)),Jr(22,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(23,0,null,null,8,"div",[["aria-hidden","true"],["class","modal fade "],["id","projectMembers"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(24,0,null,null,7,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),Mo(25,0,null,null,6,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Mo(26,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Mo(27,0,null,null,1,"app-users-list-big",[],null,null,null,_p,pp)),Jr(28,114688,null,0,dp,[],{members:[0,"members"]},null),(t()(),Mo(29,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Mo(30,0,null,null,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),$o(-1,null,["Close"]))],(function(t,e){var n=e.component;t(e,20,0,n.tableData),t(e,22,0,0===(null==n.tableData?null:n.tableData.length)),t(e,28,0,n.membersModelData)}),(function(t,e){t(e,7,0,Vr(e,11).ngClassUntouched,Vr(e,11).ngClassTouched,Vr(e,11).ngClassPristine,Vr(e,11).ngClassDirty,Vr(e,11).ngClassValid,Vr(e,11).ngClassInvalid,Vr(e,11).ngClassPending)}))}var Tp=function(){function t(e,n){_classCallCheck(this,t),this._data=e,this._http=n,this.blockedMembers=new Set,this.onMemberAdded=new wi,this.searchText="",this.following=[],this.searchData=[],this.membersAdded=[],this.avatars=ia.userImages,this.membersName=new Set}return _createClass(t,[{key:"ngOnInit",value:function(){this.fetchFollowing()}},{key:"toggleUser",value:function(t){var e=t.userName;if(this.membersName.has(e)){var n=_toConsumableArray(this.membersName).indexOf(t.userName);this.membersName.delete(e),this.membersAdded.splice(n,1)}else this.membersAdded.push(t),this.membersName.add(e);this.onMemberAdded.emit(this.membersAdded)}},{key:"fetchFollowing",value:function(){var t=this;this.$following=this._data.getFollowing().subscribe((function(e){t.following=e}))}},{key:"searchUsers",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===this.searchText){t.next=12;break}return t.prev=1,t.t0=_toConsumableArray,t.next=5,this._http.GET("/users/search/"+this.searchText).toPromise();case 5:t.t1=t.sent,this.searchData=(0,t.t0)(t.t1),t.next=12;break;case 9:t.prev=9,t.t2=t.catch(1),alert("Opprs"),console.log(t.t2);case 12:case"end":return t.stop()}}),t,this,[[1,9]])})))}},{key:"ngOnDestroy",value:function(){this.$following.unsubscribe()}}]),t}(),Ip=function(){function t(e){_classCallCheck(this,t),this._http=e,this.$userdata=new fs({}),this.$followingData=new fs([]),this.currentUserName=""}return _createClass(t,[{key:"refresh",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchUser();case 2:this.fetchfollowing();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"reset",value:function(){this.currentUserName="",this.$userdata.next({}),this.$followingData.next([])}},{key:"getUser",value:function(){return""===this.currentUserName&&this.refresh(),this.$userdata}},{key:"setUser",value:function(t){this.$userdata.next(t)}},{key:"getFollowing",value:function(){return""===this.currentUserName&&this.refresh(),this.$followingData}},{key:"setFollowing",value:function(t){this.$followingData.next(_toConsumableArray(t))}},{key:"fetchUser",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,void 0!==this.currentUserName){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this._http.GET("/users/get").toPromise();case 5:e=t.sent,this.currentUserName=e.data.userName,this.$userdata.next(e.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("Error loading User");case 12:case"end":return t.stop()}}),t,this,[[0,9]])})))}},{key:"fetchfollowing",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._http.GET("/users/following/".concat(this.currentUserName)).toPromise();case 3:e=t.sent,this.$followingData.next(_toConsumableArray(e.data.following)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error loading following");case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),t}(),Sp=Bn({encapsulation:0,styles:[""],data:{}});function xp(t){return Jo(0,[(t()(),Mo(0,0,null,null,0,"img",[["alt","Claire Connors"],["class","avatar"],["data-title","Claire Connors"],["data-toggle","tooltip"]],[[8,"src",4]],null,null,null,null))],null,(function(t,e){t(e,0,0,e.component.avatars[e.context.$implicit.avatar])}))}function Op(t){return Jo(0,[(t()(),Mo(0,0,null,null,5,"div",[["class","my-2"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"img",[["alt","Claire Connors"],["class","avatar mr-2"]],[[8,"src",4]],null,null,null,null)),(t()(),Mo(2,0,null,null,1,"span",[["class","h6 mb-0"]],null,null,null,null,null)),(t()(),$o(3,null,[" "," "])),(t()(),Mo(4,0,null,null,1,"button",[["class","btn btn-outline-danger float-right"],["role","button"],["style","width: 90px; font-size: 11.5px; padding: 2px; margin-top: 5px;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleUser(t.context.$implicit)&&r),r}),null,null)),(t()(),$o(-1,null,["Remove"]))],null,(function(t,e){t(e,1,0,e.component.avatars[e.context.$implicit.avatar]),t(e,3,0,e.context.$implicit.userName)}))}function Pp(t){return Jo(0,[(t()(),Mo(0,0,null,null,7,"div",[["class","my-2"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"img",[["alt","Claire Connors"],["class","avatar mr-2"]],[[8,"src",4]],null,null,null,null)),(t()(),Mo(2,0,null,null,1,"span",[["class","h6 mb-0"]],null,null,null,null,null)),(t()(),$o(3,null,[" "," "])),(t()(),Mo(4,0,null,null,3,"button",[["role","button"],["style","width: 90px; font-size: 11.5px; padding: 2px;"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleUser(t.context.$implicit)&&r),r}),null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(6,278528,null,0,$a,[Ka],{ngClass:[0,"ngClass"]},null),(t()(),$o(7,null,[" "," "]))],(function(t,e){t(e,6,0,e.component.membersName.has(e.context.$implicit.userName)?"btn btn-outline-danger float-right":"btn btn-outline-primary float-right ")}),(function(t,e){var n=e.component;t(e,1,0,n.avatars[e.context.$implicit.avatar]),t(e,3,0,e.context.$implicit.userName),t(e,4,0,null==n.blockedMembers?null:n.blockedMembers.has(e.context.$implicit.userName)),t(e,7,0,n.membersName.has(e.context.$implicit.userName)?"Remove":"Add")}))}function Np(t){return Jo(0,[(t()(),Mo(0,0,null,null,7,"div",[["class","my-2"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"img",[["alt","Claire Connors"],["class","avatar mr-2"]],[[8,"src",4]],null,null,null,null)),(t()(),Mo(2,0,null,null,1,"span",[["class","h6 mb-0"]],null,null,null,null,null)),(t()(),$o(3,null,[" "," "])),(t()(),Mo(4,0,null,null,3,"button",[["role","button"],["style","width: 90px; font-size: 11.5px; padding: 2px;"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleUser(t.context.$implicit)&&r),r}),null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(6,278528,null,0,$a,[Ka],{ngClass:[0,"ngClass"]},null),(t()(),$o(7,null,[" "," "]))],(function(t,e){t(e,6,0,e.component.membersName.has(e.context.$implicit.userName)?"btn btn-outline-danger float-right":"btn btn-outline-primary float-right")}),(function(t,e){var n=e.component;t(e,1,0,n.avatars[e.context.$implicit.avatar]),t(e,3,0,e.context.$implicit.userName),t(e,4,0,null==n.blockedMembers?null:n.blockedMembers.has(e.context.$implicit.userName)),t(e,7,0,n.membersName.has(e.context.$implicit.userName)?"Remove":"Add")}))}function Ap(t){return Jo(0,[(t()(),Mo(0,0,null,null,30,"div",[["class","users-manage"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,7,"div",[["class","mb-3 dropright"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,3,"ul",[["aria-expanded","false"],["aria-haspopup","true"],["class","avatars text-center dropdown-toggle"],["data-toggle","dropdown"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,xp)),Jr(5,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Mo(6,0,null,null,2,"div",[["class","dropdown-menu"],["style","width: 250px"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,Op)),Jr(8,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Mo(9,0,null,null,10,"div",[["class","input-group input-group-round"]],null,null,null,null,null)),(t()(),Mo(10,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),Mo(11,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),Mo(12,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["filter_list"])),(t()(),Mo(14,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["name","search"],["placeholder","Search "],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,15)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,15).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,15)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,15)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.searchText=n)&&r),"ngModelChange"===e&&(r=!1!==i.searchUsers()&&r),r}),null,null)),Jr(15,16384,null,0,nd,[on,tn,[2,ed]],null,null),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(17,671744,null,0,Qd,[[8,null],[8,null],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(19,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(20,0,null,null,1,"div",[["style","margin: 15px 0 0 5px; font-size: 13px;"]],null,null,null,null,null)),(t()(),$o(-1,null,["Search"])),(t()(),Mo(22,0,null,null,2,"div",[["class","form-group-users"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,Pp)),Jr(24,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Mo(25,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(26,0,null,null,1,"div",[["style","margin: 15px 0 0 5px; font-size: 13px;"]],null,null,null,null,null)),(t()(),$o(-1,null,["People you might know"])),(t()(),Mo(28,0,null,null,2,"div",[["class","form-group-users"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,Np)),Jr(30,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,n.membersAdded),t(e,8,0,n.membersAdded),t(e,17,0,"search",n.searchText),t(e,24,0,n.searchData),t(e,30,0,n.following)}),(function(t,e){t(e,14,0,Vr(e,19).ngClassUntouched,Vr(e,19).ngClassTouched,Vr(e,19).ngClassPristine,Vr(e,19).ngClassDirty,Vr(e,19).ngClassValid,Vr(e,19).ngClassInvalid,Vr(e,19).ngClassPending)}))}var Dp=function(){function t(e,n){_classCallCheck(this,t),this._http=e,this._data=n,this.searchData=[],this.membersAdded=[],this.formData={name:"",description:"",isPrivate:!0,members:[],sugessions:[],isFreeze:!1,endingdate:Date.now()}}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onMemberAdded",value:function(t){this.membersAdded=t}},{key:"createProject",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={name:this.formData.name,discription:this.formData.description,private:!this.formData.isPrivate,isFreeze:this.formData.isFreeze,startingDate:this.formData.startingDate,endingDate:this.formData.endingDate,members:[]},t.next=3,this._http.POST("/projects/post",e).toPromise();case 3:return n=t.sent,r=[],this.membersAdded.forEach((function(t){e.members.push({name:t.userName,permission:"Developer",avatar:t.avatar,status:{value:"Do Not Disturb"}}),r.push(i._http.POST("/projects/post/member",{name:n.data,member:{name:t.userName,permission:"Developer",avatar:t.avatar}}).toPromise())})),e.name=n.data,e.members.push({name:this.userInformation.userName,permission:"Owner",avatar:this.userInformation.avatar,status:{value:"Do Not Disturb"}}),this.userInformation.projects.push(e),this._data.setUser(this.userInformation),t.next=12,Promise.all(r);case 12:case"end":return t.stop()}}),t,this)})))}}]),t}(),Rp=Bn({encapsulation:0,styles:[[""]],data:{}});function Mp(t){return Jo(0,[(t()(),Mo(0,0,null,null,89,"form",[["aria-hidden","true"],["class","modal fade"],["id","project-add-modal"],["novalidate",""],["tabindex","-1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,2).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,2).onReset()&&r),r}),null,null)),Jr(1,16384,null,0,$d,[],null,null),Jr(2,4210688,null,0,Bd,[[8,null],[8,null]],null,null),ti(2048,null,id,null,[Bd]),Jr(4,16384,null,0,ud,[[4,id]],null,null),(t()(),Mo(5,0,null,null,84,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),Mo(6,0,null,null,83,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Mo(7,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Mo(8,0,null,null,1,"h5",[["class","modal-title"]],null,null,null,null,null)),(t()(),$o(-1,null,["New Project"])),(t()(),Mo(10,0,null,null,2,"button",[["aria-label","Close"],["class","close btn btn-round"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Mo(11,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["close"])),(t()(),Mo(13,0,null,null,6,"ul",[["class","nav nav-tabs nav-fill"],["role","tablist"]],null,null,null,null,null)),(t()(),Mo(14,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Mo(15,0,null,null,1,"a",[["aria-controls","project-add-details"],["aria-selected","true"],["class","nav-link active"],["data-toggle","tab"],["href","#project-add-details"],["id","project-add-details-tab"],["role","tab"]],null,null,null,null,null)),(t()(),$o(-1,null,["Details"])),(t()(),Mo(17,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Mo(18,0,null,null,1,"a",[["aria-controls","project-add-members"],["aria-selected","false"],["class","nav-link"],["data-toggle","tab"],["href","#project-add-members"],["id","project-add-members-tab"],["role","tab"]],null,null,null,null,null)),(t()(),$o(-1,null,["Members"])),(t()(),Mo(20,0,null,null,66,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Mo(21,0,null,null,65,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),Mo(22,0,null,null,60,"div",[["class","tab-pane fade show active"],["id","project-add-details"],["role","tabpanel"]],null,null,null,null,null)),(t()(),Mo(23,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),$o(-1,null,["General Details"])),(t()(),Mo(25,0,null,null,10,"div",[["class","form-group row align-items-center"]],null,null,null,null,null)),(t()(),Mo(26,0,null,null,1,"label",[["class","col-3"]],null,null,null,null,null)),(t()(),$o(-1,null,["Name"])),(t()(),Mo(28,0,null,null,7,"input",[["class","form-control col"],["name","project-name"],["placeholder","Project name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,29)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,29).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,29)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,29)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.formData.name=n)&&r),r}),null,null)),Jr(29,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(30,16384,null,0,Yd,[],{required:[0,"required"]},null),ti(1024,null,hd,(function(t){return[t]}),[Yd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(33,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(35,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(36,0,null,null,8,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),Mo(37,0,null,null,1,"label",[["class","col-3"]],null,null,null,null,null)),(t()(),$o(-1,null,["Description"])),(t()(),Mo(39,0,null,null,5,"textarea",[["class","form-control col"],["name","project-description"],["placeholder","Project description"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,40)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,40).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,40)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,40)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.formData.description=n)&&r),r}),null,null)),Jr(40,16384,null,0,nd,[on,tn,[2,ed]],null,null),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(42,671744,null,0,Qd,[[2,id],[8,null],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(44,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(45,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(46,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),$o(-1,null,["Timeline"])),(t()(),Mo(48,0,null,null,10,"div",[["class","form-group row align-items-center"]],null,null,null,null,null)),(t()(),Mo(49,0,null,null,1,"label",[["class","col-3"]],null,null,null,null,null)),(t()(),$o(-1,null,["Due Date"])),(t()(),Mo(51,0,null,null,7,"input",[["class","form-control col"],["name","project-start"],["placeholder","Select a date"],["required",""],["type","date"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,52)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,52).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,52)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,52)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.formData.endingDate=n)&&r),r}),null,null)),Jr(52,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(53,16384,null,0,Yd,[],{required:[0,"required"]},null),ti(1024,null,hd,(function(t){return[t]}),[Yd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(56,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(58,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(59,0,null,null,2,"div",[["class","alert alert-warning text-small"],["role","alert"]],null,null,null,null,null)),(t()(),Mo(60,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),$o(-1,null,["You can change due dates at any time."])),(t()(),Mo(62,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(63,0,null,null,9,"h5",[],null,null,null,null,null)),(t()(),$o(-1,null,["Public "])),(t()(),Mo(65,0,null,null,7,"input",[["name","isPrivate"],["required",""],["type","checkbox"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==Vr(t,66).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Vr(t,66).onTouched()&&r),"ngModelChange"===e&&(r=0!=!(i.formData.isPrivate=n)&&r),r}),null,null)),Jr(66,16384,null,0,td,[on,tn],null,null),Jr(67,16384,null,0,Xd,[],{required:[0,"required"]},null),ti(1024,null,hd,(function(t){return[t]}),[Xd]),ti(1024,null,Zf,(function(t){return[t]}),[td]),Jr(70,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(72,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(73,0,null,null,9,"h5",[],null,null,null,null,null)),(t()(),$o(-1,null,["Freeze "])),(t()(),Mo(75,0,null,null,7,"input",[["name","isPrivate"],["required",""],["type","checkbox"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==Vr(t,76).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Vr(t,76).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.formData.isFreee=n)&&r),r}),null,null)),Jr(76,16384,null,0,td,[on,tn],null,null),Jr(77,16384,null,0,Xd,[],{required:[0,"required"]},null),ti(1024,null,hd,(function(t){return[t]}),[Xd]),ti(1024,null,Zf,(function(t){return[t]}),[td]),Jr(80,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(82,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(83,0,null,null,3,"div",[["class","tab-pane fade"],["id","project-add-members"],["role","tabpanel"]],null,null,null,null,null)),(t()(),Mo(84,0,null,null,2,"div",[["class","users-manage"]],null,null,null,null,null)),(t()(),Mo(85,0,null,null,1,"app-select-users",[],null,[[null,"onMemberAdded"]],(function(t,e,n){var r=!0;return"onMemberAdded"===e&&(r=!1!==t.component.onMemberAdded(n)&&r),r}),Ap,Sp)),Jr(86,245760,null,0,Tp,[Ip,sp],null,{onMemberAdded:"onMemberAdded"}),(t()(),Mo(87,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Mo(88,0,null,null,1,"button",[["class","btn btn-primary"],["data-dismiss","modal"],["role","button"],["type","submit"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.createProject()&&r),r}),null,null)),(t()(),$o(-1,null,[" Create Project "]))],(function(t,e){var n=e.component;t(e,30,0,""),t(e,33,0,"project-name",n.formData.name),t(e,42,0,"project-description",n.formData.description),t(e,53,0,""),t(e,56,0,"project-start",n.formData.endingDate),t(e,67,0,""),t(e,70,0,"isPrivate",!n.formData.isPrivate),t(e,77,0,""),t(e,80,0,"isPrivate",n.formData.isFreee),t(e,86,0)}),(function(t,e){t(e,0,0,Vr(e,4).ngClassUntouched,Vr(e,4).ngClassTouched,Vr(e,4).ngClassPristine,Vr(e,4).ngClassDirty,Vr(e,4).ngClassValid,Vr(e,4).ngClassInvalid,Vr(e,4).ngClassPending),t(e,28,0,Vr(e,30).required?"":null,Vr(e,35).ngClassUntouched,Vr(e,35).ngClassTouched,Vr(e,35).ngClassPristine,Vr(e,35).ngClassDirty,Vr(e,35).ngClassValid,Vr(e,35).ngClassInvalid,Vr(e,35).ngClassPending),t(e,39,0,Vr(e,44).ngClassUntouched,Vr(e,44).ngClassTouched,Vr(e,44).ngClassPristine,Vr(e,44).ngClassDirty,Vr(e,44).ngClassValid,Vr(e,44).ngClassInvalid,Vr(e,44).ngClassPending),t(e,51,0,Vr(e,53).required?"":null,Vr(e,58).ngClassUntouched,Vr(e,58).ngClassTouched,Vr(e,58).ngClassPristine,Vr(e,58).ngClassDirty,Vr(e,58).ngClassValid,Vr(e,58).ngClassInvalid,Vr(e,58).ngClassPending),t(e,65,0,Vr(e,67).required?"":null,Vr(e,72).ngClassUntouched,Vr(e,72).ngClassTouched,Vr(e,72).ngClassPristine,Vr(e,72).ngClassDirty,Vr(e,72).ngClassValid,Vr(e,72).ngClassInvalid,Vr(e,72).ngClassPending),t(e,75,0,Vr(e,77).required?"":null,Vr(e,82).ngClassUntouched,Vr(e,82).ngClassTouched,Vr(e,82).ngClassPristine,Vr(e,82).ngClassDirty,Vr(e,82).ngClassValid,Vr(e,82).ngClassInvalid,Vr(e,82).ngClassPending)}))}var Lp=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),Fp=Bn({encapsulation:0,styles:[[""]],data:{}});function jp(t){return Jo(0,[(t()(),Mo(0,0,null,null,4,"button",[["aria-expanded","false"],["class","btn btn-primary btn-round btn-floating btn-lg"],["data-target","#floating-chat"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["chat_bubble"])),(t()(),Mo(3,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["close"])),(t()(),Mo(5,0,null,null,144,"div",[["class","collapse sidebar-floating"],["id","floating-chat"]],null,null,null,null,null)),(t()(),Mo(6,0,null,null,143,"div",[["class","sidebar-content"]],null,null,null,null,null)),(t()(),Mo(7,0,null,null,142,"div",[["class","chat-module"],["data-filter-list","chat-module-body"]],null,null,null,null,null)),(t()(),Mo(8,0,null,null,125,"div",[["class","chat-module-top"]],null,null,null,null,null)),(t()(),Mo(9,0,null,null,10,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,11).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,11).onReset()&&r),r}),null,null)),Jr(10,16384,null,0,$d,[],null,null),Jr(11,4210688,null,0,Bd,[[8,null],[8,null]],null,null),ti(2048,null,id,null,[Bd]),Jr(13,16384,null,0,ud,[[4,id]],null,null),(t()(),Mo(14,0,null,null,5,"div",[["class","input-group input-group-round"]],null,null,null,null,null)),(t()(),Mo(15,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),Mo(16,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),Mo(17,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["search"])),(t()(),Mo(19,0,null,null,0,"input",[["aria-label","Search Chat"],["class","form-control filter-list-input"],["placeholder","Search chat"],["type","search"]],null,null,null,null,null)),(t()(),Mo(20,0,null,null,113,"div",[["class","chat-module-body"]],null,null,null,null,null)),(t()(),Mo(21,0,null,null,10,"div",[["class","media chat-item"]],null,null,null,null,null)),(t()(),Mo(22,0,null,null,0,"img",[["alt","Claire"],["class","avatar"],["src","https://pipeline.mediumra.re/assets/img/avatar-female-1.jpg"]],null,null,null,null,null)),(t()(),Mo(23,0,null,null,8,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(24,0,null,null,4,"div",[["class","chat-item-title"]],null,null,null,null,null)),(t()(),Mo(25,0,null,null,1,"span",[["class","chat-item-author"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["Claire"])),(t()(),Mo(27,0,null,null,1,"span",[["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["4 days ago"])),(t()(),Mo(29,0,null,null,2,"div",[["class","chat-item-body"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),Mo(30,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["Hey guys, just kicking things off here in the chat window. Hope you're all ready to tackle this great project. Let's smash some Brand Concept & Design!"])),(t()(),Mo(32,0,null,null,14,"div",[["class","media chat-item"]],null,null,null,null,null)),(t()(),Mo(33,0,null,null,0,"img",[["alt","Peggy"],["class","avatar"],["src","https://pipeline.mediumra.re/assets/img/avatar-female-2.jpg"]],null,null,null,null,null)),(t()(),Mo(34,0,null,null,12,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(35,0,null,null,4,"div",[["class","chat-item-title"]],null,null,null,null,null)),(t()(),Mo(36,0,null,null,1,"span",[["class","chat-item-author"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["Peggy"])),(t()(),Mo(38,0,null,null,1,"span",[["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["4 days ago"])),(t()(),Mo(40,0,null,null,6,"div",[["class","chat-item-body"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),Mo(41,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["Nice one "])),(t()(),Mo(43,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),$o(-1,null,["@Claire"])),(t()(),$o(-1,null,[", we've got some killer ideas kicking about already. "])),(t()(),Mo(46,0,null,null,0,"img",[["alt","alt text"],["src","https://media.giphy.com/media/aTeHNLRLrwwwM/giphy.gif"],["title","Thinking"]],null,null,null,null,null)),(t()(),Mo(47,0,null,null,13,"div",[["class","media chat-item"]],null,null,null,null,null)),(t()(),Mo(48,0,null,null,0,"img",[["alt","Marcus"],["class","avatar"],["src","https://pipeline.mediumra.re/assets/img/avatar-male-1.jpg"]],null,null,null,null,null)),(t()(),Mo(49,0,null,null,11,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(50,0,null,null,4,"div",[["class","chat-item-title"]],null,null,null,null,null)),(t()(),Mo(51,0,null,null,1,"span",[["class","chat-item-author"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["Marcus"])),(t()(),Mo(53,0,null,null,1,"span",[["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["3 days ago"])),(t()(),Mo(55,0,null,null,5,"div",[["class","chat-item-body"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),Mo(56,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["Roger that boss! "])),(t()(),Mo(58,0,null,null,1,"a",[["href",""]],null,null,null,null,null)),(t()(),$o(-1,null,["@Ravi"])),(t()(),$o(-1,null,[" and I have already started gathering some stuff for the mood boards, excited to start! \uf525 "])),(t()(),Mo(61,0,null,null,10,"div",[["class","media chat-item"]],null,null,null,null,null)),(t()(),Mo(62,0,null,null,0,"img",[["alt","Ravi"],["class","avatar"],["src","https://pipeline.mediumra.re/assets/img/avatar-male-3.jpg"]],null,null,null,null,null)),(t()(),Mo(63,0,null,null,8,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(64,0,null,null,4,"div",[["class","chat-item-title"]],null,null,null,null,null)),(t()(),Mo(65,0,null,null,1,"span",[["class","chat-item-author"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["Ravi"])),(t()(),Mo(67,0,null,null,1,"span",[["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["3 days ago"])),(t()(),Mo(69,0,null,null,2,"div",[["class","chat-item-body"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),Mo(70,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),$o(-1,null,["\uf609"])),(t()(),Mo(72,0,null,null,16,"div",[["class","media chat-item"]],null,null,null,null,null)),(t()(),Mo(73,0,null,null,0,"img",[["alt","Claire"],["class","avatar"],["src","https://pipeline.mediumra.re/assets/img/avatar-female-1.jpg"]],null,null,null,null,null)),(t()(),Mo(74,0,null,null,14,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(75,0,null,null,4,"div",[["class","chat-item-title"]],null,null,null,null,null)),(t()(),Mo(76,0,null,null,1,"span",[["class","chat-item-author"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["Claire"])),(t()(),Mo(78,0,null,null,1,"span",[["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["2 days ago"])),(t()(),Mo(80,0,null,null,8,"div",[["class","chat-item-body"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),Mo(81,0,null,null,7,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["Can't wait! "])),(t()(),Mo(83,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),$o(-1,null,["@David"])),(t()(),$o(-1,null,[" how are we coming along with the "])),(t()(),Mo(86,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),$o(-1,null,["Client Objective Meeting"])),(t()(),$o(-1,null,["?"])),(t()(),Mo(89,0,null,null,19,"div",[["class","media chat-item"]],null,null,null,null,null)),(t()(),Mo(90,0,null,null,0,"img",[["alt","David"],["class","avatar"],["src","https://pipeline.mediumra.re/assets/img/avatar-male-4.jpg"]],null,null,null,null,null)),(t()(),Mo(91,0,null,null,17,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(92,0,null,null,4,"div",[["class","chat-item-title"]],null,null,null,null,null)),(t()(),Mo(93,0,null,null,1,"span",[["class","chat-item-author"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["David"])),(t()(),Mo(95,0,null,null,1,"span",[["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["Yesterday"])),(t()(),Mo(97,0,null,null,2,"div",[["class","chat-item-body"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),Mo(98,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["Coming along nicely, we've got a draft for the client questionnaire completed, take a look! \uf913"])),(t()(),Mo(100,0,null,null,8,"div",[["class","media media-attachment"]],null,null,null,null,null)),(t()(),Mo(101,0,null,null,2,"div",[["class","avatar bg-primary"]],null,null,null,null,null)),(t()(),Mo(102,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["insert_drive_file"])),(t()(),Mo(104,0,null,null,4,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(105,0,null,null,1,"a",[["data-filter-by","text"],["href","#"]],null,null,null,null,null)),(t()(),$o(-1,null,["questionnaire-draft.doc"])),(t()(),Mo(107,0,null,null,1,"span",[["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["24kb Document"])),(t()(),Mo(109,0,null,null,10,"div",[["class","media chat-item"]],null,null,null,null,null)),(t()(),Mo(110,0,null,null,0,"img",[["alt","Sally"],["class","avatar"],["src","https://pipeline.mediumra.re/assets/img/avatar-female-3.jpg"]],null,null,null,null,null)),(t()(),Mo(111,0,null,null,8,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(112,0,null,null,4,"div",[["class","chat-item-title"]],null,null,null,null,null)),(t()(),Mo(113,0,null,null,1,"span",[["class","chat-item-author"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["Sally"])),(t()(),Mo(115,0,null,null,1,"span",[["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["2 hours ago"])),(t()(),Mo(117,0,null,null,2,"div",[["class","chat-item-body"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),Mo(118,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["Great start guys, I've added some notes to the task. We may need to make some adjustments to the last couple of items - but no biggie!"])),(t()(),Mo(120,0,null,null,13,"div",[["class","media chat-item"]],null,null,null,null,null)),(t()(),Mo(121,0,null,null,0,"img",[["alt","Peggy"],["class","avatar"],["src","https://pipeline.mediumra.re/assets/img/avatar-female-2.jpg"]],null,null,null,null,null)),(t()(),Mo(122,0,null,null,11,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(123,0,null,null,4,"div",[["class","chat-item-title"]],null,null,null,null,null)),(t()(),Mo(124,0,null,null,1,"span",[["class","chat-item-author"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["Peggy"])),(t()(),Mo(126,0,null,null,1,"span",[["data-filter-by","text"]],null,null,null,null,null)),(t()(),$o(-1,null,["Just now"])),(t()(),Mo(128,0,null,null,5,"div",[["class","chat-item-body"],["data-filter-by","text"]],null,null,null,null,null)),(t()(),Mo(129,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["Well done "])),(t()(),Mo(131,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),$o(-1,null,["@all"])),(t()(),$o(-1,null,[". See you all at 2 for the kick-off meeting. \uf91c"])),(t()(),Mo(134,0,null,null,15,"div",[["class","chat-module-bottom"]],null,null,null,null,null)),(t()(),Mo(135,0,null,null,14,"form",[["class","chat-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,137).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,137).onReset()&&r),r}),null,null)),Jr(136,16384,null,0,$d,[],null,null),Jr(137,4210688,null,0,Bd,[[8,null],[8,null]],null,null),ti(2048,null,id,null,[Bd]),Jr(139,16384,null,0,ud,[[4,id]],null,null),(t()(),Mo(140,0,null,null,0,"textarea",[["class","form-control"],["placeholder","Type message"],["rows","1"]],null,null,null,null,null)),(t()(),Mo(141,0,null,null,8,"div",[["class","chat-form-buttons"]],null,null,null,null,null)),(t()(),Mo(142,0,null,null,2,"button",[["class","btn btn-link"],["type","button"]],null,null,null,null,null)),(t()(),Mo(143,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["tag_faces"])),(t()(),Mo(145,0,null,null,4,"div",[["class","custom-file custom-file-naked"]],null,null,null,null,null)),(t()(),Mo(146,0,null,null,0,"input",[["class","custom-file-input"],["id","customFile"],["type","file"]],null,null,null,null,null)),(t()(),Mo(147,0,null,null,2,"label",[["class","custom-file-label"],["for","customFile"]],null,null,null,null,null)),(t()(),Mo(148,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["attach_file"]))],null,(function(t,e){t(e,9,0,Vr(e,13).ngClassUntouched,Vr(e,13).ngClassTouched,Vr(e,13).ngClassPristine,Vr(e,13).ngClassDirty,Vr(e,13).ngClassValid,Vr(e,13).ngClassInvalid,Vr(e,13).ngClassPending),t(e,135,0,Vr(e,139).ngClassUntouched,Vr(e,139).ngClassTouched,Vr(e,139).ngClassPristine,Vr(e,139).ngClassDirty,Vr(e,139).ngClassValid,Vr(e,139).ngClassInvalid,Vr(e,139).ngClassPending)}))}var Vp=function(){function t(e){_classCallCheck(this,t),this._http=e,this.userImage="",this.indexFocus=0,this.formModuleData={editNoteForm:{name:"",message:"",crossOff:!1,id:""},newNoteForm:{name:"",message:""}}}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"crossOff",value:function(t,e){t.crossOff=!t.crossOff,this.preEdit(t,e),this.edit()}},{key:"preEdit",value:function(t,e){this.formModuleData.editNoteForm.name=t.name,this.formModuleData.editNoteForm.message=t.message,this.formModuleData.editNoteForm.crossOff=t.crossOff,this.formModuleData.editNoteForm.id=t._id,this.indexFocus=e}},{key:"edit",value:function(){var t=this;this._http.POST("/personalnotes/update",this.formModuleData.editNoteForm).toPromise().then((function(e){e.success?(t.notesData[t.indexFocus].name=t.formModuleData.editNoteForm.name,t.notesData[t.indexFocus].message=t.formModuleData.editNoteForm.message,t.notesData[t.indexFocus].crossOff=t.formModuleData.editNoteForm.crossOff):alert("oops")}))}},{key:"new",value:function(){var t=this;this._http.POST("/personalnotes/post",{name:this.formModuleData.newNoteForm.name,message:this.formModuleData.newNoteForm.message}).toPromise().then((function(e){if(!e.success)throw"Server err";t.notesData.push(e.data),t.formModuleData.newNoteForm={name:"",message:""}})).catch((function(t){alert("oops")}))}},{key:"delete",value:function(){var t=this;this._http.POST("/personalnotes/delete",{id:this.formModuleData.editNoteForm.id}).toPromise().then((function(e){e.success?t.notesData=t.notesData.filter((function(e,n){return n!==t.indexFocus})):alert(" oops ")}))}},{key:"popModel",value:function(){console.log("clicked")}}]),t}(),Up=Bn({encapsulation:0,styles:[[".crossOff[_ngcontent-%COMP%]{opacity:.4}"]],data:{}});function qp(t){return Jo(0,[(t()(),Mo(0,0,null,null,28,"div",[["class","col-lg-6"]],null,[[null,"dblclick"]],(function(t,e,n){var r=!0;return"dblclick"===e&&(r=!1!==t.component.popModel()&&r),r}),null,null)),(t()(),Mo(1,0,null,null,27,"div",[["class","card card-note"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,19,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,6,"div",[["class","media align-items-center"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,0,"img",[["alt",".."],["class","avatar"]],[[8,"src",4]],null,null,null,null)),(t()(),Mo(5,0,null,null,4,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(6,0,null,null,3,"h6",[["class","mb-0"],["style","word-wrap:break-word"]],null,null,null,null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(8,278528,null,0,$a,[Ka],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),$o(9,null,[" "," "])),(t()(),Mo(10,0,null,null,11,"div",[["class","d-flex align-items-center"]],null,null,null,null,null)),(t()(),Mo(11,0,null,null,10,"div",[["class","ml-1 dropdown card-options"]],null,null,null,null,null)),(t()(),Mo(12,0,null,null,2,"button",[["aria-expanded","false"],["aria-haspopup","true"],["class","btn-options"],["data-toggle","dropdown"],["id","..."],["type","button"]],null,null,null,null,null)),(t()(),Mo(13,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["more_vert"])),(t()(),Mo(15,0,null,null,6,"div",[["class","dropdown-menu dropdown-menu-right"]],null,null,null,null,null)),(t()(),Mo(16,0,null,null,1,"button",[["class","dropdown-item"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.crossOff(t.context.$implicit,t.context.index)&&r),r}),null,null)),(t()(),$o(17,null,[""," "])),(t()(),Mo(18,0,null,null,1,"button",[["class","dropdown-item"],["data-target","#editNote"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.preEdit(t.context.$implicit,t.context.index)&&r),r}),null,null)),(t()(),$o(-1,null,["Edit"])),(t()(),Mo(20,0,null,null,1,"button",[["class","dropdown-item text-danger"],["data-target","#deleteNote"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.preEdit(t.context.$implicit,t.context.index)&&r),r}),null,null)),(t()(),$o(-1,null,["Delete"])),(t()(),Mo(22,0,null,null,3,"pre",[["class","card-body mb-0 pb-1"]],null,null,null,null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(24,278528,null,0,$a,[Ka],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),$o(25,null,["",""])),(t()(),Mo(26,0,null,null,2,"span",[["class","mx-2 mb-2"],["style","text-align: right; font-size: 14px;"]],null,null,null,null,null)),(t()(),$o(27,null,[" "," "])),Wo(28,1)],(function(t,e){t(e,8,0,"mb-0",e.context.$implicit.crossOff&&"crossOff"),t(e,24,0,"card-body mb-0 pb-1",e.context.$implicit.crossOff&&"crossOff")}),(function(t,e){t(e,4,0,e.component.userImage),t(e,9,0,e.context.$implicit.name),t(e,17,0,e.context.$implicit.crossOff?"Restore":"Mark as done"),t(e,25,0,e.context.$implicit.message);var n=qn(e,27,0,t(e,28,0,Vr(e.parent,0),e.context.$implicit.timeStamp));t(e,27,0,n)}))}function Bp(t){return Jo(0,[(t()(),Mo(0,0,null,null,4,"div",[["class","col-12 my-2"],["style","text-align: center; margin-top: 20px;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"img",[["alt",".."],["src","../../../assets/images/stickey.svg"],["style","width: 30%; height: 30%; "]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,2,"div",[["class","mt-4"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,1,"button",[["class","btn btn-primary "],["data-target","#newNote"],["data-toggle","modal"],["style","width: 50%;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" + Create Personal Note"]))],null,null)}function zp(t){return Jo(0,[Zr(0,rs,[Di]),(t()(),Mo(1,0,null,null,12,"div",[["class","container"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,6,"div",[["class","col-lg-12 pb-2"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,5,"div",[["style","display: flex;"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),$o(-1,null,[" Personal Notes "])),(t()(),Mo(7,0,null,null,2,"button",[["class","btn btn-round"],["data-target","#newNote"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Mo(8,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["add"])),(t()(),Ro(16777216,null,null,1,null,qp)),Jr(11,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ro(16777216,null,null,1,null,Bp)),Jr(13,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(14,0,null,null,35,"div",[["aria-hidden","true"],["aria-labelledby","staticBackdropLabel"],["class","modal fade"],["data-backdrop","static"],["id","editNote"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(15,0,null,null,34,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),Mo(16,0,null,null,33,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Mo(17,0,null,null,32,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,19).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,19).onReset()&&r),r}),null,null)),Jr(18,16384,null,0,$d,[],null,null),Jr(19,4210688,null,0,Bd,[[8,null],[8,null]],null,null),ti(2048,null,id,null,[Bd]),Jr(21,16384,null,0,ud,[[4,id]],null,null),(t()(),Mo(22,0,null,null,27,"div",[["class","p-2 form-group"]],null,null,null,null,null)),(t()(),Mo(23,0,null,null,1,"h5",[["class","my-3"]],null,null,null,null,null)),(t()(),$o(-1,null,["- Edit Notes -"])),(t()(),Mo(25,0,null,null,7,"input",[["class","form-control"],["maxlength","50"],["name","editname"],["placeholder","Title"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,26)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,26).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,26)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,26)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.formModuleData.editNoteForm.name=n)&&r),r}),null,null)),Jr(26,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(27,540672,null,0,Zd,[],{maxlength:[0,"maxlength"]},null),ti(1024,null,hd,(function(t){return[t]}),[Zd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(30,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(32,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(33,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(34,0,null,null,8,"textarea",[["class","form-control"],["maxlength","400"],["minlength","1"],["name","editmessage"],["placeholder","Message"],["rows","5"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,35)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,35).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,35)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,35)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.formModuleData.editNoteForm.message=n)&&r),r}),null,null)),Jr(35,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(36,540672,null,0,Jd,[],{minlength:[0,"minlength"]},null),Jr(37,540672,null,0,Zd,[],{maxlength:[0,"maxlength"]},null),ti(1024,null,hd,(function(t,e){return[t,e]}),[Jd,Zd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(40,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(42,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(43,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Mo(44,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(45,0,null,null,4,"div",[["class","float-right p-2"]],null,null,null,null,null)),(t()(),Mo(46,0,null,null,1,"button",[["class","btn btn-outline-primary btn-sm mx-2"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.edit()&&r),r}),null,null)),(t()(),$o(-1,null,["Save Changes"])),(t()(),Mo(48,0,null,null,1,"button",[["class","btn btn-outline-danger btn-sm"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),$o(-1,null,["Close"])),(t()(),Mo(50,0,null,null,33,"div",[["aria-hidden","true"],["aria-labelledby","staticBackdropLabel"],["class","modal fade"],["data-backdrop","static"],["id","newNote"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(51,0,null,null,32,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),Mo(52,0,null,null,31,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Mo(53,0,null,null,30,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,55).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,55).onReset()&&r),r}),null,null)),Jr(54,16384,null,0,$d,[],null,null),Jr(55,4210688,null,0,Bd,[[8,null],[8,null]],null,null),ti(2048,null,id,null,[Bd]),Jr(57,16384,null,0,ud,[[4,id]],null,null),(t()(),Mo(58,0,null,null,25,"div",[["class","p-2 form-group"]],null,null,null,null,null)),(t()(),Mo(59,0,null,null,1,"h5",[["class","my-3"]],null,null,null,null,null)),(t()(),$o(-1,null,["- New Notes -"])),(t()(),Mo(61,0,null,null,7,"input",[["class","form-control"],["maxlength","50"],["name","newname"],["placeholder","Title"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,62)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,62).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,62)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,62)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.formModuleData.newNoteForm.name=n)&&r),r}),null,null)),Jr(62,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(63,540672,null,0,Zd,[],{maxlength:[0,"maxlength"]},null),ti(1024,null,hd,(function(t){return[t]}),[Zd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(66,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(68,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(69,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(70,0,null,null,7,"textarea",[["class","form-control"],["maxlength","400"],["name","newmessage"],["placeholder","Message"],["rows","5"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,71)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,71).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,71)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,71)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.formModuleData.newNoteForm.message=n)&&r),r}),null,null)),Jr(71,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(72,540672,null,0,Zd,[],{maxlength:[0,"maxlength"]},null),ti(1024,null,hd,(function(t){return[t]}),[Zd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(75,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(77,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(78,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Mo(79,0,null,null,4,"div",[["class","float-right p-2"]],null,null,null,null,null)),(t()(),Mo(80,0,null,null,1,"button",[["class","btn btn-outline-primary btn-sm mx-2"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.new()&&r),r}),null,null)),(t()(),$o(-1,null,["Save"])),(t()(),Mo(82,0,null,null,1,"button",[["class","btn btn-outline-danger btn-sm"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),$o(-1,null,["Close"])),(t()(),Mo(84,0,null,null,12,"div",[["aria-hidden","true"],["aria-labelledby","staticBackdropLabel"],["class","modal fade"],["data-backdrop","static"],["id","deleteNote"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(85,0,null,null,11,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),Mo(86,0,null,null,10,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Mo(87,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Mo(88,0,null,null,1,"h5",[["class","modal-title"],["id","staticBackdropLabel"]],null,null,null,null,null)),(t()(),$o(-1,null,["Delete Note"])),(t()(),Mo(90,0,null,null,1,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Are you sure you want to delete this note? "])),(t()(),Mo(92,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Mo(93,0,null,null,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),$o(-1,null,["Close"])),(t()(),Mo(95,0,null,null,1,"button",[["class","btn btn-primary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delete()&&r),r}),null,null)),(t()(),$o(-1,null,["Yes"]))],(function(t,e){var n=e.component;t(e,11,0,n.notesData),t(e,13,0,0===(null==n.notesData?null:n.notesData.length)),t(e,27,0,"50"),t(e,30,0,"editname",n.formModuleData.editNoteForm.name),t(e,36,0,"1"),t(e,37,0,"400"),t(e,40,0,"editmessage",n.formModuleData.editNoteForm.message),t(e,63,0,"50"),t(e,66,0,"newname",n.formModuleData.newNoteForm.name),t(e,72,0,"400"),t(e,75,0,"newmessage",n.formModuleData.newNoteForm.message)}),(function(t,e){t(e,17,0,Vr(e,21).ngClassUntouched,Vr(e,21).ngClassTouched,Vr(e,21).ngClassPristine,Vr(e,21).ngClassDirty,Vr(e,21).ngClassValid,Vr(e,21).ngClassInvalid,Vr(e,21).ngClassPending),t(e,25,0,Vr(e,27).maxlength?Vr(e,27).maxlength:null,Vr(e,32).ngClassUntouched,Vr(e,32).ngClassTouched,Vr(e,32).ngClassPristine,Vr(e,32).ngClassDirty,Vr(e,32).ngClassValid,Vr(e,32).ngClassInvalid,Vr(e,32).ngClassPending),t(e,34,0,Vr(e,36).minlength?Vr(e,36).minlength:null,Vr(e,37).maxlength?Vr(e,37).maxlength:null,Vr(e,42).ngClassUntouched,Vr(e,42).ngClassTouched,Vr(e,42).ngClassPristine,Vr(e,42).ngClassDirty,Vr(e,42).ngClassValid,Vr(e,42).ngClassInvalid,Vr(e,42).ngClassPending),t(e,53,0,Vr(e,57).ngClassUntouched,Vr(e,57).ngClassTouched,Vr(e,57).ngClassPristine,Vr(e,57).ngClassDirty,Vr(e,57).ngClassValid,Vr(e,57).ngClassInvalid,Vr(e,57).ngClassPending),t(e,61,0,Vr(e,63).maxlength?Vr(e,63).maxlength:null,Vr(e,68).ngClassUntouched,Vr(e,68).ngClassTouched,Vr(e,68).ngClassPristine,Vr(e,68).ngClassDirty,Vr(e,68).ngClassValid,Vr(e,68).ngClassInvalid,Vr(e,68).ngClassPending),t(e,70,0,Vr(e,72).maxlength?Vr(e,72).maxlength:null,Vr(e,77).ngClassUntouched,Vr(e,77).ngClassTouched,Vr(e,77).ngClassPristine,Vr(e,77).ngClassDirty,Vr(e,77).ngClassValid,Vr(e,77).ngClassInvalid,Vr(e,77).ngClassPending)}))}var Hp=function(){function t(e,n){_classCallCheck(this,t),this._http=e,this._data=n,this.personalNotes=[],this.pendingNotes=0,this.userImage=""}return _createClass(t,[{key:"ngOnInit",value:function(){this._data.refresh(),this.fetchData()}},{key:"ngOnDestroy",value:function(){this.$userObs.unsubscribe()}},{key:"fetchData",value:function(){var t=this;this.$userObs=this._data.getUser().subscribe((function(e){t.userData=e,t.userImage=ia.userImages[e.avatar]})),this._http.GET("/personalnotes/get").toPromise().then((function(e){e.success?t.personalNotesData=e.data.personalNotes:alert("error")}))}},{key:"personalNotesData",get:function(){return this.personalNotes},set:function(t){this.personalNotes=_toConsumableArray(t);var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){e.value.crossOff||this.pendingNotes++}}catch(r){n.e(r)}finally{n.f()}}}]),t}(),Wp=Bn({encapsulation:0,styles:[["#section1[_ngcontent-%COMP%]{margin-top:-100px}.notes[_ngcontent-%COMP%]{font-family:Nunito,sans-serif}.notes[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:25px}"]],data:{}});function Gp(t){return Jo(0,[(t()(),Mo(0,0,null,null,46,"div",[["class","main-container"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,43,"div",[["class","container"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,42,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,41,"div",[["class","col-lg-12 col-xl-12"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,21,"div",[["class","page-header"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,1,"h2",[["style","font-family: 'Bai Jamjuree', sans-serif;"]],null,null,null,null,null)),(t()(),$o(-1,null,["DASHBOARD"])),(t()(),Mo(7,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(t()(),$o(8,null,[""," "])),(t()(),Mo(9,0,null,null,16,"div",[["class","container"]],null,null,null,null,null)),(t()(),Mo(10,0,null,null,15,"div",[["class","row"],["style","background-color: black; border-radius: 5px;"]],null,null,null,null,null)),(t()(),Mo(11,0,null,null,4,"div",[["class","col-4 infoCard"]],null,null,null,null,null)),(t()(),Mo(12,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["PROJECTS"])),(t()(),Mo(14,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),$o(15,null,["",""])),(t()(),Mo(16,0,null,null,4,"div",[["class","col-4 infoCard"]],null,null,null,null,null)),(t()(),Mo(17,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["PERSONAL NOTES"])),(t()(),Mo(19,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),$o(20,null,[""," "])),(t()(),Mo(21,0,null,null,4,"div",[["class","col-4 infoCard"]],null,null,null,null,null)),(t()(),Mo(22,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["PENDING NOTES"])),(t()(),Mo(24,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),$o(25,null,["",""])),(t()(),Mo(26,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(27,0,null,null,6,"ul",[["class","nav nav-tabs nav-fill"],["role","tablist"]],null,null,null,null,null)),(t()(),Mo(28,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Mo(29,0,null,null,1,"a",[["aria-controls","projects"],["aria-selected","true"],["class","nav-link active"],["data-toggle","tab"],["href","#projects"],["role","tab"]],null,null,null,null,null)),(t()(),$o(-1,null,["Projects"])),(t()(),Mo(31,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Mo(32,0,null,null,1,"a",[["aria-controls","members"],["aria-selected","false"],["class","nav-link"],["data-toggle","tab"],["href","#Productivity"],["role","tab"]],null,null,null,null,null)),(t()(),$o(-1,null,["Productivity"])),(t()(),Mo(34,0,null,null,8,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),Mo(35,0,null,null,3,"div",[["class","tab-pane fade show active"],["data-filter-list","content-list-body"],["id","projects"],["role","tabpanel"]],null,null,null,null,null)),(t()(),Mo(36,0,null,null,2,"div",[["class","content-list"]],null,null,null,null,null)),(t()(),Mo(37,0,null,null,1,"app-project-table",[],null,null,null,Ep,wp)),Jr(38,114688,null,0,bp,[],{tableData:[0,"tableData"],userName:[1,"userName"]},null),(t()(),Mo(39,0,null,null,3,"div",[["class","tab-pane fade"],["data-filter-list","content-list-body"],["id","Productivity"],["role","tabpanel"]],null,null,null,null,null)),(t()(),Mo(40,0,null,null,2,"div",[["class","content-list"]],null,null,null,null,null)),(t()(),Mo(41,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),$o(-1,null,["Coming soon"])),(t()(),Mo(43,0,null,null,1,"app-new-project-model",[],null,null,null,Mp,Rp)),Jr(44,114688,null,0,Dp,[sp,Ip],{userInformation:[0,"userInformation"]},null),(t()(),Mo(45,0,null,null,1,"app-chat",[],null,null,null,jp,Fp)),Jr(46,114688,null,0,Lp,[],null,null),(t()(),Mo(47,0,null,null,1,"app-personal-notes",[],null,null,null,zp,Up)),Jr(48,114688,null,0,Vp,[sp],{notesData:[0,"notesData"],userImage:[1,"userImage"]},null)],(function(t,e){var n=e.component;t(e,38,0,null==n.userData?null:n.userData.projects,null==n.userData?null:n.userData.userName),t(e,44,0,n.userData),t(e,46,0),t(e,48,0,n.personalNotesData,n.userImage)}),(function(t,e){var n=e.component;t(e,8,0,"Welcome! "+n.userData.userName+" lets make this day a bit more productive."),t(e,15,0,null==n.userData?null:null==n.userData.projects?null:n.userData.projects.length),t(e,20,0,null==n.personalNotesData?null:n.personalNotesData.length),t(e,25,0,n.pendingNotes)}))}var Kp=xr("app-home",Hp,(function(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"app-home",[],null,null,null,Gp,Wp)),Jr(1,245760,null,0,Hp,[sp,Ip],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Qp=function(){function t(e,n){_classCallCheck(this,t),this._http=e,this._data=n,this.userData={},this.userImages=ia.userImages,this.formsData={bio:"",avatar:0}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.$userData=this._data.getUser().subscribe((function(e){t.userData=e,t.formsData.bio=e.bio,t.formsData.avatar=e.avatar}))}},{key:"ngOnDestroy",value:function(){this.$userData.unsubscribe()}},{key:"reset",value:function(){this.formsData={bio:this.userData.bio,avatar:this.userData.avatar}}},{key:"save",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._http.POST("/users/update",this.formsData).toPromise();case 2:this.userData.bio=this.formsData.bio,this.userData.avatar=this.formsData.avatar,this._data.setUser(Object.assign({},this.userData)),alert("Done");case 6:case"end":return t.stop()}}),t,this)})))}},{key:"changeAvatar",value:function(t){this.formsData.avatar=t}}]),t}(),$p=Bn({encapsulation:0,styles:[""],data:{}});function Yp(t){return Jo(0,[(t()(),Mo(0,0,null,null,0,"img",[["alt",".."],["class","avatar avatar-lg"],["onMouseOut","this.style.transform='scale(1)'"],["onMouseOver","this.style.transform='scale(1.2)'"],["style","cursor: pointer; "]],[[8,"src",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changeAvatar(t.context.index)&&r),r}),null,null))],null,(function(t,e){t(e,0,0,e.context.$implicit)}))}function Xp(t){return Jo(0,[(t()(),Mo(0,0,null,null,36,"div",[["class","container"],["style","margin-top: 30px;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,6,"h1",[["style","padding: 40px 0;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Profile Settings "])),(t()(),Mo(3,0,null,null,4,"div",[["class","mt-3"],["style","text-align:center;"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,0,"img",[["alt",""],["aria-expanded","false"],["aria-haspopup","true"],["class","avatar avatar-lg "],["data-toggle","dropdown"],["id","dropdownMenuButton"],["style","cursor: pointer; transform: scale(1.3);"]],[[8,"src",4]],null,null,null,null)),(t()(),Mo(5,0,null,null,2,"div",[["aria-labelledby","dropdownMenuButton"],["class","dropdown-menu"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,Yp)),Jr(7,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Mo(8,0,null,null,22,"div",[["class","card p-3"]],null,null,null,null,null)),(t()(),Mo(9,0,null,null,1,"h3",[["class","pt-2"]],null,null,null,null,null)),(t()(),$o(-1,null,["Edit"])),(t()(),Mo(11,0,null,null,4,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),Mo(12,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","inputEmail3"]],null,null,null,null,null)),(t()(),$o(-1,null,["Project Name"])),(t()(),Mo(14,0,null,null,1,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),Mo(15,0,null,null,0,"input",[["class","form-control"],["disabled",""],["id","inputEmail3"],["type","text"]],[[8,"placeholder",0]],null,null,null,null)),(t()(),Mo(16,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),Mo(17,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","inputEmail33"]],null,null,null,null,null)),(t()(),$o(-1,null,["Discription"])),(t()(),Mo(19,0,null,null,11,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),Mo(20,0,null,null,8,"textarea",[["class","form-control"],["id","inputEmail33"],["maxlength","400"],["name","disc"],["placeholder","Bio"],["rows","4"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,21)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,21).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,21)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,21)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.formsData.bio=n)&&r),r}),null,null)),Jr(21,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(22,540672,null,0,Zd,[],{maxlength:[0,"maxlength"]},null),ti(1024,null,hd,(function(t){return[t]}),[Zd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(25,671744,null,0,Qd,[[8,null],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(27,16384,null,0,sd,[[4,ld]],null,null),(t()(),$o(-1,null,[" "])),(t()(),Mo(29,0,null,null,1,"p",[["class","m-2"],["style","text-align: right;"]],null,null,null,null,null)),(t()(),$o(30,null,["",""])),(t()(),Mo(31,0,null,null,5,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),Mo(32,0,null,null,4,"div",[["class","col-sm-10"],["style","text-align: center;"]],null,null,null,null,null)),(t()(),Mo(33,0,null,null,1,"button",[["class","btn btn-danger px-4"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.reset()&&r),r}),null,null)),(t()(),$o(-1,null,["Reset"])),(t()(),Mo(35,0,null,null,1,"button",[["class","btn btn-primary m-3 px-4"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.save()&&r),r}),null,null)),(t()(),$o(-1,null,["Save"]))],(function(t,e){var n=e.component;t(e,7,0,n.userImages),t(e,22,0,"400"),t(e,25,0,"disc",n.formsData.bio)}),(function(t,e){var n=e.component;t(e,4,0,n.userImages[null==n.formsData?null:n.formsData.avatar]),t(e,15,0,vr(1,"",n.userData.userName,"")),t(e,20,0,Vr(e,22).maxlength?Vr(e,22).maxlength:null,Vr(e,27).ngClassUntouched,Vr(e,27).ngClassTouched,Vr(e,27).ngClassPristine,Vr(e,27).ngClassDirty,Vr(e,27).ngClassValid,Vr(e,27).ngClassInvalid,Vr(e,27).ngClassPending),t(e,30,0,400-n.formsData.bio.length)}))}var Jp=xr("app-profile-setting",Qp,(function(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"app-profile-setting",[],null,null,null,Xp,$p)),Jr(1,245760,null,0,Qp,[sp,Ip],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Zp=function(){function t(e,n,r){_classCallCheck(this,t),this._http=e,this._router=n,this._data=r,this.userName="",this.isFollowing=!1,this.userData={},this.friendData={},this.following={length:0,list:[]},this.followers={length:0,list:[]},this.projects=[],this.avatars=ia.userImages}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._router.params.subscribe((function(e){t.userName=e.userName,t._data.refresh(),t.fetch()})),this.$userData=this._data.getUser().subscribe((function(e){t.userData=e}))}},{key:"ngOnDestroy",value:function(){this.$userData.unsubscribe()}},{key:"fetch",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this._http.GET("/users/get/".concat(this.userName)).toPromise(),this._http.GET("/users/following/".concat(this.userName)).toPromise(),this._http.GET("/users/followers/".concat(this.userName)).toPromise(),this._http.GET("/projects/".concat(this.userName)).toPromise()]);case 2:return e=t.sent,this.friendData=e[0].data,this.followers={list:_toConsumableArray(e[2].data.followers),length:e[2].length},this.following={list:_toConsumableArray(e[1].data.following),length:e[1].length},this.projects=e[3],t.next=6,this._http.GET("/users/isFollowing/".concat(this.friendData._id)).toPromise();case 6:n=t.sent,this.isFollowing=n.data;case 8:case"end":return t.stop()}}),t,this)})))}},{key:"friendAction",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isFollowing?(e="/users/unfollow",this.followers.length-=1):(e="/users/follow",this.followers.length+=1,this.followers.list.push(this.userData)),this.isFollowing=!this.isFollowing,t.next=4,this._http.POST(e,{_id:this.friendData._id}).toPromise();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"showMembers",value:function(t){this.modelMembers=t}}]),t}(),tv=Bn({encapsulation:0,styles:[""],data:{}});function ev(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,"button",[["class","btn btn-round float-right"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["settings"]))],null,null)}function nv(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"button",[["class","btn btn-outline-primary btn-sm float-right"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.friendAction()&&r),r}),null,null)),(t()(),$o(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.isFollowing?"Unfollow":"+ Follow")}))}function rv(t){return Jo(0,[(t()(),Mo(0,0,null,null,21,"div",[["class","col-sm-12 col-lg-6"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,20,"div",[["class","card card-project"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,19,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,4,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(5,671744,null,0,kf,[Cf,fh,ca],{routerLink:[0,"routerLink"]},null),(t()(),Mo(6,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),$o(7,null,["",""])),(t()(),Mo(8,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(9,0,null,null,1,"app-avatar-list",[["data-target","#projectMembers"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showMembers(t.context.$implicit.members)&&r),r}),op,rp)),Jr(10,114688,null,0,np,[],{images:[0,"images"]},null),(t()(),Mo(11,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),$o(12,null,["",""])),(t()(),Mo(13,0,null,null,8,"div",[["class","card-meta d-flex justify-content-between"]],null,null,null,null,null)),(t()(),Mo(14,0,null,null,4,"div",[["class","d-flex align-items-center"]],null,null,null,null,null)),(t()(),Mo(15,0,null,null,1,"i",[["class","material-icons mr-1"]],null,null,null,null,null)),(t()(),$o(-1,null,["playlist_add_check"])),(t()(),Mo(17,0,null,null,1,"span",[["class","text-small"]],null,null,null,null,null)),(t()(),$o(-1,null,["-/-"])),(t()(),Mo(19,0,null,null,2,"span",[["class","text-small"]],null,null,null,null,null)),(t()(),$o(20,null,["",""])),Wo(21,1)],(function(t,e){var n=e.component;t(e,5,0,"/project/"+e.context.$implicit.name),t(e,10,0,n.avatars)}),(function(t,e){t(e,4,0,Vr(e,5).target,Vr(e,5).href),t(e,7,0,e.context.$implicit.name),t(e,12,0,e.context.$implicit.discription);var n=qn(e,20,0,t(e,21,0,Vr(e.parent,0),e.context.$implicit.timeStamp));t(e,20,0,n)}))}function iv(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"div",[["style","text-align: center; margin-top: 50px;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"img",[["alt",".."],["src","../../../assets/images/noProject.svg"],["style","width: 60%"]],null,null,null,null,null))],null,null)}function ov(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"div",[["style","text-align: center; margin-top: 80px;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"img",[["alt","..."],["src","../../../assets/images/adduser.svg"],["style","width: 400px"]],null,null,null,null,null))],null,null)}function lv(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"div",[["style","text-align: center; margin-top: 80px;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"img",[["alt","..."],["src","../../../assets/images/adduser.svg"],["style","width: 400px;"]],null,null,null,null,null))],null,null)}function av(t){return Jo(0,[Zr(0,rs,[Di]),(t()(),Mo(1,0,null,null,45,"div",[["class","main-container"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,44,"div",[["class","container"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,43,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,42,"div",[["class","col-lg-12 col-xl-12"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,41,"div",[["class","page-header"]],null,null,null,null,null)),(t()(),Mo(6,0,null,null,5,"h2",[["style","font-family: 'Bai Jamjuree', sans-serif;"]],null,null,null,null,null)),(t()(),$o(7,null,[" "," "])),(t()(),Ro(16777216,null,null,1,null,ev)),Jr(9,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,nv)),Jr(11,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(12,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(t()(),$o(13,null,["",""])),(t()(),Mo(14,0,null,null,13,"ul",[["class","nav nav-tabs nav-fill"],["role","tablist"]],null,null,null,null,null)),(t()(),Mo(15,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Mo(16,0,null,null,1,"a",[["aria-controls","projects"],["aria-selected","true"],["class","nav-link active"],["data-toggle","tab"],["href","#Overview"],["role","tab"]],null,null,null,null,null)),(t()(),$o(-1,null,["Overview"])),(t()(),Mo(18,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Mo(19,0,null,null,3,"a",[["aria-controls","members"],["aria-selected","false"],["class","nav-link"],["data-toggle","tab"],["href","#Followers"],["role","tab"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Followers "])),(t()(),Mo(21,0,null,null,1,"span",[["class","badge badge-secondary ml-1"],["style","background-color: #F1F1F1; color: #575F69; font-weight: bold;"]],null,null,null,null,null)),(t()(),$o(22,null,[" "," "])),(t()(),Mo(23,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Mo(24,0,null,null,3,"a",[["aria-controls","members"],["aria-selected","false"],["class","nav-link"],["data-toggle","tab"],["href","#Following"],["role","tab"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Following "])),(t()(),Mo(26,0,null,null,1,"span",[["class","badge badge-secondary ml-1"],["style","background-color: #F1F1F1; color: #575F69; font-weight: bold;"]],null,null,null,null,null)),(t()(),$o(27,null,[" "," "])),(t()(),Mo(28,0,null,null,18,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),Mo(29,0,null,null,5,"div",[["class","tab-pane fade show active"],["data-filter-list","content-list-body"],["id","Overview"],["role","tabpanel"]],null,null,null,null,null)),(t()(),Mo(30,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,rv)),Jr(32,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ro(16777216,null,null,1,null,iv)),Jr(34,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(35,0,null,null,5,"div",[["class","tab-pane fade"],["data-filter-list","content-list-body"],["id","Followers"],["role","tabpanel"]],null,null,null,null,null)),(t()(),Mo(36,0,null,null,4,"div",[["class","content-list "]],null,null,null,null,null)),(t()(),Mo(37,0,null,null,1,"app-users-list-big",[],null,null,null,_p,pp)),Jr(38,114688,null,0,dp,[],{members:[0,"members"],title:[1,"title"]},null),(t()(),Ro(16777216,null,null,1,null,ov)),Jr(40,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(41,0,null,null,5,"div",[["class","tab-pane fade"],["data-filter-list","content-list-body"],["id","Following"],["role","tabpanel"]],null,null,null,null,null)),(t()(),Mo(42,0,null,null,4,"div",[["class","content-list "]],null,null,null,null,null)),(t()(),Mo(43,0,null,null,1,"app-users-list-big",[],null,null,null,_p,pp)),Jr(44,114688,null,0,dp,[],{members:[0,"members"],title:[1,"title"]},null),(t()(),Ro(16777216,null,null,1,null,lv)),Jr(46,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(47,0,null,null,8,"div",[["aria-hidden","true"],["class","modal fade "],["id","projectMembers"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(48,0,null,null,7,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),Mo(49,0,null,null,6,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Mo(50,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Mo(51,0,null,null,1,"app-users-list-big",[],null,null,null,_p,pp)),Jr(52,114688,null,0,dp,[],{members:[0,"members"]},null),(t()(),Mo(53,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Mo(54,0,null,null,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),$o(-1,null,["Close"]))],(function(t,e){var n=e.component;t(e,9,0,n.userName===(null==n.userData?null:n.userData.userName)),t(e,11,0,n.userName!==(null==n.userData?null:n.userData.userName)),t(e,32,0,n.projects),t(e,34,0,0===n.projects.length),t(e,38,0,n.followers.list,"Followers"),t(e,40,0,0===n.followers.length),t(e,44,0,n.following.list,"Following"),t(e,46,0,0===n.following.length),t(e,52,0,n.modelMembers)}),(function(t,e){var n=e.component;t(e,7,0,n.userName),t(e,13,0,null==n.friendData?null:n.friendData.bio),t(e,22,0,n.followers.length),t(e,27,0,n.following.length)}))}var sv=xr("app-profile",Zp,(function(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"app-profile",[],null,null,null,av,tv)),Jr(1,245760,null,0,Zp,[sp,fh,Ip],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),uv=['@charset "UTF-8";[_ngcontent-%COMP%]:root{margin:0;padding:0;box-sizing:border-box;font-family:sans-serif}a[_ngcontent-%COMP%]{font-family:sans-serif;font-size:14px;line-height:1.7;color:#666;margin:0;transition:all .4s;-webkit-transition:.4s;-o-transition:.4s;-moz-transition:.4s}a[_ngcontent-%COMP%]:focus{outline:0!important}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#57b846}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{font-family:sans-serif;font-size:14px;line-height:1.7;color:#666;margin:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;list-style-type:none}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0;border:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:transparent!important}input[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{color:transparent}input[_ngcontent-%COMP%]:focus:-moz-placeholder{color:transparent}input[_ngcontent-%COMP%]:focus::-moz-placeholder{color:transparent}input[_ngcontent-%COMP%]:focus:-ms-input-placeholder{color:transparent}textarea[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{color:transparent}textarea[_ngcontent-%COMP%]:focus:-moz-placeholder{color:transparent}textarea[_ngcontent-%COMP%]:focus::-moz-placeholder{color:transparent}textarea[_ngcontent-%COMP%]:focus:-ms-input-placeholder{color:transparent}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}input[_ngcontent-%COMP%]:-moz-placeholder{color:#999}input[_ngcontent-%COMP%]::-moz-placeholder{color:#999}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#999}textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}textarea[_ngcontent-%COMP%]:-moz-placeholder{color:#999}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#999}textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#999}button[_ngcontent-%COMP%]{outline:0!important;border:none;background:0 0}button[_ngcontent-%COMP%]:hover{cursor:pointer}iframe[_ngcontent-%COMP%]{border:none!important}.txt1[_ngcontent-%COMP%]{font-family:sans-serif;font-size:13px;line-height:1.5;color:#999}.txt2[_ngcontent-%COMP%]{font-family:sans-serif;font-size:13px;line-height:1.5;color:#fff}.limiter[_ngcontent-%COMP%]{width:100%;margin:0 auto}.container-login100[_ngcontent-%COMP%]{width:100%;min-height:100vh;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:15px}.wrap-login100[_ngcontent-%COMP%]{width:960px;background:#fff;border-radius:10px;overflow:hidden;display:flex;flex-wrap:wrap;justify-content:space-between;padding:50px 130px 50px 95px}.login100-pic[_ngcontent-%COMP%]{width:316px}.login100-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.login100-form[_ngcontent-%COMP%]{width:290px}.login100-form-title[_ngcontent-%COMP%]{font-family:sans-serif;font-size:24px;color:#333;line-height:1.2;text-align:center;width:100%;display:block;padding-bottom:54px}.wrap-input100[_ngcontent-%COMP%]{position:relative;width:100%;z-index:1;margin-bottom:10px}.input100[_ngcontent-%COMP%]{font-family:sans-serif;font-size:15px;line-height:1.5;color:#666;display:block;width:100%;background:#e6e6e6;height:50px;border-radius:25px;padding:0 30px 0 68px}.focus-input100[_ngcontent-%COMP%]{display:block;position:absolute;border-radius:25px;bottom:0;left:0;z-index:-1;width:100%;height:100%;box-shadow:0 0;color:rgba(87,184,70,.8)}.input100[_ngcontent-%COMP%]:focus + .focus-input100[_ngcontent-%COMP%]{-webkit-animation:.5s ease-in-out forwards anim-shadow;animation:.5s ease-in-out forwards anim-shadow}@-webkit-keyframes anim-shadow{to{box-shadow:0 0 70px 25px;opacity:0}}@keyframes anim-shadow{to{box-shadow:0 0 70px 25px;opacity:0}}.symbol-input100[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;position:absolute;border-radius:25px;bottom:0;left:0;width:100%;height:100%;padding-left:35px;pointer-events:none;color:#666;transition:all .4s}.input100[_ngcontent-%COMP%]:focus + .focus-input100[_ngcontent-%COMP%] + .symbol-input100[_ngcontent-%COMP%]{color:#57b846;padding-left:28px}.container-login100-form-btn[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center;padding-top:20px}.login100-form-btn[_ngcontent-%COMP%]{font-family:sans-serif;font-size:15px;line-height:1.5;color:#fff;text-transform:uppercase;width:100%;height:50px;border-radius:25px;background:#57b846;display:flex;justify-content:center;align-items:center;padding:0 25px;transition:all .4s}.login100-form-btn[_ngcontent-%COMP%]:hover{background:#333}@media (max-width:992px){.wrap-login100[_ngcontent-%COMP%]{padding:177px 90px 33px 85px}.login100-pic[_ngcontent-%COMP%]{width:35%}.login100-form[_ngcontent-%COMP%]{width:50%}}@media (max-width:768px){.wrap-login100[_ngcontent-%COMP%]{padding:100px 80px 33px}.login100-pic[_ngcontent-%COMP%]{display:none}.login100-form[_ngcontent-%COMP%]{width:100%}}@media (max-width:576px){.wrap-login100[_ngcontent-%COMP%]{padding:100px 15px 33px}}.validate-input[_ngcontent-%COMP%]{position:relative}.alert-validate[_ngcontent-%COMP%]::before{content:attr(data-validate);position:absolute;max-width:70%;background-color:#fff;border:1px solid #c80000;border-radius:13px;padding:4px 25px 4px 10px;top:50%;transform:translateY(-50%);right:8px;pointer-events:none;font-family:sans-serif;color:#c80000;font-size:13px;line-height:1.4;text-align:left;visibility:hidden;opacity:0;transition:opacity .4s}.alert-validate[_ngcontent-%COMP%]::after{content:"\uf06a";font-family:sans-serif;display:block;position:absolute;color:#c80000;font-size:15px;top:50%;transform:translateY(-50%);right:13px}.alert-validate[_ngcontent-%COMP%]:hover:before{visibility:visible;opacity:1}@media (max-width:992px){.alert-validate[_ngcontent-%COMP%]::before{visibility:visible;opacity:1}}'],cv=function(){function t(e,n,r,i){_classCallCheck(this,t),this._http=e,this._auth=n,this._router=r,this._view=i}return _createClass(t,[{key:"signIn",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._view.setObs("loader","isVisible",!0),t.next=3,this._http.POST("/auth/login",{userName:this.userName,password:this.password}).toPromise().then((function(t){t.token?oa.auth().signInWithCustomToken(t.token).then((function(){e._auth.setToken().then((function(t){t?e._http.REDIRECT("/home"):alert("Error Redirecting"),e._view.setObs("loader","isVisible",!1),e._view.setObs("navbar","isVisible",!0)}))})).catch((function(t){console.log(t),alert("Error, check the console")})):(e._view.setObs("loader","isVisible",!1),alert("User Information is wrong"))}));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"signInAsDemo",value:function(){this.userName="jassa",this.password="jassa66223",this.signIn()}}]),t}(),hv=n("Wcq6");n("t6oF"),n("NSPt");var fv=function(){function t(e,n){_classCallCheck(this,t),this._http=e,this._data=n}return _createClass(t,[{key:"localToken",value:function(){return hv.auth().currentUser.getIdToken(!0)}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"setToken",value:function(){return this.localToken().then((function(t){return localStorage.setItem("token",t),!0})).catch((function(t){return alert("Error"),console.error(t),!1}))}},{key:"removeToken",value:function(){localStorage.removeItem("token")}},{key:"LogOut",value:function(){var t=this;hv.auth().signOut().then((function(){t.removeToken(),t._data.reset(),t._http.REDIRECT("/auth/signin")})).catch((function(t){alert("Error Occured"),console.log(t)}))}},{key:"routeGuard",value:function(t){return lp(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getToken()?this._http.POST("/auth/activateroute",{}).toPromise().then((function(t){return new Promise((function(e,n){e(t)}))})):t?new Promise((function(t,e){t(!1)})):(console.log("YEs"),void this.setToken().then((function(t){n.routeGuard(!0)}))));case 1:case"end":return e.stop()}}),e,this)})))}}]),t}(),dv=function(){function t(){_classCallCheck(this,t),this.data={navbar:{isVisible:!1},loader:{isVisible:!1}},this.obs=new fs(this.data)}return _createClass(t,[{key:"getObs",value:function(){return this.obs.asObservable()}},{key:"setObs",value:function(t,e,n){this.data[t][e]=n,this.obs.next(this.data)}}]),t}(),pv=Bn({encapsulation:0,styles:[uv],data:{}});function vv(t){return Jo(0,[(t()(),Mo(0,0,null,null,49,"div",[["class","limiter"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,48,"div",[["class","container-login100"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,47,"div",[["class","wrap-login100"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,1,"div",[["class","login100-pic js-tilt"],["data-tilt",""]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,0,"img",[["alt","IMG"],["src","../../../../assets/images/img-01.png"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,44,"form",[["class","login100-form validate-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,7).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,7).onReset()&&r),r}),null,null)),Jr(6,16384,null,0,$d,[],null,null),Jr(7,4210688,null,0,Bd,[[8,null],[8,null]],null,null),ti(2048,null,id,null,[Bd]),Jr(9,16384,null,0,ud,[[4,id]],null,null),(t()(),Mo(10,0,null,null,2,"span",[["class","login100-form-title"]],null,null,null,null,null)),(t()(),Mo(11,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),$o(-1,null,["Member Login"])),(t()(),Mo(13,0,null,null,11,"div",[["class","wrap-input100 validate-input"],["data-validate","Valid email is required: ex@abc.xyz"]],null,null,null,null,null)),(t()(),Mo(14,0,null,null,7,"input",[["class","input100"],["name","email"],["placeholder","User Name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,15)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,15).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,15)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,15)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.userName=n)&&r),r}),null,null)),Jr(15,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(16,16384,null,0,Yd,[],{required:[0,"required"]},null),ti(1024,null,hd,(function(t){return[t]}),[Yd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(19,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(21,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(22,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),Mo(23,0,null,null,1,"span",[["class","symbol-input100"]],null,null,null,null,null)),(t()(),Mo(24,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-envelope"]],null,null,null,null,null)),(t()(),Mo(25,0,null,null,11,"div",[["class","wrap-input100 validate-input"],["data-validate","Password is required"]],null,null,null,null,null)),(t()(),Mo(26,0,null,null,7,"input",[["class","input100"],["minlength","8"],["name","pass"],["placeholder","Password"],["type","password"]],[[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,27)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,27).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,27)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,27)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.password=n)&&r),r}),null,null)),Jr(27,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(28,540672,null,0,Jd,[],{minlength:[0,"minlength"]},null),ti(1024,null,hd,(function(t){return[t]}),[Jd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(31,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(33,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(34,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),Mo(35,0,null,null,1,"span",[["class","symbol-input100"]],null,null,null,null,null)),(t()(),Mo(36,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Mo(37,0,null,null,2,"div",[["class","container-login100-form-btn"]],null,null,null,null,null)),(t()(),Mo(38,0,null,null,1,"button",[["class","login100-form-btn"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.signIn()&&r),r}),null,null)),(t()(),$o(-1,null,[" Login "])),(t()(),Mo(40,0,null,null,5,"div",[["class","text-center p-t-136"]],null,null,null,null,null)),(t()(),Mo(41,0,null,null,4,"a",[["class","txt2"],["style","color: rgb(179, 179, 179); font-size: 12px; text-decoration: underline;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,42).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(42,671744,null,0,kf,[Cf,fh,ca],{routerLink:[0,"routerLink"]},null),Go(43,1),(t()(),$o(-1,null,[" Create your Account "])),(t()(),Mo(45,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-long-arrow-right m-l-5"]],null,null,null,null,null)),(t()(),Mo(46,0,null,null,3,"div",[["class","text-center p-t-136"]],null,null,null,null,null)),(t()(),Mo(47,0,null,null,2,"a",[["class","txt2 btn btn-primary"],["style","color: white; margin: 18px 0 10px 0; cursor: pointer;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.signInAsDemo()&&r),r}),null,null)),(t()(),$o(-1,null,[" Explore a demo user "])),(t()(),Mo(49,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-long-arrow-right m-l-5"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,16,0,""),t(e,19,0,"email",n.userName),t(e,28,0,"8"),t(e,31,0,"pass",n.password);var r=t(e,43,0,"/auth/signup");t(e,42,0,r)}),(function(t,e){t(e,5,0,Vr(e,9).ngClassUntouched,Vr(e,9).ngClassTouched,Vr(e,9).ngClassPristine,Vr(e,9).ngClassDirty,Vr(e,9).ngClassValid,Vr(e,9).ngClassInvalid,Vr(e,9).ngClassPending),t(e,14,0,Vr(e,16).required?"":null,Vr(e,21).ngClassUntouched,Vr(e,21).ngClassTouched,Vr(e,21).ngClassPristine,Vr(e,21).ngClassDirty,Vr(e,21).ngClassValid,Vr(e,21).ngClassInvalid,Vr(e,21).ngClassPending),t(e,26,0,Vr(e,28).minlength?Vr(e,28).minlength:null,Vr(e,33).ngClassUntouched,Vr(e,33).ngClassTouched,Vr(e,33).ngClassPristine,Vr(e,33).ngClassDirty,Vr(e,33).ngClassValid,Vr(e,33).ngClassInvalid,Vr(e,33).ngClassPending),t(e,41,0,Vr(e,42).target,Vr(e,42).href)}))}var gv=xr("app-sign-in",cv,(function(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"app-sign-in",[],null,null,null,vv,pv)),Jr(1,49152,null,0,cv,[sp,fv,Cf,dv],null,null)],null,null)}),{},{},[]),mv=function(){function t(e,n,r,i){_classCallCheck(this,t),this._http=e,this._auth=n,this._router=r,this._view=i}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"signUp",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._view.setObs("loader","isVisible",!0),t.next=3,this._http.POST("/auth/register",{userName:this.userName,password:this.password}).toPromise().then((function(t){t.token?oa.auth().signInWithCustomToken(t.token).then((function(){e._auth.setToken().then((function(t){t?e._http.REDIRECT("/home"):alert("Error Redirecting")}))})).catch((function(t){console.log(t),alert("Error, check the console")})):alert("User Information is wrong"),e._view.setObs("loader","isVisible",!1)}));case 3:case"end":return t.stop()}}),t,this)})))}}]),t}(),yv=Bn({encapsulation:0,styles:[uv],data:{}});function _v(t){return Jo(0,[(t()(),Mo(0,0,null,null,57,"div",[["class","limiter"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,56,"div",[["class","container-login100"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,55,"div",[["class","wrap-login100"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,1,"div",[["class","login100-pic js-tilt"],["data-tilt",""]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,0,"img",[["alt","IMG"],["src","../../../../assets/images/img-01.png"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,52,"form",[["class","login100-form validate-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,7).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,7).onReset()&&r),r}),null,null)),Jr(6,16384,null,0,$d,[],null,null),Jr(7,4210688,null,0,Bd,[[8,null],[8,null]],null,null),ti(2048,null,id,null,[Bd]),Jr(9,16384,null,0,ud,[[4,id]],null,null),(t()(),Mo(10,0,null,null,2,"span",[["class","login100-form-title"]],null,null,null,null,null)),(t()(),Mo(11,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),$o(-1,null,["Member Login"])),(t()(),Mo(13,0,null,null,11,"div",[["class","wrap-input100 validate-input"],["data-validate","Valid email is required: ex@abc.xyz"]],null,null,null,null,null)),(t()(),Mo(14,0,null,null,7,"input",[["class","input100"],["name","email"],["placeholder","User Name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,15)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,15).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,15)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,15)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.userName=n)&&r),r}),null,null)),Jr(15,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(16,16384,null,0,Yd,[],{required:[0,"required"]},null),ti(1024,null,hd,(function(t){return[t]}),[Yd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(19,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(21,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(22,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),Mo(23,0,null,null,1,"span",[["class","symbol-input100"]],null,null,null,null,null)),(t()(),Mo(24,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-envelope"]],null,null,null,null,null)),(t()(),Mo(25,0,null,null,11,"div",[["class","wrap-input100 validate-input"],["data-validate","Password is required"]],null,null,null,null,null)),(t()(),Mo(26,0,null,null,7,"input",[["class","input100"],["minlength","8"],["name","pass"],["placeholder","Password"],["type","password"]],[[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,27)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,27).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,27)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,27)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.password=n)&&r),r}),null,null)),Jr(27,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(28,540672,null,0,Jd,[],{minlength:[0,"minlength"]},null),ti(1024,null,hd,(function(t){return[t]}),[Jd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(31,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(33,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(34,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),Mo(35,0,null,null,1,"span",[["class","symbol-input100"]],null,null,null,null,null)),(t()(),Mo(36,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Mo(37,0,null,null,11,"div",[["class","wrap-input100 validate-input"],["data-validate","Password is required"]],null,null,null,null,null)),(t()(),Mo(38,0,null,null,7,"input",[["class","input100"],["minlength","8"],["name","cpass"],["placeholder","Confirm Password"],["type","password"]],[[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,39)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,39).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,39)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,39)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.cPassword=n)&&r),r}),null,null)),Jr(39,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(40,540672,null,0,Jd,[],{minlength:[0,"minlength"]},null),ti(1024,null,hd,(function(t){return[t]}),[Jd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(43,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(45,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(46,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),Mo(47,0,null,null,1,"span",[["class","symbol-input100"]],null,null,null,null,null)),(t()(),Mo(48,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-lock"]],null,null,null,null,null)),(t()(),Mo(49,0,null,null,2,"div",[["class","container-login100-form-btn"]],null,null,null,null,null)),(t()(),Mo(50,0,null,null,1,"button",[["class","login100-form-btn"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.signUp()&&r),r}),null,null)),(t()(),$o(-1,null,[" Sign Up "])),(t()(),Mo(52,0,null,null,5,"div",[["class","text-center p-t-136"]],null,null,null,null,null)),(t()(),Mo(53,0,null,null,4,"a",[["class","txt1"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,54).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(54,671744,null,0,kf,[Cf,fh,ca],{routerLink:[0,"routerLink"]},null),Go(55,1),(t()(),$o(-1,null,[" Sign In "])),(t()(),Mo(57,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-long-arrow-right m-l-5"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,16,0,""),t(e,19,0,"email",n.userName),t(e,28,0,"8"),t(e,31,0,"pass",n.password),t(e,40,0,"8"),t(e,43,0,"cpass",n.cPassword);var r=t(e,55,0,"/auth/signin");t(e,54,0,r)}),(function(t,e){t(e,5,0,Vr(e,9).ngClassUntouched,Vr(e,9).ngClassTouched,Vr(e,9).ngClassPristine,Vr(e,9).ngClassDirty,Vr(e,9).ngClassValid,Vr(e,9).ngClassInvalid,Vr(e,9).ngClassPending),t(e,14,0,Vr(e,16).required?"":null,Vr(e,21).ngClassUntouched,Vr(e,21).ngClassTouched,Vr(e,21).ngClassPristine,Vr(e,21).ngClassDirty,Vr(e,21).ngClassValid,Vr(e,21).ngClassInvalid,Vr(e,21).ngClassPending),t(e,26,0,Vr(e,28).minlength?Vr(e,28).minlength:null,Vr(e,33).ngClassUntouched,Vr(e,33).ngClassTouched,Vr(e,33).ngClassPristine,Vr(e,33).ngClassDirty,Vr(e,33).ngClassValid,Vr(e,33).ngClassInvalid,Vr(e,33).ngClassPending),t(e,38,0,Vr(e,40).minlength?Vr(e,40).minlength:null,Vr(e,45).ngClassUntouched,Vr(e,45).ngClassTouched,Vr(e,45).ngClassPristine,Vr(e,45).ngClassDirty,Vr(e,45).ngClassValid,Vr(e,45).ngClassInvalid,Vr(e,45).ngClassPending),t(e,53,0,Vr(e,54).target,Vr(e,54).href)}))}var bv=xr("app-sign-up",mv,(function(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"app-sign-up",[],null,null,null,_v,yv)),Jr(1,114688,null,0,mv,[sp,fv,Cf,dv],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),wv=function(){function t(){_classCallCheck(this,t),this.name="",this.message="",this.group="",this.crossOff=!1,this.onEdit=new wi,this.onDelete=new wi,this.onDeleteJob=new wi}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"groupTagClick",value:function(t){this.group=t}},{key:"edit",value:function(){this.onEdit.emit({group:this.group,stickeyName:this.name,message:this.message,crossOff:this.crossOff})}},{key:"delete",value:function(){this.onDelete.emit(!0)}},{key:"deleteJobDone",value:function(){this.onDeleteJob.emit(!0)}}]),t}(),Cv=Bn({encapsulation:0,styles:[[""]],data:{}});function kv(t){return Jo(0,[(t()(),Mo(0,0,null,null,4,"span",[["class","badge badge-light inline p-1 m-1"],["style","cursor: pointer; font-size: 11.5px;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.groupTagClick(t.context.$implicit)&&r),r}),null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(2,278528,null,0,$a,[Ka],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ko(3,{"badge-dark":0}),(t()(),$o(4,null,["",""]))],(function(t,e){var n=t(e,3,0,e.context.$implicit===e.component.group);t(e,2,0,"badge badge-light inline p-1 m-1",n)}),(function(t,e){t(e,4,0,"+ "+e.context.$implicit)}))}function Ev(t){return Jo(0,[(t()(),Mo(0,0,null,null,70,"div",[["aria-hidden","true"],["aria-labelledby","staticBackdropLabel"],["class","modal fade"],["data-backdrop","static"],["id","editNoteModel"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,69,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,68,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,67,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Vr(t,5).onSubmit(n)&&r),"reset"===e&&(r=!1!==Vr(t,5).onReset()&&r),r}),null,null)),Jr(4,16384,null,0,$d,[],null,null),Jr(5,4210688,null,0,Bd,[[8,null],[8,null]],null,null),ti(2048,null,id,null,[Bd]),Jr(7,16384,null,0,ud,[[4,id]],null,null),(t()(),Mo(8,0,null,null,62,"div",[["class","p-2 form-group"]],null,null,null,null,null)),(t()(),Mo(9,0,null,null,1,"h5",[["class","my-3"]],null,null,null,null,null)),(t()(),$o(-1,null,["- Edit Notes -"])),(t()(),Mo(11,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Mo(12,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),$o(-1,null,["Group Name:"])),(t()(),Mo(14,0,null,null,9,"input",[["class","form-control"],["maxlength","30"],["minlength","1"],["name","editgroup"],["placeholder","Group Name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,15)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,15).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,15)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,15)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.group=n)&&r),r}),null,null)),Jr(15,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(16,16384,null,0,Yd,[],{required:[0,"required"]},null),Jr(17,540672,null,0,Jd,[],{minlength:[0,"minlength"]},null),Jr(18,540672,null,0,Zd,[],{maxlength:[0,"maxlength"]},null),ti(1024,null,hd,(function(t,e,n){return[t,e,n]}),[Yd,Jd,Zd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(21,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(23,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(24,0,null,null,4,"div",[["style","overflow: scroll; margin-top: 7px;"]],null,null,null,null,null)),(t()(),Mo(25,0,null,null,1,"span",[["class","inline m-1"],["style","font-size: 12px;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Recommended: "])),(t()(),Ro(16777216,null,null,1,null,kv)),Jr(28,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Mo(29,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Mo(30,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),$o(-1,null,["Title:"])),(t()(),Mo(32,0,null,null,9,"input",[["class","form-control"],["maxlength","30"],["minlength","1"],["name","editname"],["placeholder","Title"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,33)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,33).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,33)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,33)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.name=n)&&r),r}),null,null)),Jr(33,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(34,16384,null,0,Yd,[],{required:[0,"required"]},null),Jr(35,540672,null,0,Jd,[],{minlength:[0,"minlength"]},null),Jr(36,540672,null,0,Zd,[],{maxlength:[0,"maxlength"]},null),ti(1024,null,hd,(function(t,e,n){return[t,e,n]}),[Yd,Jd,Zd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(39,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(41,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(42,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(43,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),$o(-1,null,["Message:"])),(t()(),Mo(45,0,null,null,9,"textarea",[["class","form-control"],["maxlength","100"],["minlength","1"],["name","editmessage"],["placeholder","Message"],["required",""],["rows","3"]],[[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,46)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,46).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,46)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,46)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.message=n)&&r),r}),null,null)),Jr(46,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(47,16384,null,0,Yd,[],{required:[0,"required"]},null),Jr(48,540672,null,0,Jd,[],{minlength:[0,"minlength"]},null),Jr(49,540672,null,0,Zd,[],{maxlength:[0,"maxlength"]},null),ti(1024,null,hd,(function(t,e,n){return[t,e,n]}),[Yd,Jd,Zd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(52,671744,null,0,Qd,[[2,id],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(54,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(55,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Mo(56,0,null,null,8,"div",[],null,null,null,null,null)),(t()(),Mo(57,0,null,null,7,"span",[],null,null,null,null,null)),(t()(),$o(-1,null,[" Mark as done: "])),(t()(),Mo(59,0,null,null,5,"input",[["name","isCrossOff"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==Vr(t,60).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Vr(t,60).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.crossOff=n)&&r),r}),null,null)),Jr(60,16384,null,0,td,[on,tn],null,null),ti(1024,null,Zf,(function(t){return[t]}),[td]),Jr(62,671744,null,0,Qd,[[2,id],[8,null],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(64,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(65,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(66,0,null,null,4,"div",[["class","float-right p-2"]],null,null,null,null,null)),(t()(),Mo(67,0,null,null,1,"button",[["class","btn btn-outline-primary btn-sm mx-2"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.edit()&&r),r}),null,null)),(t()(),$o(-1,null,["Save Changes"])),(t()(),Mo(69,0,null,null,1,"button",[["class","btn btn-outline-danger btn-sm"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),$o(-1,null,["Close"])),(t()(),Mo(71,0,null,null,13,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","deleteNote"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(72,0,null,null,12,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),Mo(73,0,null,null,11,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Mo(74,0,null,null,5,"div",[["class","modal-header"],["style","background-color: red;"]],null,null,null,null,null)),(t()(),Mo(75,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalLabel"]],null,null,null,null,null)),(t()(),$o(-1,null,["Delete Note"])),(t()(),Mo(77,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Mo(78,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),$o(-1,null,["\xd7"])),(t()(),Mo(80,0,null,null,1,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Are you sure you want to delete this note? "])),(t()(),Mo(82,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Mo(83,0,null,null,1,"button",[["aria-label","Close"],["class","btn btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delete()&&r),r}),null,null)),(t()(),$o(-1,null,["Delete"])),(t()(),Mo(85,0,null,null,13,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","deleteMemberJobDone"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(86,0,null,null,12,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),Mo(87,0,null,null,11,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Mo(88,0,null,null,5,"div",[["class","modal-header"],["style","background-color: red;"]],null,null,null,null,null)),(t()(),Mo(89,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalLabel"]],null,null,null,null,null)),(t()(),$o(-1,null,["Delete Job done claim"])),(t()(),Mo(91,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Mo(92,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),$o(-1,null,["\xd7"])),(t()(),Mo(94,0,null,null,1,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Are you sure you want to delete this job done claim "])),(t()(),Mo(96,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Mo(97,0,null,null,1,"button",[["aria-label","Close"],["class","btn btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.deleteJobDone()&&r),r}),null,null)),(t()(),$o(-1,null,["Delete"]))],(function(t,e){var n=e.component;t(e,16,0,""),t(e,17,0,"1"),t(e,18,0,"30"),t(e,21,0,"editgroup",n.group),t(e,28,0,n.groups),t(e,34,0,""),t(e,35,0,"1"),t(e,36,0,"30"),t(e,39,0,"editname",n.name),t(e,47,0,""),t(e,48,0,"1"),t(e,49,0,"100"),t(e,52,0,"editmessage",n.message),t(e,62,0,"isCrossOff",n.crossOff)}),(function(t,e){t(e,3,0,Vr(e,7).ngClassUntouched,Vr(e,7).ngClassTouched,Vr(e,7).ngClassPristine,Vr(e,7).ngClassDirty,Vr(e,7).ngClassValid,Vr(e,7).ngClassInvalid,Vr(e,7).ngClassPending),t(e,14,0,Vr(e,16).required?"":null,Vr(e,17).minlength?Vr(e,17).minlength:null,Vr(e,18).maxlength?Vr(e,18).maxlength:null,Vr(e,23).ngClassUntouched,Vr(e,23).ngClassTouched,Vr(e,23).ngClassPristine,Vr(e,23).ngClassDirty,Vr(e,23).ngClassValid,Vr(e,23).ngClassInvalid,Vr(e,23).ngClassPending),t(e,32,0,Vr(e,34).required?"":null,Vr(e,35).minlength?Vr(e,35).minlength:null,Vr(e,36).maxlength?Vr(e,36).maxlength:null,Vr(e,41).ngClassUntouched,Vr(e,41).ngClassTouched,Vr(e,41).ngClassPristine,Vr(e,41).ngClassDirty,Vr(e,41).ngClassValid,Vr(e,41).ngClassInvalid,Vr(e,41).ngClassPending),t(e,45,0,Vr(e,47).required?"":null,Vr(e,48).minlength?Vr(e,48).minlength:null,Vr(e,49).maxlength?Vr(e,49).maxlength:null,Vr(e,54).ngClassUntouched,Vr(e,54).ngClassTouched,Vr(e,54).ngClassPristine,Vr(e,54).ngClassDirty,Vr(e,54).ngClassValid,Vr(e,54).ngClassInvalid,Vr(e,54).ngClassPending),t(e,59,0,Vr(e,64).ngClassUntouched,Vr(e,64).ngClassTouched,Vr(e,64).ngClassPristine,Vr(e,64).ngClassDirty,Vr(e,64).ngClassValid,Vr(e,64).ngClassInvalid,Vr(e,64).ngClassPending)}))}var Tv=function(){function t(e){_classCallCheck(this,t),this._http=e,this.$projectData=new fs(null),this.notes=[[]],this.groups=new Set,this.role="Developer",this.groupIndexOnFocus=0,this.noteIndexOnFocus=0,this.jobClaimIndex=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.$projectSubscription=this.$projectData.subscribe((function(e){void 0!==e&&t.fetchNotes()}))}},{key:"ngOnDestroy",value:function(){this.$projectSubscription.unsubscribe()}},{key:"fetchNotes",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._http.GET("/projects/"+this.projectData.name+"/stickey").toPromise();case 2:e=t.sent.data.stickey,console.log(e),n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;)i=r.value,this.groups.add(i.group),o=_toConsumableArray(this.groups).indexOf(i.group),void 0===this.notes[o]?this.notes.push([i]):this.notes[o].push(i)}catch(l){n.e(l)}finally{n.f()}case 6:case"end":return t.stop()}}),t,this)})))}},{key:"onEdit",value:function(t){return lp(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i,o,l,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.groupIndexOnFocus>-1)){e.next=9;break}return n=this.notes[this.groupIndexOnFocus][this.noteIndexOnFocus],e.next=4,this._http.POST("/projects/stickey/update",Object.assign({},t,{stickeyId:n._id,name:this.projectData.name})).toPromise();case 4:if(!e.sent.success){e.next=7;break}r=Object.assign({},t,{_id:n._id,name:t.stickeyName,timeStamp:n.timeStamp,request:n.request}),n.group===t.group?this.notes[this.groupIndexOnFocus][this.noteIndexOnFocus]=r:(this.notes[this.groupIndexOnFocus].splice(this.noteIndexOnFocus,1),this.groups.has(r.group)?(i=_toConsumableArray(this.groups).indexOf(r.group),this.notes[i].push(r)):(this.groups.add(t.group),this.notes.push([r])));case 7:e.next=13;break;case 9:return e.next=11,this._http.POST("/projects/stickey/post",Object.assign({},t,{name:this.projectData.name})).toPromise();case 11:(o=e.sent).success&&(l=Object.assign({},o.data),this.groups.has(l.group)?(a=_toConsumableArray(this.groups).indexOf(l.group),this.notes[a].push(l)):(this.groups.add(l.group),this.notes.push([l])));case 13:case"end":return e.stop()}}),e,this)})))}},{key:"crossOff",value:function(t,e){this.setFocus(t,e);var n=Object.assign({},this.notes[this.groupIndexOnFocus][this.noteIndexOnFocus]);n.crossOff=!n.crossOff,this.onEdit(Object.assign({},n,{stickeyName:n.name}))}},{key:"requestDonetask",value:function(t,e){return lp(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this.notes[t][e],console.log(r.request.indexOf([this.userName])),i={name:this.projectData.name,stickeyId:r._id},!r.request.includes(this.userName)){n.next=11;break}return n.next=6,this._http.POST("/projects/stickey/delete/request",Object.assign({},i,{userName:this.userName})).toPromise();case 6:if(n.t0=n.sent.success,!n.t0){n.next=9;break}console.log(this.userName),r.request.splice(r.request.indexOf(this.userName),1);case 9:n.next=16;break;case 11:return n.next=13,this._http.POST("/projects/stickey/update/request",i).toPromise();case 13:if(n.t1=n.sent.success,!n.t1){n.next=16;break}r.request.push(this.userName);case 16:case"end":return n.stop()}}),n,this)})))}},{key:"onDelete",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.notes[this.groupIndexOnFocus][this.noteIndexOnFocus],t.next=3,this._http.POST("/projects/stickey/delete",{stickeyId:e,name:this.projectData.name}).toPromise();case 3:if(t.t0=t.sent.success,!t.t0){t.next=6;break}this.notes[this.groupIndexOnFocus].splice(this.noteIndexOnFocus,1);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"onDeleteJob",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.notes[this.groupIndexOnFocus][this.noteIndexOnFocus],n={stickeyId:e._id,userName:e.request[this.jobClaimIndex],name:this.projectData.name},t.next=3,this._http.POST("/projects/stickey/delete/request",n).toPromise();case 3:e.request.splice(this.jobClaimIndex,1);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"addClick",value:function(){this.groupIndexOnFocus=-1,this.noteIndexOnFocus=-1}},{key:"setFocus",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groupIndexOnFocus=t,this.noteIndexOnFocus=e,this.jobClaimIndex=n}},{key:"projectData",set:function(t){this.$projectData.next(t)},get:function(){return this.$projectData.getValue()}}]),t}(),Iv=Bn({encapsulation:0,styles:[[".crossOff[_ngcontent-%COMP%]{opacity:.2}"]],data:{}});function Sv(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,"button",[["class","btn btn-round mb-1"],["data-target","#editNoteModel"],["data-toggle","modal"],["style","display: inline;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addClick()&&r),r}),null,null)),(t()(),Mo(1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["add"]))],null,null)}function xv(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"button",[["class","dropdown-item"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.requestDonetask(t.parent.parent.context.index,t.parent.context.index)&&r),r}),null,null)),(t()(),$o(1,null,[" "," "]))],null,(function(t,e){var n=e.parent.context.$implicit.request.indexOf(e.component.userName)>=0?"Remove Job done":"Job Done";t(e,1,0,n)}))}function Ov(t){return Jo(0,[(t()(),Mo(0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),Mo(1,0,null,null,1,"button",[["class","dropdown-item"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.crossOff(t.parent.parent.context.index,t.parent.context.index)&&r),r}),null,null)),(t()(),$o(2,null,["",""])),(t()(),Mo(3,0,null,null,1,"button",[["class","dropdown-item"],["data-target","#editNoteModel"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setFocus(t.parent.parent.context.index,t.parent.context.index)&&r),r}),null,null)),(t()(),$o(-1,null,["Edit"])),(t()(),Mo(5,0,null,null,1,"button",[["class","dropdown-item text-danger"],["data-target","#deleteNote"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setFocus(t.parent.parent.context.index,t.parent.context.index)&&r),r}),null,null)),(t()(),$o(-1,null,["Delete"]))],null,(function(t,e){t(e,2,0,e.parent.context.$implicit.crossOff?"Recover":"Mark as done")}))}function Pv(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"span",[["class","mr-1"],["data-target","#deleteMemberJobDone"],["data-toggle","modal"],["style","font-size: 12px; cursor: pointer;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setFocus(t.parent.parent.parent.parent.context.index,t.parent.parent.parent.context.index,t.parent.context.index)&&r),r}),null,null)),(t()(),$o(-1,null,["\u2715"]))],null,null)}function Nv(t){return Jo(0,[(t()(),Mo(0,0,null,null,5,"a",[["class","badge badge-pill ml-1 px-2"],["style","font-size: 14px; color: white; background-color: red;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),Ro(16777216,null,null,2,null,Pv)),Jr(3,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),Go(4,2),(t()(),$o(5,null,[" "," "]))],(function(t,e){var n=e.component,r=t(e,4,0,"Owner","Admin").includes(n.role);t(e,3,0,r)}),(function(t,e){t(e,5,0,e.context.$implicit)}))}function Av(t){return Jo(0,[(t()(),Mo(0,0,null,null,5,"div",[["class","card py-2 px-1 "],["style","background-color: black;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,4,"div",[["class","container "],["style","overflow: scroll; "]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,1,"span",[["style","font-size: 12.7px; font-weight: bold; color: white;"]],null,null,null,null,null)),(t()(),$o(-1,null,["Job done - "])),(t()(),Ro(16777216,null,null,1,null,Nv)),Jr(5,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,5,0,e.parent.context.$implicit.request)}),null)}function Dv(t){return Jo(0,[(t()(),Mo(0,0,null,null,29,"div",[["class","col-lg-6 my-2 "]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,26,"div",[["class","card card-note bg-light"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,18,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,6,"div",[["class","media align-items-center"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,0,"img",[["alt",".."],["class","avatar"],["src","https://pipeline.mediumra.re/assets/img/avatar-female-2.jpg"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,4,"div",[["class","media-body"]],null,null,null,null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(7,278528,null,0,$a,[Ka],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Mo(8,0,null,null,1,"h6",[["class","mb-0"]],null,null,null,null,null)),(t()(),$o(9,null,[" "," "])),(t()(),Mo(10,0,null,null,10,"div",[["class","d-flex align-items-center"]],null,null,null,null,null)),(t()(),Mo(11,0,null,null,9,"div",[["class","ml-1 dropdown card-options"]],null,null,null,null,null)),(t()(),Mo(12,0,null,null,2,"button",[["aria-expanded","false"],["aria-haspopup","true"],["class","btn-options"],["data-toggle","dropdown"],["id","..."],["type","button"]],null,null,null,null,null)),(t()(),Mo(13,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["more_vert"])),(t()(),Mo(15,0,null,null,5,"div",[["class","dropdown-menu dropdown-menu-right"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,xv)),Jr(17,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,2,null,Ov)),Jr(19,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),Go(20,2),(t()(),Mo(21,0,null,null,3,"pre",[["class","card-body mb-0 pb-1"]],null,null,null,null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(23,278528,null,0,$a,[Ka],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),$o(24,null,["",""])),(t()(),Mo(25,0,null,null,2,"span",[["class","mx-2 mb-2"],["style","text-align: right; font-size: 14px;"]],null,null,null,null,null)),(t()(),$o(26,null,[" "," "])),Zr(131072,fp,[ke,Yi]),(t()(),Ro(16777216,null,null,1,null,Av)),Jr(29,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,7,0,"media-body",e.context.$implicit.crossOff&&"crossOff"),t(e,17,0,"Developer"===n.role);var r=t(e,20,0,"Owner","Admin").includes(n.role);t(e,19,0,r),t(e,23,0,"card-body mb-0 pb-1",e.context.$implicit.crossOff&&"crossOff"),t(e,29,0,e.context.$implicit.request.length>0)}),(function(t,e){t(e,9,0,e.context.$implicit.name),t(e,24,0,e.context.$implicit.message),t(e,26,0,qn(e,26,0,Vr(e,27).transform(e.context.$implicit.timeStamp)))}))}function Rv(t){return Jo(0,[(t()(),Mo(0,0,null,null,6,"div",[["class","card-list"],["style","background-color: rgb(198, 164, 247);"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,2,"div",[["class","card-list-head"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,1,"h6",[["style","color: white;"]],null,null,null,null,null)),(t()(),$o(3,null,["",""])),(t()(),Mo(4,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,Dv)),Jr(6,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,6,0,e.component.notes[e.context.index])}),(function(t,e){t(e,3,0,e.context.$implicit)}))}function Mv(t){return Jo(0,[(t()(),Mo(0,0,null,null,4,"div",[["style","text-align: center;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"img",[["alt",""],["src","../../../../assets/images/stickey.svg"],["style","width: 40%; height: 40%;"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,2,"div",[["class","mt-4"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#editNoteModel"],["data-toggle","modal"],["style","width: 50%;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" + Create Task"]))],null,null)}function Lv(t){return Jo(0,[(t()(),Mo(0,0,null,null,5,"div",[["class","my-2"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,1,"h3",[["style","display: inline;"]],null,null,null,null,null)),(t()(),$o(-1,null,["New Task"])),(t()(),Ro(16777216,null,null,2,null,Sv)),Jr(4,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),Go(5,2),(t()(),Ro(16777216,null,null,1,null,Rv)),Jr(7,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Mo(8,0,null,null,1,"app-notes-action-model",[],null,[[null,"onEdit"],[null,"onDelete"],[null,"onDeleteJob"]],(function(t,e,n){var r=!0,i=t.component;return"onEdit"===e&&(r=!1!==i.onEdit(n)&&r),"onDelete"===e&&(r=!1!==i.onDelete()&&r),"onDeleteJob"===e&&(r=!1!==i.onDeleteJob()&&r),r}),Ev,Cv)),Jr(9,114688,null,0,wv,[],{groups:[0,"groups"],name:[1,"name"],message:[2,"message"],group:[3,"group"],crossOff:[4,"crossOff"]},{onEdit:"onEdit",onDelete:"onDelete",onDeleteJob:"onDeleteJob"}),(t()(),Ro(16777216,null,null,1,null,Mv)),Jr(11,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,r=t(e,5,0,"Owner","Admin").includes(n.role);t(e,4,0,r),t(e,7,0,n.groups),t(e,9,0,n.groups,n.groupIndexOnFocus>-1?null==n.notes[n.groupIndexOnFocus][n.noteIndexOnFocus]?null:n.notes[n.groupIndexOnFocus][n.noteIndexOnFocus].name:"",n.groupIndexOnFocus>-1?null==n.notes[n.groupIndexOnFocus][n.noteIndexOnFocus]?null:n.notes[n.groupIndexOnFocus][n.noteIndexOnFocus].message:"",n.groupIndexOnFocus>-1?null==n.notes[n.groupIndexOnFocus][n.noteIndexOnFocus]?null:n.notes[n.groupIndexOnFocus][n.noteIndexOnFocus].group:"",n.groupIndexOnFocus>-1&&(null==n.notes[n.groupIndexOnFocus][n.noteIndexOnFocus]?null:n.notes[n.groupIndexOnFocus][n.noteIndexOnFocus].crossOff)),t(e,11,0,0===n.groups.size)}),null)}var Fv=function(){function t(e){_classCallCheck(this,t),this._http=e,this.$projectNameChange=new fs(null),this.logs=[],this.materialIcons={NewFile:"insert_drive_file",NewMember:"person_add",NewNote:"post_add",Delete:"delete",DeleteMember:"person_add_disabled",EditFile:"code",EditNote:"notes",Dir:"folder",Job:"work_outline",Project:"domain"}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.$s1=this.$projectNameChange.subscribe((function(e){t.fetchLogData(e)}))}},{key:"ngOnDestroy",value:function(){this.$s1.unsubscribe()}},{key:"fetchLogData",value:function(t){return lp(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._http.GET("/projects/"+t+"/logs").toPromise();case 2:n=e.sent,this.logs=n.data;case 4:case"end":return e.stop()}}),e,this)})))}},{key:"projectName",set:function(t){this.$projectNameChange.next(t)}}]),t}(),jv=Bn({encapsulation:2,styles:[],data:{}});function Vv(t){return Jo(0,[(t()(),Mo(0,0,null,null,12,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,11,"div",[["class","media align-items-center"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,4,"ul",[["class","avatars"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Mo(4,0,null,null,2,"div",[["class","avatar bg-primary"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(6,null,[" "," "])),(t()(),Mo(7,0,null,null,5,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(8,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),$o(9,null,[" "," "])),(t()(),Mo(10,0,null,null,2,"span",[["class","text-small"]],null,null,null,null,null)),(t()(),$o(11,null,["",""])),Zr(131072,fp,[ke,Yi])],null,(function(t,e){t(e,6,0,e.component.materialIcons[e.context.$implicit.type]),t(e,9,0,null==e.context.$implicit?null:e.context.$implicit.message),t(e,11,0,qn(e,11,0,Vr(e,12).transform(null==e.context.$implicit?null:e.context.$implicit.timeStamp)))}))}function Uv(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"div",[["style","text-align: center;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"img",[["alt",""],["src","../../../../assets/images/noNotification.svg"],["style","width: 80%; height: 80%;"]],null,null,null,null,null))],null,null)}function qv(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,"ol",[["class","list-group list-group-activity"],["style","max-height: 40vh; overflow: scroll;"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,Vv)),Jr(2,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ro(16777216,null,null,1,null,Uv)),Jr(4,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.logs),t(e,4,0,0===n.logs.length)}),null)}var Bv=function(){function t(){_classCallCheck(this,t),this.createFile=new wi,this.formData={fileName:"",fileType:".js",codeText:""},this.fileExt=[".js",".php",".java",".txt",".html",".scss",".sass",".css",".ts",".c",".cpp",".json",".py"]}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"newFile",value:function(){this.createFile.emit(this.formData)}}]),t}(),zv=Bn({encapsulation:0,styles:[[""]],data:{}});function Hv(t){return Jo(0,[(t()(),Mo(0,0,null,null,3,"option",[],null,null,null,null,null)),Jr(1,147456,null,0,Ed,[tn,on,[2,kd]],{value:[0,"value"]},null),Jr(2,147456,null,0,Id,[tn,on,[8,null]],{value:[0,"value"]},null),(t()(),$o(3,null,["",""]))],(function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)}),(function(t,e){t(e,3,0,e.context.$implicit)}))}function Wv(t){return Jo(0,[(t()(),Mo(0,0,null,null,44,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalCenterTitle"],["class","modal fade"],["id","createFile"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,43,"div",[["class","modal-dialog modal-dialog-centered"],["role","document"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,42,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalCenterTitle"]],null,null,null,null,null)),(t()(),$o(-1,null,["New File"])),(t()(),Mo(6,0,null,null,33,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Mo(7,0,null,null,32,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Mo(8,0,null,null,1,"label",[["for","dirName"]],null,null,null,null,null)),(t()(),$o(-1,null,["File Name"])),(t()(),Mo(10,0,null,null,9,"input",[["class","form-control"],["id","dirName"],["maxlength","20"],["minlength","1"],["name","dirNma"],["placeholder","File"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,11)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,11).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,11)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,11)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.formData.fileName=n)&&r),r}),null,null)),Jr(11,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(12,16384,null,0,Yd,[],{required:[0,"required"]},null),Jr(13,540672,null,0,Jd,[],{minlength:[0,"minlength"]},null),Jr(14,540672,null,0,Zd,[],{maxlength:[0,"maxlength"]},null),ti(1024,null,hd,(function(t,e,n){return[t,e,n]}),[Yd,Jd,Zd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(17,671744,null,0,Qd,[[8,null],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(19,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(20,0,null,null,1,"label",[["for","fileExt"]],null,null,null,null,null)),(t()(),$o(-1,null,["Example select"])),(t()(),Mo(22,0,null,null,7,"select",[["class","form-control"],["id","fileExt"],["name","FileExtt"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==Vr(t,23).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,23).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.formData.fileType=n)&&r),r}),null,null)),Jr(23,16384,null,0,kd,[on,tn],null,null),ti(1024,null,Zf,(function(t){return[t]}),[kd]),Jr(25,671744,null,0,Qd,[[8,null],[8,null],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(27,16384,null,0,sd,[[4,ld]],null,null),(t()(),Ro(16777216,null,null,1,null,Hv)),Jr(29,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Mo(30,0,null,null,1,"label",[["for","fileContent"]],null,null,null,null,null)),(t()(),$o(-1,null,["File Content"])),(t()(),Mo(32,0,null,null,7,"textarea",[["class","form-control"],["id","fileContent"],["maxlength","200000"],["name","codeText"],["rows","5"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,33)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,33).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,33)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,33)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.formData.codeText=n)&&r),r}),null,null)),Jr(33,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(34,540672,null,0,Zd,[],{maxlength:[0,"maxlength"]},null),ti(1024,null,hd,(function(t){return[t]}),[Zd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(37,671744,null,0,Qd,[[8,null],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(39,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(40,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Mo(41,0,null,null,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),$o(-1,null,["Close"])),(t()(),Mo(43,0,null,null,1,"button",[["class","btn btn-primary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.newFile()&&r),r}),null,null)),(t()(),$o(-1,null,["Create File"]))],(function(t,e){var n=e.component;t(e,12,0,""),t(e,13,0,"1"),t(e,14,0,"20"),t(e,17,0,"dirNma",n.formData.fileName),t(e,25,0,"FileExtt",n.formData.fileType),t(e,29,0,n.fileExt),t(e,34,0,"200000"),t(e,37,0,"codeText",n.formData.codeText)}),(function(t,e){t(e,10,0,Vr(e,12).required?"":null,Vr(e,13).minlength?Vr(e,13).minlength:null,Vr(e,14).maxlength?Vr(e,14).maxlength:null,Vr(e,19).ngClassUntouched,Vr(e,19).ngClassTouched,Vr(e,19).ngClassPristine,Vr(e,19).ngClassDirty,Vr(e,19).ngClassValid,Vr(e,19).ngClassInvalid,Vr(e,19).ngClassPending),t(e,22,0,Vr(e,27).ngClassUntouched,Vr(e,27).ngClassTouched,Vr(e,27).ngClassPristine,Vr(e,27).ngClassDirty,Vr(e,27).ngClassValid,Vr(e,27).ngClassInvalid,Vr(e,27).ngClassPending),t(e,32,0,Vr(e,34).maxlength?Vr(e,34).maxlength:null,Vr(e,39).ngClassUntouched,Vr(e,39).ngClassTouched,Vr(e,39).ngClassPristine,Vr(e,39).ngClassDirty,Vr(e,39).ngClassValid,Vr(e,39).ngClassInvalid,Vr(e,39).ngClassPending)}))}var Gv=function(){function t(e,n){_classCallCheck(this,t),this._http=e,this._view=n,this.$projectData=new fs(null),this.dirStructure=[],this.searchDirStructure=[],this.newDirName="",this.searchText="",this.clipboard=""}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.$projectSubscription=this.$projectData.subscribe((function(e){void 0!==e&&t.getDir([e.dir]).then((function(e){t.dirStructure.push(e[0]),t.getDir(e[0].child).then((function(e){t.dirStructure[0].child=e,t._view.setObs("loader","isVisible",!1),console.log(t.dirStructure)}))}))}))}},{key:"ngOnDestroy",value:function(){this.$projectSubscription.unsubscribe()}},{key:"getDir",value:function(t){return lp(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._view.setObs("loader","isVisible",!0),n=[],r=_createForOfIteratorHelper(t);try{for(r.s();!(i=r.n()).done;)o=i.value,n.push(this._http.GET("/dir/get/"+this.projectData.name+"/"+o).toPromise())}catch(l){r.e(l)}finally{r.f()}return e.abrupt("return",Promise.all(n));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getFile",value:function(t){return lp(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this._view.setObs("loader","isVisible",!0),this._http.GET("/dir/get/file/"+this.projectData.name+"/"+t).toPromise()));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"dirClick",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._view.setObs("loader","isVisible",!0);var r=this.openedDir.child[t];n&&(r=this.searchDirStructure[t]),"dir"===r.fileType?this.getDir(r.child).then((function(t){e.dirStructure.push({child:t,_id:r._id,fileType:"dir",name:r.name}),e._view.setObs("loader","isVisible",!1)})):this.getFile(r.text).then((function(t){e.clipboard=t.data.code,t.data.code=t.data.code.split(/\r?\n/),e.dirStructure.push(Object.assign({},t.data,{name:r.name,fileType:r.fileType,child:[]})),e._view.setObs("loader","isVisible",!1)}))}},{key:"createDir",value:function(t){var e=this;this._view.setObs("loader","isVisible",!0),this._http.POST("/dir/post",Object.assign({},t,{parentDirId:this.openedDir._id,name:this.projectData.name})).toPromise().then((function(n){n.success?e.dirStructure.push({code:t.codeText.split(/\r?\n/),name:t.fileName,fileType:t.fileType,child:[],_id:n.data._id}):alert("Error Occured"),e._view.setObs("loader","isVisible",!1)}))}},{key:"backDir",value:function(){this.dirStructure.pop()}},{key:"dirJump",value:function(t){this.dirStructure=this.dirStructure.slice(0,t+1)}},{key:"copyCode",value:function(t){console.log(t.target.innerHTML);var e=document.createElement("textarea");e.value=this.clipboard,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),t.target.innerHTML="Copied";var n=setInterval((function(){t.target.innerHTML="Copy Code",clearInterval(n)}),1300)}},{key:"searchUsers",value:function(t){return lp(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this._http.GET("/dir/get/find/"+this.projectData.name+"/"+t).toPromise();case 3:n=e.sent,this.searchDirStructure=n.data;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"projectData",set:function(t){this.$projectData.next(t)},get:function(){return this.$projectData.getValue()}},{key:"openedDir",get:function(){return this.dirStructure[this.dirStructure.length-1]}}]),t}(),Kv=Bn({encapsulation:0,styles:[[".border-btn[_ngcontent-%COMP%]{border:2px solid #e5e5e5;overflow:hidden;cursor:pointer;display:flex;width:50px}.border-btn[_ngcontent-%COMP%]:hover{background-color:#eee}.dir-list[_ngcontent-%COMP%]{font-size:13px;color:#414141}.dir-list[_ngcontent-%COMP%]   .headd[_ngcontent-%COMP%]{background-color:#fafafa}.dir-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{padding:11px 16x}.dir-list[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#fafafa}.dir-list[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   .file-name[_ngcontent-%COMP%]{text-decoration:underline}pre.code[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%;white-space:pre-wrap}pre.code[_ngcontent-%COMP%]::before{counter-reset:linenum}pre.code[_ngcontent-%COMP%]   span.tr[_ngcontent-%COMP%]{display:table-row;counter-increment:linenum}pre.code[_ngcontent-%COMP%]   span.th[_ngcontent-%COMP%]{display:table-cell;-ms-user-select:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;width:2em}pre.code[_ngcontent-%COMP%]   span.th[_ngcontent-%COMP%]::before{content:counter(linenum);text-align:left;display:block}pre.code[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:table-cell}"]],data:{}});function Qv(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,"li",[["class","breadcrumb-item "]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.dirJump(t.context.index)&&r),r}),null,null)),(t()(),Mo(1,0,null,null,1,"span",[["style","font-weight: light; font-size: 13px; cursor: pointer; color: rgb(100, 100, 230) ;font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;"]],null,null,null,null,null)),(t()(),$o(2,null,[" "," "]))],null,(function(t,e){t(e,2,0,"dir"===e.context.$implicit.fileType?e.context.$implicit.name:e.context.$implicit.name+e.context.$implicit.fileType)}))}function $v(t){return Jo(0,[(t()(),Mo(0,0,null,null,3,"button",[["class","btn btn-outline-light btn-sm mx-2"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.backDir()&&r),r}),null,null)),(t()(),Mo(1,0,null,null,2,":svg:svg",[["class","bi bi-arrow-left-short"],["fill","black"],["height","1em"],["style","margin-bottom: 4px;"],["viewBox","0 0 16 16"],["width","1em"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M7.854 4.646a.5.5 0 010 .708L5.207 8l2.647 2.646a.5.5 0 01-.708.708l-3-3a.5.5 0 010-.708l3-3a.5.5 0 01.708 0z"],["fill-rule","evenodd"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M4.5 8a.5.5 0 01.5-.5h6.5a.5.5 0 010 1H5a.5.5 0 01-.5-.5z"],["fill-rule","evenodd"]],null,null,null,null,null))],null,null)}function Yv(t){return Jo(0,[(t()(),Mo(0,0,null,null,18,"span",[],null,null,null,null,null)),(t()(),Mo(1,0,null,null,4,"button",[["class","btn btn-outline-light btn-sm "],["data-target","#createFile"],["data-toggle","modal"],["style","font-size: 13px; color: black;"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(t()(),Mo(2,0,null,null,2,":svg:svg",[["class","bi bi-file-code "],["fill","currentColor"],["height","1.3em"],["style","margin-bottom: 3px; margin-right: 4px;"],["viewBox","0 0 16 16"],["width","1.3em"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z"],["fill-rule","evenodd"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M8.646 5.646a.5.5 0 01.708 0l2 2a.5.5 0 010 .708l-2 2a.5.5 0 01-.708-.708L10.293 8 8.646 6.354a.5.5 0 010-.708zm-1.292 0a.5.5 0 00-.708 0l-2 2a.5.5 0 000 .708l2 2a.5.5 0 00.708-.708L5.707 8l1.647-1.646a.5.5 0 000-.708z"],["fill-rule","evenodd"]],null,null,null,null,null)),(t()(),$o(-1,null,[" New File "])),(t()(),Mo(6,0,null,null,5,"button",[["class","btn btn-outline-light btn-sm mx-2 "],["data-target","#newDir"],["data-toggle","modal"],["style","font-size: 13px; color: black;"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(t()(),Mo(7,0,null,null,3,":svg:svg",[["class","bi bi-folder-plus"],["fill","currentColor"],["height","1.3em"],["style","margin-bottom: 3px; margin-right: 4px;"],["viewBox","0 0 16 16"],["width","1.3em"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),Mo(8,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M9.828 4H2.19a1 1 0 00-.996 1.09l.637 7a1 1 0 00.995.91H9v1H2.826a2 2 0 01-1.991-1.819l-.637-7a1.99 1.99 0 01.342-1.31L.5 3a2 2 0 012-2h3.672a2 2 0 011.414.586l.828.828A2 2 0 009.828 3h3.982a2 2 0 011.992 2.181L15.546 8H14.54l.265-2.91A1 1 0 0013.81 4H9.828zm-2.95-1.707L7.587 3H2.19c-.24 0-.47.042-.684.12L1.5 2.98a1 1 0 011-.98h3.672a1 1 0 01.707.293z"],["fill-rule","evenodd"]],null,null,null,null,null)),(t()(),Mo(9,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M13.5 10a.5.5 0 01.5.5v2a.5.5 0 01-.5.5h-2a.5.5 0 010-1H13v-1.5a.5.5 0 01.5-.5z"],["fill-rule","evenodd"]],null,null,null,null,null)),(t()(),Mo(10,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M13 12.5a.5.5 0 01.5-.5h2a.5.5 0 010 1H14v1.5a.5.5 0 01-1 0v-2z"],["fill-rule","evenodd"]],null,null,null,null,null)),(t()(),$o(-1,null,[" New directory "])),(t()(),Mo(12,0,null,null,1,"button",[["class","btn btn-outline-light btn-sm float-lg-right d-none d-lg-block "],["style","font-size: 12.5px; color: black;"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(t()(),$o(-1,null,["+ README"])),(t()(),Mo(14,0,null,null,4,"button",[["class","btn btn-outline-light btn-sm mx-2 float-lg-right d-none d-lg-block"],["data-target","#findFile"],["data-toggle","modal"],["style","font-size: 12.5px; color: black;"],["type","button"]],null,null,null,null,null)),(t()(),Mo(15,0,null,null,2,":svg:svg",[["class","bi bi-search"],["fill","currentColor"],["height","1em"],["viewBox","0 0 16 16"],["width","1em"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),Mo(16,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M10.442 10.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z"],["fill-rule","evenodd"]],null,null,null,null,null)),(t()(),Mo(17,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M6.5 12a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM13 6.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z"],["fill-rule","evenodd"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Search File "]))],null,(function(t,e){var n=e.component;t(e,1,0,n.freeze),t(e,6,0,n.freeze),t(e,12,0,n.freeze)}))}function Xv(t){return Jo(0,[(t()(),Mo(0,0,null,null,0,"img",[["alt",""],["class","p-3"],["height","300px"],["src","../../../../assets/images/directoryEmpty.svg"]],null,null,null,null,null))],null,null)}function Jv(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,":svg:svg",[["class","bi bi-file-code "],["fill","currentColor"],["height","1.3em"],["style","margin-bottom: 3px; margin-right: 3px;"],["viewBox","0 0 16 16"],["width","1.3em"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z"],["fill-rule","evenodd"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M8.646 5.646a.5.5 0 01.708 0l2 2a.5.5 0 010 .708l-2 2a.5.5 0 01-.708-.708L10.293 8 8.646 6.354a.5.5 0 010-.708zm-1.292 0a.5.5 0 00-.708 0l-2 2a.5.5 0 000 .708l2 2a.5.5 0 00.708-.708L5.707 8l1.647-1.646a.5.5 0 000-.708z"],["fill-rule","evenodd"]],null,null,null,null,null))],null,null)}function Zv(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,":svg:svg",[["class","bi bi-folder"],["fill","currentColor"],["height","1.3em"],["style","margin-bottom: 3px; margin-right: 3px;"],["viewBox","0 0 16 16"],["width","1.3em"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,":svg:path",[["d","M9.828 4a3 3 0 01-2.12-.879l-.83-.828A1 1 0 006.173 2H2.5a1 1 0 00-1 .981L1.546 4h-1L.5 3a2 2 0 012-2h3.672a2 2 0 011.414.586l.828.828A2 2 0 009.828 3v1z"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M13.81 4H2.19a1 1 0 00-.996 1.09l.637 7a1 1 0 00.995.91h10.348a1 1 0 00.995-.91l.637-7A1 1 0 0013.81 4zM2.19 3A2 2 0 00.198 5.181l.637 7A2 2 0 002.826 14h10.348a2 2 0 001.991-1.819l.637-7A2 2 0 0013.81 3H2.19z"],["fill-rule","evenodd"]],null,null,null,null,null))],null,null)}function tg(t){return Jo(0,[(t()(),Mo(0,0,null,null,6,"li",[["class","list-group-item "],["style","cursor: pointer;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.dirClick(t.context.index)&&r),r}),null,null)),(t()(),Ro(16777216,null,null,1,null,Jv)),Jr(2,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,Zv)),Jr(4,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(5,0,null,null,1,"span",[["class","file-name"]],null,null,null,null,null)),(t()(),$o(6,null,[" "," "]))],(function(t,e){t(e,2,0,"dir"!==e.context.$implicit.fileType),t(e,4,0,"dir"===e.context.$implicit.fileType)}),(function(t,e){t(e,6,0,"dir"!==e.context.$implicit.fileType?e.context.$implicit.name+e.context.$implicit.fileType:e.context.$implicit.name+"")}))}function eg(t){return Jo(0,[(t()(),Mo(0,0,null,null,9,"ul",[["class","list-group my-2  dir-list"],["style","width: 100%"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,4,"li",[["class","list-group-item headd"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),$o(-1,null,["Name"])),(t()(),Mo(4,0,null,null,1,"b",[["class","float-right"]],null,null,null,null,null)),(t()(),$o(-1,null,["Last Update"])),(t()(),Ro(16777216,null,null,1,null,Xv)),Jr(7,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,tg)),Jr(9,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,7,0,0===(null==n.openedDir?null:n.openedDir.child.length)),t(e,9,0,null==n.openedDir?null:n.openedDir.child)}),null)}function ng(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"button",[["class","btn btn-outline-dark btn-sm mx-2 float-lg-right "],["style","font-size: 12.5px;  position:sticky; top: 10px;"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.copyCode(n)&&r),r}),null,null)),(t()(),$o(-1,null,[" Copy Code "]))],null,null)}function rg(t){return Jo(0,[(t()(),Mo(0,0,null,null,3,"span",[["class","tr first-row"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"span",[["class","th p-0"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,1,"code",[],null,null,null,null,null)),(t()(),$o(3,null,["",""]))],null,(function(t,e){t(e,3,0,e.context.$implicit)}))}function ig(t){return Jo(0,[(t()(),Mo(0,0,null,null,4,"pre",[["class","code p-1 py-3"],["id","foo"]],null,null,null,null,null)),(t()(),$o(-1,null,["    "])),(t()(),Ro(16777216,null,null,1,null,rg)),Jr(3,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),$o(-1,null,["\n    "]))],(function(t,e){var n=e.component;t(e,3,0,null==n.openedDir?null:n.openedDir.code)}),null)}function og(t){return Jo(0,[(t()(),Mo(0,0,null,null,5,"div",[["class","alert alert-primary card"],["role","alert"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,1,"span",[["class","py-2"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Help people interested in this repository understand your project by adding a README. "])),(t()(),Mo(3,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Mo(4,0,null,null,1,"button",[["class","btn btn-primary btn-sm"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(t()(),$o(-1,null,["+ READ ME"]))],null,(function(t,e){t(e,4,0,e.component.freeze)}))}function lg(t){return Jo(0,[(t()(),Mo(0,0,null,null,0,"img",[["alt",""],["class","p-3"],["height","300px"],["src","../../../../assets/images/directoryEmpty.svg"]],null,null,null,null,null))],null,null)}function ag(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,":svg:svg",[["class","bi bi-file-code "],["fill","currentColor"],["height","1.3em"],["style","margin-bottom: 3px; margin-right: 3px;"],["viewBox","0 0 16 16"],["width","1.3em"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z"],["fill-rule","evenodd"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M8.646 5.646a.5.5 0 01.708 0l2 2a.5.5 0 010 .708l-2 2a.5.5 0 01-.708-.708L10.293 8 8.646 6.354a.5.5 0 010-.708zm-1.292 0a.5.5 0 00-.708 0l-2 2a.5.5 0 000 .708l2 2a.5.5 0 00.708-.708L5.707 8l1.647-1.646a.5.5 0 000-.708z"],["fill-rule","evenodd"]],null,null,null,null,null))],null,null)}function sg(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,":svg:svg",[["class","bi bi-folder"],["fill","currentColor"],["height","1.3em"],["style","margin-bottom: 3px; margin-right: 3px;"],["viewBox","0 0 16 16"],["width","1.3em"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,":svg:path",[["d","M9.828 4a3 3 0 01-2.12-.879l-.83-.828A1 1 0 006.173 2H2.5a1 1 0 00-1 .981L1.546 4h-1L.5 3a2 2 0 012-2h3.672a2 2 0 011.414.586l.828.828A2 2 0 009.828 3v1z"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M13.81 4H2.19a1 1 0 00-.996 1.09l.637 7a1 1 0 00.995.91h10.348a1 1 0 00.995-.91l.637-7A1 1 0 0013.81 4zM2.19 3A2 2 0 00.198 5.181l.637 7A2 2 0 002.826 14h10.348a2 2 0 001.991-1.819l.637-7A2 2 0 0013.81 3H2.19z"],["fill-rule","evenodd"]],null,null,null,null,null))],null,null)}function ug(t){return Jo(0,[(t()(),Mo(0,0,null,null,6,"li",[["class","list-group-item "],["data-dismiss","modal"],["style","cursor: pointer;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.dirClick(t.context.index,!0)&&r),r}),null,null)),(t()(),Ro(16777216,null,null,1,null,ag)),Jr(2,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,sg)),Jr(4,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(5,0,null,null,1,"span",[["class","file-name"]],null,null,null,null,null)),(t()(),$o(6,null,[" "," "]))],(function(t,e){t(e,2,0,"dir"!==e.context.$implicit.fileType),t(e,4,0,"dir"===e.context.$implicit.fileType)}),(function(t,e){t(e,6,0,"dir"!==e.context.$implicit.fileType?e.context.$implicit.name+e.context.$implicit.fileType:e.context.$implicit.name+"")}))}function cg(t){return Jo(0,[(t()(),Mo(0,0,null,null,38,"div",[["class","container mt-2 "]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,3,"nav",[["aria-label","breadcrumb"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,2,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,Qv)),Jr(4,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Mo(5,0,null,null,0,"hr",[["class","p-0 my-2"]],null,null,null,null,null)),(t()(),Mo(6,0,null,null,4,"div",[["class","pb-2"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,$v)),Jr(8,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,Yv)),Jr(10,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,eg)),Jr(12,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,ng)),Jr(14,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,ig)),Jr(16,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,og)),Jr(18,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(19,0,null,null,1,"app-create-file-model",[],null,[[null,"createFile"]],(function(t,e,n){var r=!0;return"createFile"===e&&(r=!1!==t.component.createDir(n)&&r),r}),Wv,zv)),Jr(20,114688,null,0,Bv,[],null,{createFile:"createFile"}),(t()(),Mo(21,0,null,null,17,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalScrollableTitle"],["class","modal fade"],["id","newDir"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(22,0,null,null,16,"div",[["class","modal-dialog modal-dialog-scrollable"],["role","document"]],null,null,null,null,null)),(t()(),Mo(23,0,null,null,15,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Mo(24,0,null,null,9,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Mo(25,0,null,null,8,"input",[["class","form-control"],["maxlength","20"],["minlength","1"],["name","dirName"],["placeholder","Folder Name"],["type","text"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,26)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,26).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,26)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,26)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.newDirName=n)&&r),r}),null,null)),Jr(26,16384,null,0,nd,[on,tn,[2,ed]],null,null),Jr(27,540672,null,0,Jd,[],{minlength:[0,"minlength"]},null),Jr(28,540672,null,0,Zd,[],{maxlength:[0,"maxlength"]},null),ti(1024,null,hd,(function(t,e){return[t,e]}),[Jd,Zd]),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(31,671744,null,0,Qd,[[8,null],[6,hd],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(33,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(34,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Mo(35,0,null,null,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),$o(-1,null,["Close"])),(t()(),Mo(37,0,null,null,1,"button",[["class","btn btn-primary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.createDir({fileName:i.newDirName,fileType:"dir",codeText:""})&&r),r}),null,null)),(t()(),$o(-1,null,["Create Folder"])),(t()(),Mo(39,0,null,null,28,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLongTitle"],["class","modal fade"],["id","findFile"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(40,0,null,null,27,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),Mo(41,0,null,null,26,"div",[["class","modal-content container m-2"]],null,null,null,null,null)),(t()(),Mo(42,0,null,null,10,"div",[["class","input-group input-group-round mt-1"]],null,null,null,null,null)),(t()(),Mo(43,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),Mo(44,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),Mo(45,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["filter_list"])),(t()(),Mo(47,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["name","search3"],["placeholder","Search "],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,48)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,48).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,48)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,48)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.searchText=n)&&r),"ngModelChange"===e&&(r=!1!==i.searchUsers(n)&&r),r}),null,null)),Jr(48,16384,null,0,nd,[on,tn,[2,ed]],null,null),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(50,671744,null,0,Qd,[[8,null],[8,null],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(52,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(53,0,null,null,11,"div",[["class","container"]],null,null,null,null,null)),(t()(),Mo(54,0,null,null,1,"div",[["style","margin: 15px 0 0 5px; font-size: 13px;"]],null,null,null,null,null)),(t()(),$o(-1,null,["Search"])),(t()(),Mo(56,0,null,null,8,"div",[["class","form-group-users"]],null,null,null,null,null)),(t()(),Mo(57,0,null,null,7,"ul",[["class","list-group my-2  dir-list"],["style","width: 100%"]],null,null,null,null,null)),(t()(),Mo(58,0,null,null,2,"li",[["class","list-group-item headd"]],null,null,null,null,null)),(t()(),Mo(59,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),$o(-1,null,["Name"])),(t()(),Ro(16777216,null,null,1,null,lg)),Jr(62,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,ug)),Jr(64,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Mo(65,0,null,null,2,"div",[["class","my-2"]],null,null,null,null,null)),(t()(),Mo(66,0,null,null,1,"button",[["class","btn btn-outline-danger float-right"],["data-dismiss","modal"],["style","width: 90px; font-size: 11.5px; padding: 2px;"],["type","button"]],null,null,null,null,null)),(t()(),$o(-1,null,["Close"]))],(function(t,e){var n=e.component;t(e,4,0,n.dirStructure),t(e,8,0,n.dirStructure.length>1||!n.freeze),t(e,10,0,"dir"===(null==n.openedDir?null:n.openedDir.fileType)),t(e,12,0,!(null!=n.openedDir&&n.openedDir.code)),t(e,14,0,"dir"!==(null==n.openedDir?null:n.openedDir.fileType)),t(e,16,0,"dir"!==(null==n.openedDir?null:n.openedDir.fileType)),t(e,18,0,1===n.dirStructure.length),t(e,20,0),t(e,27,0,"1"),t(e,28,0,"20"),t(e,31,0,"dirName",n.newDirName),t(e,50,0,"search3",n.searchText),t(e,62,0,0===n.searchDirStructure.length),t(e,64,0,n.searchDirStructure)}),(function(t,e){t(e,25,0,Vr(e,27).minlength?Vr(e,27).minlength:null,Vr(e,28).maxlength?Vr(e,28).maxlength:null,Vr(e,33).ngClassUntouched,Vr(e,33).ngClassTouched,Vr(e,33).ngClassPristine,Vr(e,33).ngClassDirty,Vr(e,33).ngClassValid,Vr(e,33).ngClassInvalid,Vr(e,33).ngClassPending),t(e,47,0,Vr(e,52).ngClassUntouched,Vr(e,52).ngClassTouched,Vr(e,52).ngClassPristine,Vr(e,52).ngClassDirty,Vr(e,52).ngClassValid,Vr(e,52).ngClassInvalid,Vr(e,52).ngClassPending)}))}var hg=function(){function t(e,n,r,i){_classCallCheck(this,t),this.activatedRoute=e,this._data=n,this._view=r,this._http=i,this.projectName="",this.userImages=ia.userImages}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.projectName=this.activatedRoute.snapshot.paramMap.get("name"),this._data.refresh(),this._view.setObs("navbar","isVisible",!0),this.$userData=this._data.getUser().subscribe((function(e){t.userData=e})),this._http.GET("/projects/get/"+this.projectName).toPromise().then((function(e){t.projectData=e.data,t.userInProject=e.userInProject,console.log(!!t.userInProject)}))}},{key:"settings",value:function(){this._http.REDIRECT("project/"+this.projectName+"/settings")}},{key:"ngOnDestroy",value:function(){this.$userData.unsubscribe()}},{key:"OnstatusChanged",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._http.POST("/projects/update/member/details",{value:this.userInProject.status.value,name:this.projectName}).toPromise();case 2:case"end":return t.stop()}}),t,this)})))}}]),t}(),fg=Bn({encapsulation:0,styles:[[""]],data:{}});function dg(t){return Jo(0,[(t()(),Mo(0,0,null,null,3,"option",[],null,null,null,null,null)),Jr(1,147456,null,0,Ed,[tn,on,[2,kd]],null,null),Jr(2,147456,null,0,Id,[tn,on,[8,null]],null,null),(t()(),$o(3,null,["",""]))],null,(function(t,e){t(e,3,0,e.context.$implicit)}))}function pg(t){return Jo(0,[(t()(),Mo(0,0,null,null,9,"div",[["class","col-12"],["style","text-align: end;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,8,"select",[["class","custom-select"],["id","inputGroupSelect02"],["style","max-width: 150px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==Vr(t,2).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,2).onTouched()&&r),"ngModelChange"===e&&(r=!1!==((null==i.userInProject?null:i.userInProject.status).value=n)&&r),"ngModelChange"===e&&(r=!1!==i.OnstatusChanged()&&r),r}),null,null)),Jr(2,16384,null,0,kd,[on,tn],null,null),ti(1024,null,Zf,(function(t){return[t]}),[kd]),Jr(4,671744,null,0,Qd,[[8,null],[8,null],[8,null],[6,Zf]],{model:[0,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(6,16384,null,0,sd,[[4,ld]],null,null),(t()(),Ro(16777216,null,null,2,null,dg)),Jr(8,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),Go(9,3)],(function(t,e){var n=e.component;t(e,4,0,null==n.userInProject?null:n.userInProject.status.value);var r=t(e,9,0,"Break","Working","Do Not Disturb");t(e,8,0,r)}),(function(t,e){t(e,1,0,Vr(e,6).ngClassUntouched,Vr(e,6).ngClassTouched,Vr(e,6).ngClassPristine,Vr(e,6).ngClassDirty,Vr(e,6).ngClassValid,Vr(e,6).ngClassInvalid,Vr(e,6).ngClassPending)}))}function vg(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,"button",[["class","btn btn-round float-right"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.settings()&&r),r}),null,null)),(t()(),Mo(1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["settings"]))],null,null)}function gg(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,"div",[["class","tab-pane fade"],["id","directory"],["role","tabpanel"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,1,"app-tasks",[],null,null,null,Lv,Iv)),Jr(2,245760,null,0,Tv,[sp],{userName:[0,"userName"],projectData:[1,"projectData"],role:[2,"role"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.userData.userName,n.projectData,null==n.userInProject?null:n.userInProject.permission)}),null)}function mg(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"app-logs",[],null,null,null,qv,jv)),Jr(1,245760,null,0,Fv,[sp],{projectName:[0,"projectName"]},null)],(function(t,e){t(e,1,0,e.component.projectName)}),null)}function yg(t){return Jo(0,[(t()(),Mo(0,0,null,null,2,"div",[["class","tab-pane fade"],["id","Logs"],["role","tabpanel"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,mg)),Jr(2,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,""!==e.component.projectName)}),null)}function _g(t){return Jo(0,[(t()(),Mo(0,0,null,null,53,"div",[["class","container "]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,52,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,pg)),Jr(3,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(4,0,null,null,49,"div",[["class","col-lg-12 col-xl-12"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,6,"div",[["class","page-header"]],null,null,null,null,null)),(t()(),Mo(6,0,null,null,3,"h2",[["style","font-family: 'Bai Jamjuree', sans-serif;"]],null,null,null,null,null)),(t()(),$o(7,null,[" "," "])),(t()(),Ro(16777216,null,null,1,null,vg)),Jr(9,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(10,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(t()(),$o(11,null,["",""])),(t()(),Mo(12,0,null,null,16,"div",[["class","container"]],null,null,null,null,null)),(t()(),Mo(13,0,null,null,15,"div",[["class","row"],["style","background-color: black; border-radius: 5px; "]],null,null,null,null,null)),(t()(),Mo(14,0,null,null,4,"div",[["class","col-4 infoCard"]],null,null,null,null,null)),(t()(),Mo(15,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["PROJECTS"])),(t()(),Mo(17,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),$o(-1,null,["13"])),(t()(),Mo(19,0,null,null,4,"div",[["class","col-4 infoCard"]],null,null,null,null,null)),(t()(),Mo(20,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["PERSONAL NOTES"])),(t()(),Mo(22,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),$o(-1,null,["10"])),(t()(),Mo(24,0,null,null,4,"div",[["class","col-4 infoCard"]],null,null,null,null,null)),(t()(),Mo(25,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,["PENDING NOTES"])),(t()(),Mo(27,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),$o(-1,null,["07"])),(t()(),Mo(29,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(30,0,null,null,15,"ul",[["class","nav nav-tabs nav-fill"],["role","tablist"]],null,null,null,null,null)),(t()(),Mo(31,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Mo(32,0,null,null,1,"a",[["aria-controls","projects"],["aria-selected","true"],["class","nav-link active"],["data-toggle","tab"],["href","#tasks"],["role","tab"]],null,null,null,null,null)),(t()(),$o(-1,null,["Project"])),(t()(),Mo(34,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Mo(35,0,null,null,4,"a",[["aria-controls","members"],["aria-selected","false"],["class","nav-link"],["data-toggle","tab"],["href","#directory"],["role","tab"]],null,null,null,null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(37,278528,null,0,$a,[Ka],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ko(38,{disabled:0}),(t()(),$o(-1,null,["Tasks"])),(t()(),Mo(40,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(42,278528,null,0,$a,[Ka],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ko(43,{disabled:0}),(t()(),Mo(44,0,null,null,1,"a",[["aria-controls","members"],["aria-selected","false"],["class","nav-link"],["data-toggle","tab"],["href","#Logs"],["role","tab"]],null,null,null,null,null)),(t()(),$o(-1,null,["Logs"])),(t()(),Mo(46,0,null,null,7,"div",[["class","tab-content "]],null,null,null,null,null)),(t()(),Mo(47,0,null,null,2,"div",[["class","tab-pane fade show active card"],["id","tasks"],["role","tabpanel"]],null,null,null,null,null)),(t()(),Mo(48,0,null,null,1,"app-project-dir",[],null,null,null,cg,Kv)),Jr(49,245760,null,0,Gv,[sp,dv],{freeze:[0,"freeze"],projectData:[1,"projectData"]},null),(t()(),Ro(16777216,null,null,1,null,gg)),Jr(51,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,yg)),Jr(53,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,!!n.userInProject),t(e,9,0,!!n.userInProject);var r=t(e,38,0,!n.userInProject);t(e,37,0,"nav-link",r);var i=t(e,43,0,!n.userInProject);t(e,42,0,"nav-item",i),t(e,49,0,!n.userInProject,n.projectData),t(e,51,0,!!n.userInProject),t(e,53,0,!!n.userInProject)}),(function(t,e){var n=e.component;t(e,7,0,n.projectName),t(e,11,0,null==n.projectData?null:n.projectData.discription)}))}var bg=xr("app-project",hg,(function(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"app-project",[],null,null,null,_g,fg)),Jr(1,245760,null,0,hg,[fh,Ip,dv,sp],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),wg=function(){function t(e,n,r,i){_classCallCheck(this,t),this._http=e,this._view=n,this.activatedRoute=r,this._data=i,this.projectName="",this.role="Developer",this.membersAdded=[],this.membersName=new Set,this.userImages=ia.userImages,this.formsData={private:!0,discription:"",endingDate:Date.now(),isFreeze:!0}}return _createClass(t,[{key:"ngOnInit",value:function(){this._data.refresh(),this.projectName=this.activatedRoute.snapshot.paramMap.get("name"),this.fetchProject()}},{key:"onMemberAdded",value:function(t){this.membersAdded=_toConsumableArray(t)}},{key:"reset",value:function(){this.project=this.resetState}},{key:"save",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=Object.assign({name:this.projectName},this.formsData),t.next=4,this._http.POST("/projects/update",e).toPromise();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),alert("Error Occured Saving");case 9:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"fetchProject",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._view.setObs("loader","isVisible",!0),t.next=3,this._http.GET("/projects/get/"+this.projectName).toPromise();case 3:e=t.sent,this.project=e.data,this.userInProject=e.userInProject,this.role=e.userInProject.permission,this._view.setObs("loader","isVisible",!1);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"addNewMembers",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r,i,o,l,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,this._view.setObs("loader","isVisible",!0),e=[],n=_createForOfIteratorHelper(this.membersAdded);try{for(n.s();!(r=n.n()).done;)i=r.value,e.push(this._http.POST("/projects/post/member",{member:{name:i.userName,permission:"Developer"},name:this.projectName}).toPromise())}catch(s){n.e(s)}finally{n.f()}return t.next=7,Promise.all(e);case 7:o=_createForOfIteratorHelper(this.membersAdded);try{for(o.s();!(l=o.n()).done;)a=l.value,this.membersName.add(a.userName),a.name=a.userName,a.permission="Developer",this.projectData.members.push(a)}catch(s){o.e(s)}finally{o.f()}this._view.setObs("loader","isVisible",!1),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),alert("error occured"),this._view.setObs("loader","isVisible",!1);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})))}},{key:"deleteUser",value:function(t){return lp(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=confirm("Are you sure you want to remove this user?"),!e.t0){e.next=6;break}return e.next=4,this._http.POST("/projects/delete/member",{memberName:t.name,name:this.projectName}).toPromise();case 4:this.fetchProject(),this.membersName.delete(t.name);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"delete",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=confirm("Are you sure you want to delete this project"),!t.t0){t.next=5;break}return t.next=4,this._http.POST("/projects/delete",{name:this.projectName}).toPromise();case 4:this._http.REDIRECT("/home");case 5:case"end":return t.stop()}}),t,this)})))}},{key:"changePermission",value:function(t,e){return lp(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(confirm("Are you sure you want to change permissions of this user?")){n.next=2;break}return n.abrupt("return");case 2:return r=this.projectData.members[e],console.log(t),i={member:{name:r.name,permission:t},name:this.projectName},n.next=7,this._http.POST("/projects/update/member",i).toPromise();case 7:r.permission=t;case 8:case"end":return n.stop()}}),n,this)})))}},{key:"changeAvatar",value:function(t){return lp(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._http.POST("/projects/update/member/details",{avatar:t,name:this.projectName}).toPromise();case 2:this.userInProject.avatar=t;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"quit",value:function(){return lp(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=confirm("Are you sure you want to leave this project ?"),!t.t0){t.next=5;break}return t.next=4,this._http.POST("/projects/quit",{name:this.projectName}).toPromise();case 4:this._http.REDIRECT("home");case 5:case"end":return t.stop()}}),t,this)})))}},{key:"project",set:function(t){var e,n=_createForOfIteratorHelper(t.members);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.membersName.add(r.name)}}catch(i){n.e(i)}finally{n.f()}this.projectData=t,this.formsData={private:t.private,discription:t.discription,endingDate:t.endingDate,isFreeze:t.freeze.isFreeze},this.resetState=Object.assign({},t)},get:function(){return this.projectData}}]),t}(),Cg=Bn({encapsulation:0,styles:[""],data:{}});function kg(t){return Jo(0,[(t()(),Mo(0,0,null,null,0,"img",[["alt",".."],["class","avatar"],["onMouseOut","this.style.transform='scale(1)'"],["onMouseOver","this.style.transform='scale(1.2)'"],["style","cursor: pointer; "]],[[8,"src",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changeAvatar(t.context.index)&&r),r}),null,null))],null,(function(t,e){t(e,0,0,e.context.$implicit)}))}function Eg(t){return Jo(0,[(t()(),Mo(0,0,null,null,21,"div",[["class","my-3"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,1,"span",[["class","p-2 mr-3"]],null,null,null,null,null)),(t()(),$o(2,null,["",""])),(t()(),Mo(3,0,null,null,0,"img",[["alt","Claire Connors"],["class","avatar mr-2 ml-1"],["style","transform: scale(1.2); "]],[[8,"src",4]],null,null,null,null)),(t()(),Mo(4,0,null,null,1,"span",[["class","h6 mb-0 mx-1"]],null,null,null,null,null)),(t()(),$o(5,null,[" "," "])),(t()(),Mo(6,0,null,null,4,"span",[["class","badge badge-pill "]],null,null,null,null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(8,278528,null,0,$a,[Ka],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ko(9,{"badge-dark":0,"badge-warning":1,"badge-secondary":2}),(t()(),$o(10,null,["",""])),(t()(),Mo(11,0,null,null,8,"div",[["class","btn-group mx-5"]],null,null,null,null,null)),(t()(),Mo(12,0,null,null,2,"button",[["aria-expanded","false"],["aria-haspopup","true"],["class","btn btn-sm btn-primary btn-sm dropdown-toggle px-3"],["data-toggle","dropdown"],["style","width: 150px;"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),Go(13,2),(t()(),$o(14,null,[" "," "])),(t()(),Mo(15,0,null,null,4,"div",[["class","dropdown-menu"]],null,null,null,null,null)),(t()(),Mo(16,0,null,null,1,"a",[["class","dropdown-item"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changePermission("Admin",t.context.index)&&r),r}),null,null)),(t()(),$o(-1,null,["Admin"])),(t()(),Mo(18,0,null,null,1,"a",[["class","dropdown-item"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changePermission("Developer",t.context.index)&&r),r}),null,null)),(t()(),$o(-1,null,["Developer"])),(t()(),Mo(20,0,null,null,1,"button",[["class","btn btn-danger btn-sm my-auto"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.deleteUser(t.context.$implicit)&&r),r}),null,null)),(t()(),$o(-1,null,[" Delete "]))],(function(t,e){var n=t(e,9,0,"Owner"===e.context.$implicit.permission,"Admin"===e.context.$implicit.permission,"Developer"===e.context.$implicit.permission);t(e,8,0,"badge badge-pill ",n)}),(function(t,e){var n=e.component;t(e,2,0,e.context.index+1),t(e,3,0,n.userImages[e.context.$implicit.avatar]),t(e,5,0,e.context.$implicit.name),t(e,10,0,e.context.$implicit.permission);var r="Owner"===e.context.$implicit.permission||t(e,13,0,"Developer","Admin").includes(n.role);t(e,12,0,r),t(e,14,0,e.context.$implicit.permission),t(e,20,0,"Developer"===n.role||"Owner"===e.context.$implicit.permission)}))}function Tg(t){return Jo(0,[(t()(),Mo(0,0,null,null,101,"div",[["class","container"],["style","margin-top: 30px;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,5,"h1",[["style","padding: 40px 0;"]],null,null,null,null,null)),(t()(),$o(2,null,[" "," Settings "])),(t()(),Mo(3,0,null,null,0,"img",[["alt",""],["aria-expanded","false"],["aria-haspopup","true"],["class","avatar avatar-lg "],["data-toggle","dropdown"],["id","dropdownMenuButton"],["style","float: right; cursor: pointer;"]],[[8,"src",4]],null,null,null,null)),(t()(),Mo(4,0,null,null,2,"div",[["aria-labelledby","dropdownMenuButton"],["class","dropdown-menu"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,kg)),Jr(6,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Mo(7,0,null,null,31,"div",[["class","card p-3"]],null,null,null,null,null)),(t()(),Mo(8,0,null,null,1,"h3",[["class","pt-2"]],null,null,null,null,null)),(t()(),$o(-1,null,["Edit"])),(t()(),Mo(10,0,null,null,4,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),Mo(11,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","inputEmail3"]],null,null,null,null,null)),(t()(),$o(-1,null,["Project Name"])),(t()(),Mo(13,0,null,null,1,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),Mo(14,0,null,null,0,"input",[["class","form-control"],["disabled",""],["id","inputEmail3"],["type","text"]],[[8,"placeholder",0]],null,null,null,null)),(t()(),Mo(15,0,null,null,10,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),Mo(16,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","inputEmail33"]],null,null,null,null,null)),(t()(),$o(-1,null,["Discription"])),(t()(),Mo(18,0,null,null,7,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),Mo(19,0,null,null,6,"textarea",[["class","form-control"],["id","inputEmail33"],["name","disc"],["placeholder","Discription"],["rows","3"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,20)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,20).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,20)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,20)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.formsData.discription=n)&&r),r}),null,null)),Jr(20,16384,null,0,nd,[on,tn,[2,ed]],null,null),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(22,671744,null,0,Qd,[[8,null],[8,null],[8,null],[6,Zf]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(24,16384,null,0,sd,[[4,ld]],null,null),(t()(),$o(-1,null,[" "])),(t()(),Mo(26,0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),Mo(27,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","duedate"]],null,null,null,null,null)),(t()(),$o(-1,null,["Due Date"])),(t()(),Mo(29,0,null,null,9,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),Mo(30,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),$o(31,null,[" "," "])),Wo(32,1),(t()(),Mo(33,0,null,null,5,"input",[["class","form-control"],["id","duedate"],["name","dueDate"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,34)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,34).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,34)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,34)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.formsData.endingDate=n)&&r),r}),null,null)),Jr(34,16384,null,0,nd,[on,tn,[2,ed]],null,null),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(36,671744,null,0,Qd,[[8,null],[8,null],[8,null],[6,Zf]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(38,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(39,0,null,null,42,"div",[["class","card p-3"]],null,null,null,null,null)),(t()(),Mo(40,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),$o(-1,null,["Danger Zone"])),(t()(),Mo(42,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Mo(43,0,null,null,14,"fieldset",[["class","form-group"]],null,null,null,null,null)),(t()(),Mo(44,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(t()(),Mo(45,0,null,null,2,"legend",[["class","col-form-label col-sm-2 pt-0"]],null,null,null,null,null)),(t()(),Mo(46,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),$o(-1,null,["Private"])),(t()(),Mo(48,0,null,null,9,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),Mo(49,0,null,null,8,"div",[["class","form-check"]],null,null,null,null,null)),(t()(),Mo(50,0,null,null,5,"input",[["class","form-check-input"],["id","gridRadios1"],["name","gridRadios"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==Vr(t,51).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Vr(t,51).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.formsData.private=n)&&r),r}),null,null)),Jr(51,16384,null,0,td,[on,tn],null,null),ti(1024,null,Zf,(function(t){return[t]}),[td]),Jr(53,671744,null,0,Qd,[[8,null],[8,null],[8,null],[6,Zf]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(55,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(56,0,null,null,1,"label",[["class","form-check-label"],["for","gridRadios1"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Hide this repository from the public. "])),(t()(),Mo(58,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Mo(59,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),Mo(60,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(t()(),Mo(61,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),$o(-1,null,["Freeze"])),(t()(),Mo(63,0,null,null,10,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),Mo(64,0,null,null,9,"div",[["class","form-check"]],null,null,null,null,null)),(t()(),Mo(65,0,null,null,6,"input",[["class","form-check-input"],["id","gridCheck1"],["name","isFreeze"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==Vr(t,66).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Vr(t,66).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.formsData.isFreeze=n)&&r),r}),null,null)),Jr(66,16384,null,0,td,[on,tn],null,null),ti(1024,null,Zf,(function(t){return[t]}),[td]),Jr(68,671744,null,0,Qd,[[8,null],[8,null],[8,null],[6,Zf]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),Go(69,2),ti(2048,null,ld,null,[Qd]),Jr(71,16384,null,0,sd,[[4,ld]],null,null),(t()(),Mo(72,0,null,null,1,"label",[["class","form-check-label"],["for","gridCheck1"]],null,null,null,null,null)),(t()(),$o(-1,null,[" This option will not allow any operations on your project until it is unfreezed. "])),(t()(),Mo(74,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Mo(75,0,null,null,6,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),Mo(76,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(t()(),Mo(77,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),$o(-1,null,["Quit Project"])),(t()(),Mo(79,0,null,null,2,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),Mo(80,0,null,null,1,"button",[["class","btn btn-sm btn-danger mt-2"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.quit()&&r),r}),null,null)),(t()(),$o(-1,null,["Quit This project"])),(t()(),Mo(82,0,null,null,5,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),Mo(83,0,null,null,4,"div",[["class","col-sm-10"],["style","text-align: center;"]],null,null,null,null,null)),(t()(),Mo(84,0,null,null,1,"button",[["class","btn btn-danger px-4"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.reset()&&r),r}),null,null)),(t()(),$o(-1,null,["Reset"])),(t()(),Mo(86,0,null,null,1,"button",[["class","btn btn-primary m-3 px-4"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.save()&&r),r}),null,null)),(t()(),$o(-1,null,["Save"])),(t()(),Mo(88,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(89,0,null,null,9,"div",[["class","card p-3"]],null,null,null,null,null)),(t()(),Mo(90,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),$o(-1,null,["Members"])),(t()(),Mo(92,0,null,null,6,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),Mo(93,0,null,null,5,"div",[["class","col-sm-10 "]],null,null,null,null,null)),(t()(),Mo(94,0,null,null,4,"div",[["class","form-group-users"],["style","overflow: visible; max-height: 300px; overflow: scroll;"]],null,null,null,null,null)),(t()(),Mo(95,0,null,null,1,"button",[["class","btn btn-primary btn-sm mb-3"],["data-target","#addmembers"],["data-toggle","modal"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(t()(),$o(-1,null,[" + Add Member "])),(t()(),Ro(16777216,null,null,1,null,Eg)),Jr(98,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Mo(99,0,null,null,2,"button",[["class","btn btn-danger"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delete()&&r),r}),null,null)),Go(100,2),(t()(),$o(-1,null,["Delete Project"]))],(function(t,e){var n=e.component;t(e,6,0,n.userImages),t(e,22,0,"disc","Developer"===n.role,n.formsData.discription),t(e,36,0,"dueDate","Developer"===n.role,n.formsData.endingDate),t(e,53,0,"gridRadios","Developer"===n.role,n.formsData.private);var r=t(e,69,0,"Developer","Admin").includes(n.role);t(e,68,0,"isFreeze",r,n.formsData.isFreeze),t(e,98,0,null==n.project?null:n.project.members)}),(function(t,e){var n=e.component;t(e,2,0,n.projectName),t(e,3,0,n.userImages[n.userInProject.avatar]),t(e,14,0,vr(1,"",n.projectName,"")),t(e,19,0,Vr(e,24).ngClassUntouched,Vr(e,24).ngClassTouched,Vr(e,24).ngClassPristine,Vr(e,24).ngClassDirty,Vr(e,24).ngClassValid,Vr(e,24).ngClassInvalid,Vr(e,24).ngClassPending);var r=qn(e,31,0,t(e,32,0,Vr(e.parent,0),null==n.project?null:n.project.endingDate));t(e,31,0,r),t(e,33,0,Vr(e,38).ngClassUntouched,Vr(e,38).ngClassTouched,Vr(e,38).ngClassPristine,Vr(e,38).ngClassDirty,Vr(e,38).ngClassValid,Vr(e,38).ngClassInvalid,Vr(e,38).ngClassPending),t(e,50,0,Vr(e,55).ngClassUntouched,Vr(e,55).ngClassTouched,Vr(e,55).ngClassPristine,Vr(e,55).ngClassDirty,Vr(e,55).ngClassValid,Vr(e,55).ngClassInvalid,Vr(e,55).ngClassPending),t(e,65,0,Vr(e,71).ngClassUntouched,Vr(e,71).ngClassTouched,Vr(e,71).ngClassPristine,Vr(e,71).ngClassDirty,Vr(e,71).ngClassValid,Vr(e,71).ngClassInvalid,Vr(e,71).ngClassPending),t(e,80,0,"Owner"===n.role),t(e,86,0,"Developer"===n.role),t(e,95,0,"Developer"===n.role);var i=t(e,100,0,"Admin","Developer").includes(n.role);t(e,99,0,i)}))}function Ig(t){return Jo(0,[Zr(0,rs,[Di]),(t()(),Ro(16777216,null,null,1,null,Tg)),Jr(2,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(3,0,null,null,13,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","addmembers"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,12,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,11,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Mo(6,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Mo(7,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalLabel"]],null,null,null,null,null)),(t()(),$o(-1,null,["Add Members"])),(t()(),Mo(9,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Mo(10,0,null,null,1,"app-select-users",[],null,[[null,"onMemberAdded"]],(function(t,e,n){var r=!0;return"onMemberAdded"===e&&(r=!1!==t.component.onMemberAdded(n)&&r),r}),Ap,Sp)),Jr(11,245760,null,0,Tp,[Ip,sp],{blockedMembers:[0,"blockedMembers"]},{onMemberAdded:"onMemberAdded"}),(t()(),Mo(12,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Mo(13,0,null,null,1,"button",[["class","btn btn-danger btn-sm"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),$o(-1,null,["Close"])),(t()(),Mo(15,0,null,null,1,"button",[["class","btn  btn-primary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addNewMembers()&&r),r}),null,null)),(t()(),$o(-1,null,["Save changes"]))],(function(t,e){var n=e.component;t(e,2,0,!!n.userInProject),t(e,11,0,n.membersName)}),null)}var Sg=xr("app-project-settings",wg,(function(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"app-project-settings",[],null,null,null,Ig,Cg)),Jr(1,114688,null,0,wg,[sp,dv,fh,Ip],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),xg=function(){function t(e,n){_classCallCheck(this,t),this._http=e,this._data=n,this.buttonText="",this.onUserSelected=new wi,this.searchData=[],this.searchText="",this.avatars=ia.userImages}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.$following=this._data.getFollowing().subscribe((function(e){t.following=e}))}},{key:"searchUsers",value:function(t){return lp(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this._http.GET("/users/search/"+t).toPromise();case 5:n=e.sent,console.time(),this.searchData=_toConsumableArray(n),console.timeEnd(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("Error Occured"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})))}},{key:"buttonClicked",value:function(t){this.onUserSelected.emit(t)}},{key:"ngOnDestroy",value:function(){this.$following.unsubscribe()}}]),t}(),Og=Bn({encapsulation:0,styles:[""],data:{}});function Pg(t){return Jo(0,[(t()(),Mo(0,0,null,null,7,"div",[["class","my-2"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"img",[["alt","Claire Connors"],["class","avatar mr-2"]],[[8,"src",4]],null,null,null,null)),(t()(),Mo(2,0,null,null,1,"span",[["class","h6 mb-0"]],null,null,null,null,null)),(t()(),$o(3,null,[" "," "])),(t()(),Mo(4,0,null,null,3,"a",[["class","btn btn-outline-primary float-right"],["role","button"],["style","width: 90px; font-size: 11.5px; padding: 2px;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Vr(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==i.buttonClicked(t.context.$implicit)&&r),r}),null,null)),Jr(5,671744,null,0,kf,[Cf,fh,ca],{routerLink:[0,"routerLink"]},null),Go(6,1),(t()(),$o(7,null,["",""]))],(function(t,e){var n=t(e,6,0,"profile/"+e.context.$implicit.userName);t(e,5,0,n)}),(function(t,e){var n=e.component;t(e,1,0,n.avatars[e.context.$implicit.avatar]),t(e,3,0,e.context.$implicit.userName),t(e,4,0,Vr(e,5).target,Vr(e,5).href),t(e,7,0,n.buttonText)}))}function Ng(t){return Jo(0,[(t()(),Mo(0,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,1,"div",[["style","margin: 15px 0 0 5px; font-size: 13px;"]],null,null,null,null,null)),(t()(),$o(-1,null,["Search"])),(t()(),Mo(3,0,null,null,2,"div",[["class","form-group-users"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,Pg)),Jr(5,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,5,0,e.component.searchData)}),null)}function Ag(t){return Jo(0,[(t()(),Mo(0,0,null,null,7,"div",[["class","my-2"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,0,"img",[["alt","Claire Connors"],["class","avatar mr-2"]],[[8,"src",4]],null,null,null,null)),(t()(),Mo(2,0,null,null,1,"span",[["class","h6 mb-0"]],null,null,null,null,null)),(t()(),$o(3,null,[" "," "])),(t()(),Mo(4,0,null,null,3,"a",[["class","btn btn-outline-primary float-right"],["role","button"],["style","width: 90px; font-size: 11.5px; padding: 2px;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(5,671744,null,0,kf,[Cf,fh,ca],{routerLink:[0,"routerLink"]},null),Go(6,1),(t()(),$o(7,null,["",""]))],(function(t,e){var n=t(e,6,0,"/profile/"+(e.context.$implicit.name||e.context.$implicit.userName));t(e,5,0,n)}),(function(t,e){var n=e.component;t(e,1,0,n.avatars[e.context.$implicit.avatar]),t(e,3,0,null==e.context.$implicit?null:e.context.$implicit.userName),t(e,4,0,Vr(e,5).target,Vr(e,5).href),t(e,7,0,n.buttonText)}))}function Dg(t){return Jo(0,[(t()(),Mo(0,0,null,null,10,"div",[["class","input-group input-group-round mt-1"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,["filter_list"])),(t()(),Mo(5,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["name","search2"],["placeholder","Search "],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Vr(t,6)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Vr(t,6).onTouched()&&r),"compositionstart"===e&&(r=!1!==Vr(t,6)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Vr(t,6)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.searchText=n)&&r),"ngModelChange"===e&&(r=!1!==i.searchUsers(n)&&r),r}),null,null)),Jr(6,16384,null,0,nd,[on,tn,[2,ed]],null,null),ti(1024,null,Zf,(function(t){return[t]}),[nd]),Jr(8,671744,null,0,Qd,[[8,null],[8,null],[8,null],[6,Zf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ti(2048,null,ld,null,[Qd]),Jr(10,16384,null,0,sd,[[4,ld]],null,null),(t()(),Ro(16777216,null,null,1,null,Ng)),Jr(12,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(13,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Mo(14,0,null,null,1,"div",[["style","margin: 15px 0 0 5px; font-size: 13px;"]],null,null,null,null,null)),(t()(),$o(-1,null,["People you might know"])),(t()(),Mo(16,0,null,null,2,"div",[["class","form-group-users"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,Ag)),Jr(18,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,8,0,"search2",n.searchText),t(e,12,0,0!==(null==n.searchData?null:n.searchData.length)),t(e,18,0,n.following)}),(function(t,e){t(e,5,0,Vr(e,10).ngClassUntouched,Vr(e,10).ngClassTouched,Vr(e,10).ngClassPristine,Vr(e,10).ngClassDirty,Vr(e,10).ngClassValid,Vr(e,10).ngClassInvalid,Vr(e,10).ngClassPending)}))}var Rg=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._auth=e,this._data=n,this._http=r,this._router=i,this.currentUrl="",this.avatars=ia.userImages,this.materialIcons={Project:"domain",Follow:"person_add",Job:"work_outline"},i.events.pipe(bs((function(t){return t instanceof sc}))).subscribe((function(t){o.currentUrl=t.url}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.$userData=this._data.getUser().subscribe((function(e){try{e.notify.reverse()}catch(n){}finally{t.userData=e}}))}},{key:"ngOnDestroy",value:function(){this.$userData.unsubscribe()}},{key:"logOut",value:function(){confirm("Are you sure you want to log out?")&&this._auth.LogOut()}},{key:"deleteNotify",value:function(){var t=this;this.userData.notify=[],this._http.POST("/users/update/notifySeen",{}).toPromise().then((function(e){e.success&&t._data.setUser(t.userData)}))}}]),t}(),Mg=Bn({encapsulation:0,styles:[["nav[_ngcontent-%COMP%]{height:100%;background-color:#000;width:230px}#wrapper[_ngcontent-%COMP%]{color:wheat;position:-webkit-sticky;position:sticky;top:-100px;padding-top:30px;overflow:scroll}#wrapper[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Nunito,sans-serif;background:#f2709c;background:linear-gradient(to right,#ff9472,#f2709c);padding:5px 20px 5px 5px;margin:0 20px;border-radius:10px;cursor:pointer}#wrapper[_ngcontent-%COMP%]   #userInfo[_ngcontent-%COMP%]{font-family:Nunito,sans-serif;text-align:center;margin-top:40px}#wrapper[_ngcontent-%COMP%]   #userInfo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}#wrapper[_ngcontent-%COMP%]   #userInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:15px;margin-top:7px;letter-spacing:2px;color:#fff;text-transform:capitalize}#wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:30px 10px}#wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], #wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:8px 25px;margin:15px 5px;position:relative;font-family:Nunito,sans-serif;font-size:12px;border-radius:3px;color:#fff;cursor:pointer;letter-spacing:1px;display:flex}#wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], #wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:5px 10px 2px 2px;font-size:20px}#wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], #wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 0}#wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], #wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#000;background-color:#fff}#wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   #contactInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Nunito,sans-serif;font-size:12px;color:#fff}#wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   #contactInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#a0a0a0;font-size:11px;padding-top:5px}#wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   #logOut[_ngcontent-%COMP%]{text-align:center;color:#fff;font-family:Nunito,sans-serif;margin-top:30px;cursor:pointer}"]],data:{}});function Lg(t){return Jo(0,[(t()(),Mo(0,0,null,null,58,"nav",[],null,null,null,null,null)),(t()(),Mo(1,0,null,null,57,"div",[["id","wrapper"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,2,"h6",[],null,null,null,null,null)),(t()(),Mo(3,0,null,null,0,"img",[["alt","..."],["class","avatar mr-1"],["src","../../../assets/images/logo.png"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Teams MS "])),(t()(),Mo(5,0,null,null,3,"div",[["id","userInfo"]],null,null,null,null,null)),(t()(),Mo(6,0,null,null,0,"img",[["alt","..."],["class","avatar avatar-lg mr-1"]],[[8,"src",4]],null,null,null,null)),(t()(),Mo(7,0,null,null,1,"div",[["style","color: white;"]],null,null,null,null,null)),(t()(),$o(8,null,[" "," "])),(t()(),Mo(9,0,null,null,0,"hr",[["style","width: 40%; margin-bottom: 10px;"]],null,null,null,null,null)),(t()(),Mo(10,0,null,null,48,"ul",[],null,null,null,null,null)),(t()(),Mo(11,0,null,null,9,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,15).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(13,278528,null,0,$a,[Ka],{ngClass:[0,"ngClass"]},null),Ko(14,{active:0}),Jr(15,671744,null,0,kf,[Cf,fh,ca],{routerLink:[0,"routerLink"]},null),Go(16,1),(t()(),Mo(17,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,[" bar_chart "])),(t()(),Mo(19,0,null,null,1,"span",[["style","text-align: center;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Dashboard "])),(t()(),Mo(21,0,null,null,4,"li",[["data-target","#findUsers"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Mo(22,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,[" search "])),(t()(),Mo(24,0,null,null,1,"span",[["style","text-align: center;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Find User "])),(t()(),Mo(26,0,null,null,6,"li",[["data-target","#notificationModel"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Mo(27,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,[" notifications_none "])),(t()(),Mo(29,0,null,null,3,"span",[["style","text-align: center;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Notifications "])),(t()(),Mo(31,0,null,null,1,"span",[["class","badge badge-pill badge-danger ml-1"],["style","padding: 5px;"]],null,null,null,null,null)),(t()(),$o(32,null,["",""])),(t()(),Mo(33,0,null,null,9,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,37).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ti(512,null,Ka,Qa,[yn,_n,tn,on]),Jr(35,278528,null,0,$a,[Ka],{ngClass:[0,"ngClass"]},null),Ko(36,{active:0}),Jr(37,671744,null,0,kf,[Cf,fh,ca],{routerLink:[0,"routerLink"]},null),Go(38,1),(t()(),Mo(39,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,[" account_circle "])),(t()(),Mo(41,0,null,null,1,"span",[["style","text-align: center; "]],null,null,null,null,null)),(t()(),$o(-1,null,[" Profile "])),(t()(),Mo(43,0,null,null,6,"a",[["id","settings"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Vr(t,44).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(44,671744,null,0,kf,[Cf,fh,ca],{routerLink:[0,"routerLink"]},null),Go(45,1),(t()(),Mo(46,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(-1,null,[" settings "])),(t()(),Mo(48,0,null,null,1,"span",[["style","text-align: center;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Settings "])),(t()(),Mo(50,0,null,null,0,"hr",[["style","background-color: white; width: 40%; margin-left: 0px;"]],null,null,null,null,null)),(t()(),Mo(51,0,null,null,5,"div",[["id","contactInfo"]],null,null,null,null,null)),(t()(),Mo(52,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),$o(-1,null,[" Need Help ? "])),(t()(),Mo(54,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Mo(55,0,null,null,1,"a",[["href","mailto:jassa.developer@gmail.com"]],null,null,null,null,null)),(t()(),$o(-1,null,["jassa.developer@gmail.com"])),(t()(),Mo(57,0,null,null,1,"div",[["id","logOut"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.logOut()&&r),r}),null,null)),(t()(),$o(-1,null,["LOG OUT"]))],(function(t,e){var n=e.component,r=t(e,14,0,"/home"===n.currentUrl);t(e,13,0,r);var i=t(e,16,0,"home");t(e,15,0,i);var o=t(e,36,0,n.currentUrl==="/profile/"+n.userData.userName);t(e,35,0,o);var l=t(e,38,0,"profile/"+n.userData.userName);t(e,37,0,l);var a=t(e,45,0,"settings");t(e,44,0,a)}),(function(t,e){var n=e.component;t(e,6,0,n.avatars[n.userData.avatar]),t(e,8,0,null==n.userData?null:n.userData.userName),t(e,11,0,Vr(e,15).target,Vr(e,15).href),t(e,32,0,null==n.userData.notify?null:n.userData.notify.length),t(e,33,0,Vr(e,37).target,Vr(e,37).href),t(e,43,0,Vr(e,44).target,Vr(e,44).href)}))}function Fg(t){return Jo(0,[(t()(),Mo(0,0,null,null,5,"div",[["class","mr-1 p-1"],["style","text-align: right;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,4,"span",[["class","badge badge-pill badge-primary"],["style","cursor: pointer;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.deleteNotify()&&r),r}),null,null)),(t()(),Mo(2,0,null,null,1,"i",[["class","material-icons"],["style","font-size: 11px;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" check "])),(t()(),Mo(4,0,null,null,1,"span",[["style","font-size: 12px;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Seen All "]))],null,null)}function jg(t){return Jo(0,[(t()(),Mo(0,0,null,null,13,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,12,"div",[["class","media align-items-center"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,4,"ul",[["class","avatars"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Mo(4,0,null,null,2,"div",[["class","avatar bg-primary"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),$o(6,null,["",""])),(t()(),Mo(7,0,null,null,6,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),Mo(8,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Mo(9,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),$o(10,null,["",""])),(t()(),Mo(11,0,null,null,2,"span",[["class","text-small"]],null,null,null,null,null)),(t()(),$o(12,null,["",""])),Zr(131072,fp,[ke,Yi])],null,(function(t,e){t(e,6,0,e.component.materialIcons[null==e.context.$implicit?null:e.context.$implicit.type]),t(e,10,0,e.context.$implicit.message),t(e,12,0,qn(e,12,0,Vr(e,13).transform(null==e.context.$implicit?null:e.context.$implicit.timeStamp)))}))}function Vg(t){return Jo(0,[(t()(),Mo(0,0,null,null,3,"div",[["style","text-align: center;padding: 30px;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),$o(-1,null,["No Notifications"])),(t()(),Mo(3,0,null,null,0,"img",[["alt","..."],["src","../../../assets/images/noNotification.svg"],["style","width: 200px; height: 200px;"]],null,null,null,null,null))],null,null)}function Ug(t){return Jo(0,[(t()(),Ro(16777216,null,null,2,null,Lg)),Jr(1,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),Go(2,3),(t()(),Mo(3,0,null,null,7,"div",[["aria-hidden","true"],["aria-labelledby","staticBackdropLabel"],["class","modal fade"],["data-backdrop","static"],["id","findUsers"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,6,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,5,"div",[["class","modal-content container m-2 pt-3"]],null,null,null,null,null)),(t()(),Mo(6,0,null,null,1,"app-search-users",[],null,null,null,Dg,Og)),Jr(7,245760,null,0,xg,[sp,Ip],{buttonText:[0,"buttonText"]},null),(t()(),Mo(8,0,null,null,2,"div",[["class","mt-3 mb-2 mx-2"]],null,null,null,null,null)),(t()(),Mo(9,0,null,null,1,"div",[["data-dismiss","modal"],["style","color: white; background-color: red; padding: 4px; border-radius: 7px; cursor: pointer; text-align: center;font-family: 'Nunito', sans-serif;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Close"])),(t()(),Mo(11,0,null,null,12,"div",[["aria-hidden","true"],["aria-labelledby","staticBackdropLabel"],["class","modal fade"],["data-backdrop","static"],["data-keyboard","false"],["id","notificationModel"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Mo(12,0,null,null,11,"div",[["class","modal-dialog"]],null,null,null,null,null)),(t()(),Mo(13,0,null,null,10,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,Fg)),Jr(15,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(16,0,null,null,2,"ol",[["class","list-group list-group-activity"]],null,null,null,null,null)),(t()(),Ro(16777216,null,null,1,null,jg)),Jr(18,278528,null,0,Xa,[Tn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ro(16777216,null,null,1,null,Vg)),Jr(20,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Mo(21,0,null,null,2,"div",[["style","text-align: center;padding: 30px;"]],null,null,null,null,null)),(t()(),Mo(22,0,null,null,1,"div",[["data-dismiss","modal"],["style","color: white; background-color: red; padding: 5px; border-radius: 7px; cursor: pointer; font-family: 'Nunito', sans-serif;"]],null,null,null,null,null)),(t()(),$o(-1,null,[" Close"]))],(function(t,e){var n=e.component,r=!t(e,2,0,"/auth/signin","/auth/signup","/").includes(n.currentUrl);t(e,1,0,r),t(e,7,0,"View Profile"),t(e,15,0,(null==n.userData.notify?null:n.userData.notify.length)>0),t(e,18,0,null==n.userData?null:n.userData.notify),t(e,20,0,0===(null==n.userData.notify?null:n.userData.notify.length))}),null)}var qg=function(){function t(e){_classCallCheck(this,t),this._view=e,this.isVisible=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._view.getObs().subscribe((function(e){t.isVisible=e.loader.isVisible}))}}]),t}(),Bg=Bn({encapsulation:0,styles:[["@-webkit-keyframes up{0%{top:-112.5px}100%{top:112.5px}}@keyframes up{0%{top:-112.5px}100%{top:112.5px}}@-webkit-keyframes down{0%{bottom:112.5px}100%{bottom:-112.5px}}@keyframes down{0%{bottom:112.5px}100%{bottom:-112.5px}}@-webkit-keyframes rotate{from{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes rotate{from{transform:rotate(0)}to{transform:rotate(360deg)}}@-webkit-keyframes jump{0%,50%{bottom:-25px}100%{bottom:112.5px}}@keyframes jump{0%,50%{bottom:-25px}100%{bottom:112.5px}}@-webkit-keyframes fade{0%,50%{opacity:0}100%,51%{opacity:1}}@keyframes fade{0%,50%{opacity:0}100%,51%{opacity:1}}@-webkit-keyframes spin1{0%,75%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes spin1{0%,75%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes spin2{0%,75%{transform:rotate(0)}100%{transform:rotate(-360deg)}}@keyframes spin2{0%,75%{transform:rotate(0)}100%{transform:rotate(-360deg)}}@-webkit-keyframes dolphin{0%,75%{transform:rotate(45deg)}100%{transform:rotate(-70deg)}}@keyframes dolphin{0%,75%{transform:rotate(45deg)}100%{transform:rotate(-70deg)}}@-webkit-keyframes splash{0%,75%{transform:scale(1,0)}100%{transform:scale(1,1)}}@keyframes splash{0%,75%{transform:scale(1,0)}100%{transform:scale(1,1)}}@-webkit-keyframes slide1{0%,52%{transform:translate(0)}100%{transform:translate(-62.5px)}}@keyframes slide1{0%,52%{transform:translate(0)}100%{transform:translate(-62.5px)}}@-webkit-keyframes slide2{0%,52%{transform:translate(0)}100%{transform:translate(62.5px)}}@keyframes slide2{0%,52%{transform:translate(0)}100%{transform:translate(62.5px)}}#blur[_ngcontent-%COMP%]{opacity:.8;background-color:#000}.bapp[_ngcontent-%COMP%]{width:100%;position:fixed;height:100%;padding:0;top:0;z-index:1}.container[_ngcontent-%COMP%]{overflow:hidden;position:relative;width:500px;height:250px;top:50%;left:50%;margin-left:-250px;margin-top:-125px;z-index:2}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;-webkit-animation:4s linear infinite rotate;animation:4s linear infinite rotate}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before{position:absolute;content:\"\";display:block}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   .splash[_ngcontent-%COMP%]{height:50px;width:125px;bottom:0;margin-bottom:-3px;left:50%;margin-left:-62.5px;overflow:hidden}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]{height:100%;width:100%;transform-origin:bottom center}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{left:50%;top:30%;width:22.7272727273px;height:22.7272727273px;margin-top:-11.3636363636px;margin-left:-11.3636363636px;border-radius:50%}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]:before{height:70%;width:50%}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]:before{left:0;bottom:0;border-bottom-right-radius:100%;margin-left:-11.3636363636px}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]:after{right:0;bottom:0;border-bottom-left-radius:100%;margin-right:-11.3636363636px}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   .droplet[_ngcontent-%COMP%]{width:25px;height:25px;left:50%;margin-left:-12.5px}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   .droplet[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   .droplet[_ngcontent-%COMP%]:before{background-size:100% 100%}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(1){box-shadow:0 -125px 0 125px #141414;background-color:#141414;margin-top:-25%;-webkit-animation:1s ease-in-out infinite alternate up;animation:1s ease-in-out infinite alternate up}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(1)   .splash[_ngcontent-%COMP%]{-webkit-animation:1s linear infinite slide1;animation:1s linear infinite slide1}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(1)   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]{-webkit-animation:1s -.25s infinite alternate splash;animation:1s -.25s infinite alternate splash}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(1)   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:#2092ed}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(1)   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(1)   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]:before{box-shadow:0 24.7272727273px 0 22.7272727273px #2092ed}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(1)   .droplet[_ngcontent-%COMP%]{-webkit-animation:1s infinite alternate jump;animation:1s infinite alternate jump}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(1)   .droplet[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(1)   .droplet[_ngcontent-%COMP%]:before{height:100%;width:100%}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(1)   .droplet[_ngcontent-%COMP%]:before{border-radius:50%;background-color:#2092ed;-webkit-animation:4s infinite fade;animation:4s infinite fade}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(1)   .droplet[_ngcontent-%COMP%]:after{background-image:url(\"data:image/svg+xml;utf8,<svg viewBox='0 0 10 10' xmlns='http://www.w3.org/2000/svg'><path fill='%232092ED' d='M0,10L5,0L10,10Z'/></svg>\");-webkit-animation:4s -2s infinite fade,4s linear -2.5s infinite spin1;animation:4s -2s infinite fade,4s linear -2.5s infinite spin1}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(2){box-shadow:0 -125px 0 125px #2092ed;bottom:0;margin-bottom:-25%;background-color:#2092ed;transform:rotate(180deg);-webkit-animation:1s ease-in-out infinite alternate down;animation:1s ease-in-out infinite alternate down}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(2)   .splash[_ngcontent-%COMP%]{-webkit-animation:1s linear -1s infinite slide2;animation:1s linear -1s infinite slide2}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(2)   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]{-webkit-animation:1s -1.25s infinite alternate splash;animation:1s -1.25s infinite alternate splash}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(2)   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:#141414}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(2)   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(2)   .splash[_ngcontent-%COMP%]   .splash-container[_ngcontent-%COMP%]:before{box-shadow:0 24.7272727273px 0 22.7272727273px #141414}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(2)   .droplet[_ngcontent-%COMP%]{-webkit-animation:1s -1s infinite alternate jump;animation:1s -1s infinite alternate jump}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(2)   .droplet[_ngcontent-%COMP%]:before{height:200%;width:200%;left:-50%;background-image:url(\"data:image/svg+xml;utf8,<svg viewBox='0 0 419 281' xmlns='http://www.w3.org/2000/svg'><path fill='%23141414' d='m212.0052,5.32781c-7.8024,2.96131 -14.9229,6.90809 -22.0992,10.425c-2.4471,1.19639 -5.22542,3.1008 -7.49191,3.68309c-5.77739,1.47781 -14.81609,-1.10729 -22.179,-1.37699c-18.40649,-0.66899 -30.32219,0.7197 -45.45239,3.05969c-7.08029,1.09351 -14.4105,2.1165 -20.62619,3.9858c-5.3085,1.5984 -11.3964,5.1678 -17.33671,8.16899c-9.3879,4.74719 -15.7815,9.21451 -23.1009,14.93549c-12.2334,9.55801 -19.9362,21.58951 -28.88922,34.80841c-3.90819,5.7702 -9.54024,14.36819 -9.81912,21.1968c-5.175,8.04479 -13.03829,12.9561 -15.01056,24.7347c2.75742,6.88829 9.90351,0.76289 14.20899,-1.5303c3.56133,-1.902 7.39218,-4.1754 10.5492,-5.08739c16.40151,-4.74239 39.25791,2.03699 55.22571,-2.3085c5.6613,-1.5399 10.5633,-4.64761 16.1871,-5.96371c5.3403,-1.25369 9.4242,0.96451 13.2318,2.65201c2.02261,0.89999 4.1541,2.1153 5.9907,3.08309c11.898,6.30601 23.7888,12.9927 39.76289,15.51c12.82021,2.019 23.95889,-1.8318 34.38031,-3.9117c2.646,-0.52859 6.06209,-0.33751 8.06848,-2.6532c-8.31808,-1.9278 -15.22049,-5.2149 -23.90639,-8.7222c-11.4093,-4.6044 -20.2722,-7.7193 -24.5847,-16.96291c5.1069,-1.37251 11.02139,-0.35519 16.3383,0.6c5.80531,1.04041 11.5665,2.01541 17.13629,2.95651c23.5218,3.9714 41.23351,10.63949 59.1387,19.29149c8.69879,4.1988 16.71451,10.0452 24.08551,14.9553c15.0972,10.0665 27.98669,22.56691 40.14209,36.183c5.505,6.16621 10.41599,13.8855 16.38599,21.246c2.60703,3.21811 5.22903,6.8064 8.01901,10.77661c2.66098,3.77579 6.72601,8.4012 7.29001,11.7036c0.633,3.64319 -1.25403,7.64159 -2.202,11.62379c-1.64401,6.9234 -2.853,14.34599 -2.30402,21.45111c0.71701,9.19218 2.72104,18.14415 6.92102,25.1086c1.82098,-1.6629 2.56497,-4.58673 3.50098,-7.26801c4.60199,-6.03394 10.72501,-12.05856 10.87802,-22.10036c12.57001,6.66328 36.98401,6.10312 51.64499,5.9332c4.40698,-0.05275 8.89801,0.4254 12.54898,-1.33243c-7.69797,-4.57968 -13.34998,-10.37592 -20.04297,-16.28682c-10.125,-8.9355 -18.49802,-16.4637 -33.42603,-21.24359c-4.83899,-1.54921 -10.37698,-2.38831 -13.02896,-5.25931c-2.03702,-2.19749 -2.65805,-7.06529 -3.69003,-11.75159c-2.78101,-12.675 -6.39899,-26.1201 -9.621,-36.78511c-9.68097,-32.06039 -24.45297,-60.5544 -44.1084,-82.6842c-9.9585,-11.2218 -21.85529,-20.35889 -34.67789,-30.5202c-2.1915,-3.52379 -6.2955,-8.27941 -7.1451,-13.6548c-0.86821,-5.5335 0.69719,-10.39079 4.03139,-14.10809c7.29239,-5.4585 18.74762,-6.06211 23.7045,-14.23471c-6.47791,-4.78261 -14.51581,-6.1842   -22.4025,-6.96691c-17.04269,-1.6899 -33.0072,-0.37859 -46.2258,4.64072'/></svg>\");-webkit-animation:4s -1s infinite fade,4s ease-in-out -1.5s infinite dolphin;animation:4s -1s infinite fade,4s ease-in-out -1.5s infinite dolphin}.container[_ngcontent-%COMP%]   .subcontainer[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]:nth-child(2)   .droplet[_ngcontent-%COMP%]:after{height:100%;width:100%;background-color:#141414;-webkit-animation:4s -3s infinite fade,4s linear -3.5s infinite spin2;animation:4s -3s infinite fade,4s linear -3.5s infinite spin2}"]],data:{}});function zg(t){return Jo(0,[(t()(),Mo(0,0,null,null,0,"div",[["class","bapp"],["id","blur"]],null,null,null,null,null))],null,null)}function Hg(t){return Jo(0,[(t()(),Mo(0,0,null,null,12,"div",[["class","bapp"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,11,"div",[["class","container"],["style","border-radius: 10px;"]],null,null,null,null,null)),(t()(),Mo(2,0,null,null,10,"div",[["class","subcontainer"]],null,null,null,null,null)),(t()(),Mo(3,0,null,null,4,"div",[["class","half"]],null,null,null,null,null)),(t()(),Mo(4,0,null,null,0,"div",[["class","droplet"]],null,null,null,null,null)),(t()(),Mo(5,0,null,null,2,"div",[["class","splash"]],null,null,null,null,null)),(t()(),Mo(6,0,null,null,1,"div",[["class","splash-container"]],null,null,null,null,null)),(t()(),Mo(7,0,null,null,0,"div",[["class","circle"]],null,null,null,null,null)),(t()(),Mo(8,0,null,null,4,"div",[["class","half"]],null,null,null,null,null)),(t()(),Mo(9,0,null,null,0,"div",[["class","droplet"]],null,null,null,null,null)),(t()(),Mo(10,0,null,null,2,"div",[["class","splash"]],null,null,null,null,null)),(t()(),Mo(11,0,null,null,1,"div",[["class","splash-container"]],null,null,null,null,null)),(t()(),Mo(12,0,null,null,0,"div",[["class","circle"]],null,null,null,null,null))],null,null)}function Wg(t){return Jo(0,[(t()(),Ro(16777216,null,null,1,null,zg)),Jr(1,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null),(t()(),Ro(16777216,null,null,1,null,Hg)),Jr(3,16384,null,0,Za,[Tn,kn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.isVisible),t(e,3,0,n.isVisible)}),null)}var Gg=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),Kg=Bn({encapsulation:0,styles:[[".footer[_ngcontent-%COMP%]{background:#152f4f;color:#fff}.footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;transition:color .2s}.footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#4180cb}.footer[_ngcontent-%COMP%]   .about-company[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.footer[_ngcontent-%COMP%]   .about-company[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;transition:color .2s}.footer[_ngcontent-%COMP%]   .about-company[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#4180cb}.footer[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.1)}"]],data:{}});function Qg(t){return Jo(0,[],null,null)}var $g=Bn({encapsulation:0,styles:[[""]],data:{}});function Yg(t){return Jo(0,[(t()(),Mo(0,0,null,null,5,"div",[["style","display:flex; background-color: black;"]],null,null,null,null,null)),(t()(),Mo(1,0,null,null,1,"app-navbar",[],null,null,null,Ug,Mg)),Jr(2,245760,null,0,Rg,[fv,Ip,sp,Cf],null,null),(t()(),Mo(3,0,null,null,2,"div",[["style","width:100%; flex-grow: 2; margin: 30px 2px; background-color: #F8F9FA; border-top-left-radius: 30px; border-bottom-left-radius: 30px ;padding: 20px;"]],null,null,null,null,null)),(t()(),Mo(4,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Jr(5,212992,null,0,Sf,[If,Tn,Ye,[8,null],ke],null,null),(t()(),Mo(6,0,null,null,1,"app-loading",[],null,null,null,Wg,Bg)),Jr(7,114688,null,0,qg,[dv],null,null),(t()(),Mo(8,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Mo(9,0,null,null,1,"app-footer",[],null,null,null,Qg,Kg)),Jr(10,114688,null,0,Gg,[],null,null)],(function(t,e){t(e,2,0),t(e,5,0),t(e,7,0),t(e,10,0)}),null)}var Xg=xr("app-root",aa,(function(t){return Jo(0,[(t()(),Mo(0,0,null,null,1,"app-root",[],null,null,null,Yg,$g)),Jr(1,114688,null,0,aa,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Jg=function t(){_classCallCheck(this,t)},Zg=function t(){_classCallCheck(this,t)},tm=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),em=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return nm(t)}},{key:"encodeValue",value:function(t){return nm(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function nm(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var rm=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new em,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var r=t.indexOf("="),i=_slicedToArray(-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],2),o=i[0],l=i[1],a=n.get(o)||[];a.push(l),n.set(o,a)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var r=n.fromObject[t];e.map.set(t,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function im(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function om(t){return"undefined"!=typeof Blob&&t instanceof Blob}function lm(t){return"undefined"!=typeof FormData&&t instanceof FormData}var am=function(){function t(e,n,r,i){var o;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new tm),this.params){var l=this.params.toString();if(0===l.length)this.urlWithParams=n;else{var a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+l}}else this.params=new rm,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:im(this.body)||om(this.body)||lm(this.body)||"string"==typeof this.body?this.body:this.body instanceof rm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body?null:lm(this.body)?null:om(this.body)?this.body.type||null:im(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,s=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(s=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),s)),e.setParams&&(u=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),u)),new t(n,r,o,{params:u,headers:s,reportProgress:a,responseType:i,withCredentials:l})}}]),t}(),sm=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),um=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new tm,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},cm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=sm.ResponseHeader,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(um),hm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=sm.Response,t.body=void 0!==r.body?r.body:null,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(um),fm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(um);function dm(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var pm=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof am)n=t;else{var o=void 0;o=i.headers instanceof tm?i.headers:new tm(i.headers);var l=void 0;i.params&&(l=i.params instanceof rm?i.params:new rm({fromObject:i.params})),n=new am(t,e,void 0!==i.body?i.body:null,{headers:o,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var a=hs(n).pipe(Js((function(t){return r.handler.handle(t)})));if(t instanceof am||"events"===i.observe)return a;var s=a.pipe(bs((function(t){return t instanceof hm})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return s.pipe(H((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return s.pipe(H((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return s.pipe(H((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return s.pipe(H((function(t){return t.body})))}case"response":return s;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new rm).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,dm(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,dm(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,dm(n,e))}}]),t}(),vm=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),gm=new It("HTTP_INTERCEPTORS"),mm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}(),ym=/^\)\]\}',?\n/,_m=function t(){_classCallCheck(this,t)},bm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}(),wm=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new k((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var l=t.serializeBody(),a=null,s=function(){if(null!==a)return a;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new tm(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new cm({headers:i,status:e,statusText:n,url:o})},u=function(){var e=s(),i=e.headers,o=e.status,l=e.statusText,a=e.url,u=null;204!==o&&(u=void 0===r.response?r.responseText:r.response),0===o&&(o=u?200:0);var c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof u){var h=u;u=u.replace(ym,"");try{u=""!==u?JSON.parse(u):null}catch(f){u=h,c&&(c=!1,u={error:f,text:u})}}c?(n.next(new hm({body:u,headers:i,status:o,statusText:l,url:a||void 0})),n.complete()):n.error(new fm({error:u,headers:i,status:o,statusText:l,url:a||void 0}))},c=function(t){var e=s().url,i=new fm({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(s()),h=!0);var i={type:sm.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:sm.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",u),r.addEventListener("error",c),t.reportProgress&&(r.addEventListener("progress",f),null!==l&&r.upload&&r.upload.addEventListener("progress",d)),r.send(l),n.next({type:sm.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",u),t.reportProgress&&(r.removeEventListener("progress",f),null!==l&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),t}(),Cm=new It("XSRF_COOKIE_NAME"),km=new It("XSRF_HEADER_NAME"),Em=function t(){_classCallCheck(this,t)},Tm=function(){function t(e,n,r){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ga(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}(),Im=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}(),Sm=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(gm,[]);this.chain=e.reduceRight((function(t,e){return new vm(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}(),xm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Im,useClass:mm}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Cm,useValue:e.cookieName}:[],e.headerName?{provide:km,useValue:e.headerName}:[]]}}}]),t}(),Om=function t(){_classCallCheck(this,t)},Pm=function(){function t(e){_classCallCheck(this,t),this._auth=e}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.clone({setHeaders:{xauthtoken:this._auth.getToken()||""}});return e.handle(n)}}]),t}(),Nm=function(){function t(e,n){_classCallCheck(this,t),this._auth=e,this._http=n}return _createClass(t,[{key:"canActivate",value:function(t,e){var n=this,r=this._auth.routeGuard(!1);return r.then((function(t){t||n._http.REDIRECT("/auth/signin")})),r}}]),t}(),Am=function t(){_classCallCheck(this,t)},Dm=function t(){_classCallCheck(this,t)},Rm=function t(){_classCallCheck(this,t)},Mm=function t(){_classCallCheck(this,t)},Lm=function t(){_classCallCheck(this,t)},Fm=function t(){_classCallCheck(this,t)},jm=function t(){_classCallCheck(this,t)},Vm=function t(){_classCallCheck(this,t)},Um=function t(){_classCallCheck(this,t)},qm=new ra(la,[aa],(function(t){return function(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===Te&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[Un(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([wr(512,Ye,Xe,[[8,[Xf,Kp,Jp,sv,gv,bv,bg,Sg,Xg]],[3,Ye],Lt]),wr(5120,Di,No,[[3,Di]]),wr(4608,Ha,Wa,[Di,[2,za]]),wr(5120,vi,Ao,[Yi]),wr(5120,Ii,Si,[]),wr(5120,yn,Oo,[]),wr(5120,_n,Po,[]),wr(4608,$u,Yu,[os]),wr(6144,me,null,[$u]),wr(4608,Bu,Hu,[]),wr(5120,mu,(function(t,e,n,r,i,o,l,a){return[new Uu(t,e,n),new Qu(r),new Wu(i,o,l,a)]}),[os,Yi,Pi,os,os,Bu,Ai,[2,zu]]),wr(4608,yu,yu,[mu,Yi]),wr(135680,wu,wu,[os]),wr(4608,Iu,Iu,[yu,wu,Ii]),wr(6144,nn,null,[Iu]),wr(6144,bu,null,[wu]),wr(4608,io,io,[Yi]),wr(5120,fh,Hf,[Cf]),wr(4608,Nf,Nf,[]),wr(6144,Of,null,[Nf]),wr(135680,Af,Af,[Cf,mo,qi,Se,Of]),wr(4608,Pf,Pf,[]),wr(5120,Df,Vf,[Cf,ls,Rf]),wr(5120,Qf,Kf,[Wf]),wr(5120,Ni,(function(t){return[t]}),[Qf]),wr(4608,_d,_d,[]),wr(4608,Em,Tm,[os,Pi,Cm]),wr(4608,Im,Im,[Em,km]),wr(4608,bm,bm,[]),wr(6144,_m,null,[bm]),wr(4608,wm,wm,[_m]),wr(6144,Zg,null,[wm]),wr(4608,Jg,Sm,[Zg,Se]),wr(4608,pm,pm,[Jg]),wr(4608,sp,sp,[pm,Cf]),wr(4608,Ip,Ip,[sp]),wr(4608,fv,fv,[sp,Ip]),wr(5120,gm,(function(t,e){return[t,new Pm(e)]}),[Im,fv]),wr(4608,Nm,Nm,[fv,sp]),wr(4608,dv,dv,[]),wr(1073742336,is,is,[]),wr(1024,Wt,ic,[]),wr(1024,so,(function(){return[Ff()]}),[]),wr(512,Wf,Wf,[Se]),wr(1024,Ei,(function(t,e){return[(n=t,pu("probe",gu),pu("coreTokens",Object.assign({},vu,(n||[]).reduce((function(t,e){return t[e.name]=e.token,t}),{}))),function(){return gu}),Gf(e)];var n}),[[2,so],Wf]),wr(512,Ti,Ti,[[2,Ei]]),wr(131584,vo,vo,[Yi,Ai,Se,Wt,Ye,Ti]),wr(1073742336,Do,Do,[vo]),wr(1073742336,oc,oc,[[3,oc]]),wr(1024,Mf,qf,[[3,Cf]]),wr(512,Hc,Wc,[]),wr(512,If,If,[]),wr(256,Rf,{useHash:!0},[]),wr(1024,ca,Uf,[sa,[2,ha],Rf]),wr(512,fa,fa,[ca,sa]),wr(512,qi,qi,[]),wr(512,mo,bo,[qi,[2,yo]]),wr(1024,vf,(function(){return[[{path:"home",component:Hp,canActivate:[Nm]},{path:"settings",component:Qp,canActivate:[Nm]},{path:"profile",children:[{path:":userName",component:Zp}],canActivate:[Nm]},{path:"",redirectTo:"auth/signin",pathMatch:"full"}],[{path:"auth",children:[{path:"signin",component:cv},{path:"signup",component:mv},{path:"",redirectTo:"signin",pathMatch:"full"}]}],[{path:"project",children:[{path:":name",children:[{path:"",component:hg},{path:"settings",component:wg}]}],canActivate:[Nm]}]]}),[]),wr(1024,Cf,zf,[vo,Hc,If,fa,Se,mo,qi,vf,Rf,[2,mf],[2,df]]),wr(1073742336,jf,jf,[[2,Mf],[2,Cf]]),wr(1073742336,Am,Am,[]),wr(1073742336,tp,tp,[]),wr(1073742336,ep,ep,[]),wr(1073742336,Dm,Dm,[]),wr(1073742336,Rm,Rm,[]),wr(1073742336,Mm,Mm,[]),wr(1073742336,Lm,Lm,[]),wr(1073742336,Fm,Fm,[]),wr(1073742336,xm,xm,[]),wr(1073742336,Om,Om,[]),wr(1073742336,jm,jm,[]),wr(1073742336,Vm,Vm,[]),wr(1073742336,Um,Um,[]),wr(1073742336,la,la,[]),wr(256,Te,!0,[]),wr(256,Cm,"XSRF-TOKEN",[]),wr(256,km,"X-XSRF-TOKEN",[])])}));ia.production&&function(){if(Kt)throw new Error("Cannot enable prod mode after platform setup.");Gt=!1}(),rc().bootstrapModuleFactory(qm).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw l(e)},l=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],l=i+1<t.length,a=l?t[i+1]:0,s=i+2<t.length,u=s?t[i+2]:0,c=(15&a)<<2|u>>6,h=63&u;s||(h=64,l||(c=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var l=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,s=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==l||null==a||null==s)throw Error();r.push(o<<2|l>>4),64!==a&&(r.push(l<<4&240|a>>2),64!==s&&r.push(a<<6&192|s))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],l=o?g(o,r):"Error",a=this.serviceName+": "+l+" ("+i+").",s=new p(i,a),u=0,c=Object.keys(r);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in s&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),s[h]=r[h])}return s},t}();function g(t,e){return t.replace(m,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var _=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(u(o[0])||""),n=y(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(l){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,l=this.chain_[0],a=this.chain_[1],s=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(s^u),o=1518500249):(i=a^s^u,o=1859775393):r<60?(i=a&s|u&(a|s),o=2400959708):(i=a^s^u,o=3395469782);var h=(l<<5|l>>>27)+i+c+o+n[r]&4294967295;c=u,u=s,s=4294967295&(a<<30|a>>>2),a=l,l=h}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}function k(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=v,e.FirebaseError=p,e.Sha1=b,e.assert=o,e.assertionError=l,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=s,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return s.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=k,e.getUA=f,e.isAdmin=function(t){var e=_(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=_(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var l=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(l<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(k(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(k(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(k(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);